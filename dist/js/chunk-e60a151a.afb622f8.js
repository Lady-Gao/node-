(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e60a151a"],{"328d":function(e,t,a){"use strict";a.r(t);var r={computed:{_table1:function(){return this.$refs.table1},_table2:function(){return this.$refs.table2},_table3:function(){return this.$refs.table3}},data:function(){return{searchParams:{enterpriseId:0,startTime:this.$filter.format(new Date,"yyyy-MM-dd start"),endTime:this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss"),sourcesType:"1"},SEtime:[this.$filter.format(new Date,"yyyy-MM-dd start"),this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")],tabs:{activeName:"tabs0"},source:[{name:"终端",value:"1"},{name:"平台",value:"2"}],pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}}}},methods:{search:function(){return this.SEtime?3<this.$filter.timeRange(this.SEtime[0],this.SEtime[1])?(this.$message.warning("查询时间不能超过3天"),!1):void this.tabSwitch(this.tabs.activeName):(this.$message.warning("请选择时间!"),!1)},tabSwitch:function(e){switch(e){case"tabs0":this.searchParams.sourcesType=0,this._table1.tableInitial(!0);break;case"tabs1":this._table2.tableInitial(!0);break;case"tabs2":this._table3.tableInitial(!0)}},plateColor:function(e,t,a){return this.$filter.plateCodeColor(e.plateColor)},outPut:function(){if(!this.SEtime)return this.$message.warning("请选择时间!"),!1;var e={},t="";t="tabs0"==this.tabs.activeName?(e={startTime:this.$filter.format(new Date(this.SEtime[0]),"yyyy-MM-dd HH:mm:ss"),endTime:this.$filter.format(new Date(this.SEtime[1]),"yyyy-MM-dd HH:mm:ss"),enterpriseId:this.searchParams.enterpriseId},"/alarmInfo/exportSpeedInfoList"):"tabs1"==this.tabs.activeName?(e={startTime:this.$filter.format(new Date(this.SEtime[0]),"yyyy-MM-dd HH:mm:ss"),endTime:this.$filter.format(new Date(this.SEtime[1]),"yyyy-MM-dd HH:mm:ss"),sourcesType:this.searchParams.sourcesType,enterpriseId:this.searchParams.enterpriseId},"/alarmInfo/exportSpeedInfoList"):(e={startTime:this.$filter.format(new Date(this.SEtime[0]),"yyyy-MM-dd HH:mm:ss"),endTime:this.$filter.format(new Date(this.SEtime[1]),"yyyy-MM-dd HH:mm:ss"),sourcesType:this.searchParams.sourcesType,enterpriseId:this.searchParams.enterpriseId},"/alarmInfo/exportSpeedDetailsListInfo");var a=this.$service.winParams(this.$COMMON.baseUrl+t,e);window.location.href=a}},watch:{SEtime:function(e){this.searchParams.startTime=e?e[0]:"",this.searchParams.endTime=e?e[1]:""},"tabs.activeName":function(e){switch(e){case"tabs0":this.searchParams.sourcesType=0;break;case"tabs1":case"tabs2":this.searchParams.sourcesType="1"}}}},s=(a("b371"),a("2877")),o=Object(s.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"osCount"},[a("cv-operation",{attrs:{position:"left"}},[a("el-form-item",{attrs:{label:e.$t("reportForm.osCount.SEtime")}},[a("el-date-picker",{attrs:{clearable:!1,editable:!1,"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange",placeholder:e.$t("reportForm.speedDetailSearch.timeRange"),"picker-options":e.pickerOption},model:{value:e.SEtime,callback:function(t){e.SEtime=t},expression:"SEtime"}})],1),e._e(),a("el-form-item",{attrs:{label:e.$t("reportForm.osCount.enterpriseName")}},[a("cv-dropdown-tree",{attrs:{url:"/enterprise/getEnterpriseTreeList",readonly:!1,label:e.label},on:{"update:label":function(t){e.label=t}},model:{value:e.searchParams.enterpriseId,callback:function(t){e.$set(e.searchParams,"enterpriseId",t)},expression:"searchParams.enterpriseId"}})],1),"tabs1"==e.tabs.activeName||"tabs2"==e.tabs.activeName?a("el-form-item",{attrs:{label:e.$t("reportForm.osCount.alarmO")}},[a("el-select",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.searchParams.sourcesType,callback:function(t){e.$set(e.searchParams,"sourcesType",t)},expression:"searchParams.sourcesType"}},e._l(e.source,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.value}})}),1)],1):e._e(),a("el-form-item",{staticStyle:{float:"right"}},[a("cv-tool",{staticClass:"cv-tool",staticStyle:{margin:"0"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-add":!1,"is-modify":!1,"is-remove":!1},on:{search:e.search,export:e.outPut}})],1)],1),a("cv-content",[a("cv-tabs",{attrs:{titles:[e.$t("reportForm.osCount.countInfo"),e.$t("reportForm.osCount.alarmT"),e.$t("reportForm.osCount.speedDetail")],"force-render":!1},model:{value:e.tabs.activeName,callback:function(t){e.$set(e.tabs,"activeName",t)},expression:"tabs.activeName"}},[a("cv-grid",{ref:"table1",attrs:{params:e.searchParams,url:"/alarmInfo/findSpeedInfoList"}},[a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.plateCode"),align:"center","min-width":"80",prop:"plateCode"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.plateColor"),align:"center",formatter:e.plateColor,"min-width":"80",prop:"plateColor"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.enterpriseName"),align:"center","min-width":"120",prop:"enterpriseName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.fleetName"),align:"center","min-width":"120",prop:"fleetName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.osTimes"),align:"center","min-width":"60",prop:"num"}})],1),a("cv-grid",{ref:"table2",attrs:{params:e.searchParams,url:"/alarmInfo/findSpeedInfoList"}},[a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.plateCode"),align:"center","min-width":"80",prop:"plateCode"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.plateColor"),align:"center",formatter:e.plateColor,"min-width":"80",prop:"plateColor"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.enterpriseName"),align:"center","min-width":"120",prop:"enterpriseName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.fleetName"),align:"center","min-width":"120",prop:"fleetName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.alarmO"),align:"center","min-width":"60",prop:"sources"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.osTimes"),align:"center","min-width":"60",prop:"num"}})],1),a("cv-grid",{ref:"table3",attrs:{params:e.searchParams,url:"/alarmInfo/findSpeedDetailsListInfo"}},[a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.plateCode"),align:"center","min-width":"80",prop:"plateCode"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.plateColor"),align:"center","min-width":"80",formatter:e.plateColor,prop:"plateColor"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.alarmO"),align:"center","min-width":"80",prop:"sources"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.asTime"),align:"center","min-width":"180",prop:"startTime"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.aeTime"),align:"center","min-width":"180",prop:"endTime"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.asSpeed"),align:"center","min-width":"150",prop:"speedMax"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.aeSpeed"),align:"center","min-width":"150",prop:"speedMin"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.osp"),align:"center","min-width":"200",prop:"locationName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.ost1"),align:"center","min-width":"100",prop:"totalKeepTime"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.enterpriseName"),align:"center","min-width":"130",prop:"enterpriseName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.osCount.fleetName"),align:"center","min-width":"100",prop:"fleetName"}})],1)],1)],1)],1)},[],!1,null,null,null).exports;t.default=o},b371:function(e,t,a){"use strict";var r=a("d21c");a.n(r).a},d21c:function(e,t,a){}}]);