(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7b3c16f9"],{"05c0":function(e,t,i){"use strict";i("7f7f"),i("20d6"),i("ac6a");var a=i("cebc"),l=i("3f4e"),n=i("2f62"),o={name:"CvPublictreeContent",components:{CvContent:l.a},props:{model:String,vehicleMonitor:Function,loading:Boolean,noresize:{default:!1,type:Boolean}},data:function(){return{entryList:[],condition:""}},computed:Object(a.a)({},Object(n.c)(["onlineList","isAttention","socketEnterprise","socketVehicle","vehicle_data","vehicleCondition"]),{isCheck:function(){switch(this.model){case"multi":return!0;case"single":default:return!1}},_treeMethods:function(){return this.$refs.tabs},_contentMethods:function(){return this.$refs.content}}),beforeDestroy:function(){var e=this._treeMethods.getAllNodes;this.setStoreVehicleSearchCondition(this.condition),this.setStoreVehicleData(e())},mounted:function(){var e=this._treeMethods.$refs.tree.reference().ztreeApi;e()&&e().checkAllNodes(!1)},methods:Object(a.a)({},Object(n.b)(["setStoreVehicleData","setStoreVehicleSearchCondition"]),{handlerVehicleSearch:function(e){this.condition=e},vehicle_Monitor:function(e){var t=e.data;if(e.name,"function"==typeof this.vehicleMonitor)switch(this.model){case"multi":return this.vehicle_Monitor_multi(e);case"single":return this.vehicleMonitor(t[0])}},vehicle_Monitor_multi:function(e){var t=this,i=e.data;switch(e.name){case"check":this.entryList=this.entryList.concat(i);break;case"cancel":i.forEach(function(e){var i=t.entryList.findIndex(function(t){return t.id==e.id});0<=i&&t.entryList.splice(i,1)})}this.vehicleMonitor(this.entryList)}})},r=(i("45d7"),i("2877")),s=Object(r.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("cv-content",{ref:"content",attrs:{loading:e.loading,noresize:e.noresize}},[e.model?i("cv-tabs-tree",{ref:"tabs",staticClass:"vehiclemaster-tree",attrs:{slot:"aside","vehicle-search":e.vehicleCondition,"is-checked":e.isCheck,"tree-data":e.vehicle_data,"online-monitor":e.onlineList,"vehicle-monitor":e.socketVehicle,"attention-monitor":e.isAttention,"enterprise-fleet-monitor":e.socketEnterprise,"node-monitor":e.vehicle_Monitor},on:{"vehicle-choose-search":e.handlerVehicleSearch},slot:"aside"}):e._e(),e._t("default")],2)},[],!1,null,"2dfdf41b",null).exports;s.install=function(e){e.component(s.name,s)},t.a=s},"45d7":function(e,t,i){"use strict";var a=i("6e18");i.n(a).a},"6e18":function(e,t,i){},b784:function(e,t,i){"use strict";i.r(t),i("7f7f");var a={components:{CvPublictreeContent:i("05c0").a},data:function(){return{vehicleId:"",plateCode:"--",table:[],searchTime:this.$filter.format(new Date,"yyyy-MM")}},methods:{tableLoad:function(){var e=this,t=this.getData();t&&this.$store.dispatch("dayRunStatistic",t).then(function(t){var i=t.flag,a=t.errorCode,l=t.data;i&&(l?e.table=l:(e.table=[],e.$message.error(e.$t("error."+a))))})},down:function(){var e=this.getData();if(e){var t=this.$service.winParams(this.$COMMON.baseUrl+"/vehicleDailyReport/dayRunStatisticExport",e);window.location.href=t}},getData:function(){return this.vehicleId?this.searchTime?{vehicleId:this.vehicleId,searchDate:this.searchTime}:(this.$message.warning("请选择时间"),!1):(this.$message.warning("请选择车辆"),!1)},handlerVehicleMonitor:function(e){this.vehicleId=e.id,this.plateCode=e.plateCode}}},l=i("2877"),n=Object(l.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"energy"},[i("cv-operation",{attrs:{position:"left"}},[i("el-form-item",{attrs:{label:"车牌号码"}},[e._v("\n                "+e._s(e.plateCode)+"\n        ")]),i("el-form-item",{attrs:{label:"查询时间"}},[i("el-date-picker",{attrs:{type:"month",placeholder:"选择月",clearable:!1,"value-format":"yyyy-MM",editable:!1},model:{value:e.searchTime,callback:function(t){e.searchTime=t},expression:"searchTime"}})],1),i("el-form-item",{staticStyle:{float:"right"},attrs:{label:""}},[i("cv-tool",{staticClass:"cv-tool",staticStyle:{margin:"0"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-remove":!1,"is-add":!1,"is-modify":!1,"is-reset":!1},on:{search:e.tableLoad,export:e.down}})],1)],1),i("cv-publictree-content",{attrs:{model:"single","vehicle-monitor":e.handlerVehicleMonitor}},[i("cv-grid",{attrs:{data:e.table}},[i("el-table-column",{attrs:{label:"车牌号码",prop:"plateCode"}}),i("el-table-column",{attrs:{label:"车型",prop:"vehicleMode"}}),i("el-table-column",{attrs:{label:"日期",prop:"staticticDate"}}),i("el-table-column",{attrs:{label:"作业时间（当天累计)(h）"}},[i("el-table-column",{attrs:{label:"工作",prop:"workHoursMin"}}),i("el-table-column",{attrs:{label:"空跑",prop:"batholithHoursMin"}}),i("el-table-column",{attrs:{label:"作业",prop:"workDriverLastMin"}}),i("el-table-column",{attrs:{label:"效率(%)",prop:"efficiency"}})],1),i("el-table-column",{attrs:{label:"行驶里程（当天累计)(km）"}},[i("el-table-column",{attrs:{label:"行驶",prop:"mile"}}),i("el-table-column",{attrs:{label:"空跑",prop:"batholithMile"}}),i("el-table-column",{attrs:{label:"作业",prop:"workMile"}}),i("el-table-column",{attrs:{label:"空跑率(%)",prop:"bathRate"}})],1),i("el-table-column",{attrs:{label:"行驶油耗"}},[i("el-table-column",{attrs:{label:"油耗量(L)",prop:"allSumOilUse",width:"100"}}),i("el-table-column",{attrs:{label:"空跑(L/100km)",prop:"batholithOil",width:"120"}}),i("el-table-column",{attrs:{label:"作业(L/100km)",prop:"workMileOil",width:"120"}})],1)],1)],1)],1)},[],!1,null,null,null).exports;n.install=function(e){e.component(n.name,n)},t.default=n}}]);