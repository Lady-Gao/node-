(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4670e88c"],{"4e92":function(t,e,a){},"5e88":function(t,e,a){"use strict";var o=a("8c6d");a.n(o).a},"8c6d":function(t,e,a){},a627:function(t,e,a){"use strict";a.r(e),a("7f7f"),a("ed08");var o={props:{options:{}},data:function(){return{formData:{ip:"",portStr:"",name:"",autoReconn:!0,autoConn:!0,id:""},loading:!1,rules:{ip:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],portStr:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^[1-9]\d*$/,message:this.$t("filter.type14")}],name:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}]}}},methods:{confirm:function(){var t=this;this.$refs.addForm.validate(function(e){if(!e)return!1;var a={autoReconn:t.formData.autoReconn?"1":"0",autoConn:t.formData.autoConn?"1":"0",ip:t.formData.ip,portStr:t.formData.portStr,name:t.formData.name};t.loading=!0,t.$http({url:"/serviceManagement/insertEznService",params:a}).then(function(e){t.loading=!1,!e.flag&&e.errorCode?t.$message.error({message:t.$t("error."+e.errorCode)}):(t.$emit("update:refresh",!0),t.$message.success(t.$t("action.addSuccess")),t.options.flag=!1)}).catch(function(e){t.loading=!1})})}},watch:{"options.flag":function(t){t||(this.options.name="")}}},n=a("2877"),r=Object(n.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"container",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"addForm",attrs:{model:t.formData,"label-position":"top",inline:!1,rules:t.rules}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"809服务IP",prop:"ip"}},[a("el-input",{attrs:{size:"small",maxlength:32},model:{value:t.formData.ip,callback:function(e){t.$set(t.formData,"ip","string"==typeof e?e.trim():e)},expression:"formData.ip"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"809服务端口",prop:"portStr"}},[a("el-input",{attrs:{size:"small",maxlength:5},model:{value:t.formData.portStr,callback:function(e){t.$set(t.formData,"portStr","string"==typeof e?e.trim():e)},expression:"formData.portStr"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"自动重连",prop:""}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.formData.autoReconn,callback:function(e){t.$set(t.formData,"autoReconn",e)},expression:"formData.autoReconn"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"自动连接",prop:""}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.formData.autoConn,callback:function(e){t.$set(t.formData,"autoConn",e)},expression:"formData.autoConn"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"809服务名称",prop:"name"}},[a("el-input",{attrs:{size:"small",maxlength:32767},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name","string"==typeof e?e.trim():e)},expression:"formData.name"}})],1)],1)],1)],1),a("el-col",{staticClass:"dialog-footer",attrs:{span:24}},[a("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.confirm}},[t._v(t._s(t.$t("action.save")))]),a("el-button",{on:{click:function(e){t.options.flag=!1}}},[t._v(t._s(t.$t("action.cancel")))])],1)],1)},[],!1,null,"1c93f4dd",null).exports,i={props:{options:{}},data:function(){return{formData:{ip:"",portStr:"",autoReconn:"",autoConn:"",name:""},loading:!1,rules:{ip:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],portStr:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^[1-9]\d*$/,message:this.$t("filter.type14")}],name:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}]}}},methods:{confirm:function(){var t=this;this.$refs.modifyForm.validate(function(e){if(!e)return!1;var a={autoReconn:t.formData.autoReconn?"1":"0",autoConn:t.formData.autoConn?"1":"0",ip:t.formData.ip,portStr:t.formData.portStr,name:t.formData.name,id:t.options.modifyData.id};t.loading=!0,t.$http({url:"/serviceManagement/updateEznService",params:a}).then(function(e){t.loading=!1,!e.flag&&e.errorCode?t.$message.error({message:t.$t("error."+e.errorCode)}):(t.$emit("update:refresh",!0),t.$message.success(t.$t("action.modifySuccess")),t.options.flag=!1)}).catch(function(e){t.loading=!1})})}},mounted:function(){this.formData.ip=this.options.modifyData.ip,this.formData.portStr=this.options.modifyData.portStr,this.formData.autoReconn="1"==this.options.modifyData.autoReconn,this.formData.autoConn="1"==this.options.modifyData.autoConn,this.formData.name=this.options.modifyData.name},watch:{"options.flag":function(t){t||(this.options.name="")}}},s=Object(n.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"container",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"modifyForm",attrs:{model:t.formData,"label-position":"top",inline:!1,rules:t.rules}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"809服务IP",prop:"ip"}},[a("el-input",{attrs:{size:"small",maxlength:32},model:{value:t.formData.ip,callback:function(e){t.$set(t.formData,"ip","string"==typeof e?e.trim():e)},expression:"formData.ip"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"809服务端口",prop:"portStr"}},[a("el-input",{attrs:{size:"small",maxlength:5},model:{value:t.formData.portStr,callback:function(e){t.$set(t.formData,"portStr",e)},expression:"formData.portStr"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"自动重连",prop:"autoReconn"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.formData.autoReconn,callback:function(e){t.$set(t.formData,"autoReconn",e)},expression:"formData.autoReconn"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"自动连接",prop:"autoConn"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.formData.autoConn,callback:function(e){t.$set(t.formData,"autoConn",e)},expression:"formData.autoConn"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"809服务名称",prop:"name"}},[a("el-input",{attrs:{size:"small",maxlength:32767},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name","string"==typeof e?e.trim():e)},expression:"formData.name"}})],1)],1)],1)],1),a("el-col",{staticClass:"dialog-footer",attrs:{span:24}},[a("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.confirm}},[t._v(t._s(t.$t("action.save")))]),a("el-button",{on:{click:function(e){t.options.flag=!1}}},[t._v(t._s(t.$t("action.cancel")))])],1)],1)},[],!1,null,"6687abed",null).exports,l={props:{options:{}},watch:{"options.flag":function(t){t||(this.options.name="")}}},c=(a("5e88"),{components:{add:r,bind:Object(n.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{staticClass:"top",attrs:{span:24,data:t.options.bind}},[a("cv-grid",{attrs:{params:{id:t.options.bind.id},url:"/serviceManagement/findProtocolTransferGroupList"}},[a("el-table-column",{attrs:{label:"协议名称",prop:"protocolName"}}),a("el-table-column",{attrs:{label:"上级平台名称",prop:"superiorPlatform"}})],1)],1)],1),a("el-row",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:24}},[a("el-button",{on:{click:function(e){t.options.flag=!1}}},[t._v(t._s("关闭"))])],1)],1)],1)},[],!1,null,null,null).exports,modify:s},mixins:[a("b0ad").a],computed:{_table:function(){return this.$refs.serviceTable}},data:function(){return{refresh:!1,dialog:{flag:!1,title:"--",size:"dialog-small",name:"search",search:{title:"",menuType:"",id:""},modifyData:{ip:"",portStr:"",name:"",autoReconn:"",autoConn:"",eznPort:"",id:""},bind:{id:""}}}},methods:{add:function(t){this.dialog.size="dialog-small",this.dialog.name=t.name,this.dialog.title=t.title,this.dialog.flag=!0},see:function(t){this.dialog.size="dialog-small",this.dialog.name="bind",this.dialog.title="查看",this.dialog.flag=!0,this.dialog.bind.id=t.row.id},isType:function(t){switch(t.autoReconn){case 0:return"否";case 1:return"是"}},isTypeS:function(t){switch(t.autoConn){case 0:return"否";case 1:return"是"}},search:function(t){this.dialog.flag=!0,this.dialog.title=t.title,this.dialog.name=t.name,this.dialog.size="dialog-tiny"},remove:function(t){var e=this,a={id:t.row.id};this.$http({url:"/serviceManagement/delectEznServiceInfo",params:a}).then(function(t){!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):(e.refresh=!0,e.$message.success("删除成功"))})},modify:function(t){this.dialog.size="dialog-small",this.dialog.name="modify",this.dialog.title=this.$t("power.modify"),this.dialog.flag=!0,this.dialog.modifyData.id=t.row.id,this.dialog.modifyData.ip=t.row.ip,this.dialog.modifyData.portStr=t.row.portStr,this.dialog.modifyData.name=t.row.name,this.dialog.modifyData.eznPort=t.row.eznPort,this.dialog.modifyData.autoReconn=t.row.autoReconn,this.dialog.modifyData.autoConn=t.row.autoConn}},watch:{refresh:function(t){t&&(this._table.tableInitial(),this.refresh=!1)}}}),m=(a("e06d"),Object(n.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"carFactory"},[a("cv-operation",[a("el-form-item",[a("cv-tool",{attrs:{name:t.$route.name,data:t.$store.getters.manageMenus,"is-modify":!1,"is-remove":!1,"is-export":!1,"is-search":!1},on:{add:t.add}})],1)],1),a("cv-content",[a("cv-grid",{ref:"serviceTable",attrs:{params:{},url:"/serviceManagement/findEznServicePage"}},[a("el-table-column",{attrs:{label:"809服务名称",prop:"name"}}),t._v(">\n                "),a("el-table-column",{attrs:{label:"809服务IP",prop:"ip"}}),a("el-table-column",{attrs:{label:"809服务端口",prop:"portStr"}}),a("el-table-column",{attrs:{label:"自动重连",prop:"autoReconn",formatter:t.isType}}),a("el-table-column",{attrs:{label:"自动连接",prop:"autoConn",formatter:t.isTypeS}}),a("el-table-column",{attrs:{label:t.$t("UserManage.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("cv-span",{attrs:{type:"success"},nativeOn:{click:function(a){return t.modify(e)}}},[t._v(t._s(t.$t("power.modify")))]),a("cv-span",{attrs:{type:"danger"},nativeOn:{click:function(a){return t.remove(e)}}},[t._v(t._s(t.$t("power.remove")))]),a("cv-span",{attrs:{type:"success"},nativeOn:{click:function(a){return t.see(e)}}},[t._v(t._s("查看"))])]}}])})],1)],1),a("el-dialog",{attrs:{visible:t.dialog.flag,title:t.dialog.title,"custom-class":t.dialog.size},on:{"update:visible":function(e){return t.$set(t.dialog,"flag",e)}}},[a(t.dialog.name,{tag:"component",attrs:{options:t.dialog,refresh:t.refresh},on:{"update:refresh":function(e){t.refresh=e}}})],1)],1)},[],!1,null,null,null).exports);m.install=function(t){t.component(m.name,m)},e.default=m},b0ad:function(t,e,a){"use strict";(function(t){a("7f7f"),e.a={methods:{confirmPrompt:function(t,e){var a=this,o=t||this.$t("action.confirmIsRemove");return new Promise(function(t,n){a.$confirm(o,a.$t("action.tip"),{confirmButtonText:a.$t("action.confirm"),cancelButtonText:a.$t("action.cancel"),type:"warning"}).then(function(){t()}).catch(function(){"function"==typeof e&&e()})})},timeLimitFunc:function(t,e,a){if(t&&e)return((new Date(e)-new Date(t))/864e5).toFixed(1)<=a||this.$message.error({message:this.$t("请选择时间范围在"+a+"天内")});this.$message.error({message:this.$t("请选择时间范围")})},addRemoveUnique:function(t,e,a){var o=t.length,n=e.length;return n<o?{name:"add",data:this.$service.isUnique(t,e,a)}:o<n?{name:"remove",data:this.$service.isUnique(e,t,a)}:o==n?{name:"equal",data:this.$service.isUnique(t,e,a)}:void 0},showTooltip:function(t,e){var a=t.target,o=this.$refs[e];o.referenceElm=a,o.$refs.popper.style.display="none",o.doDestroy(),o.setExpectedState(!0),o.handleShowPopper()},mouseenterShowTip:function(t,e,a){var o=t.target;if(o.scrollWidth>o.offsetWidth||a)return this.showTooltip(t,e),a?a.startTime+"~"+a.endTime:o.innerText},mouseenterShowToolTip:function(t,e,a){var o=t.target;return this.showTooltip(t,e),!a&&o.innerText},mouseoverHideTip:function(t){var e=this.$refs[t];e&&(e.setExpectedState(!1),e.handleClosePopper())},asyncDownloadScript:function(e,a){var o=this,n=0<arguments.length&&void 0!==e?e:"Baidu",r=1<arguments.length?a:void 0;return t[n]?t[n]._preloader?t[n]._preloader:Promise.resolve(t[n]):(t[n]={},t[n]._preloader=new Promise(function(e,a){var i=document.createElement("script");i.src=r,t.document.body.appendChild(i),o.$service.isIe()&&o.$service.IE_VERSION<11?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(e(t[n]),t[n]._preloader=null)}:i.onload=function(){e(t[n]),t[n]._preloader=null}}),t[n]._preloader)}}}}).call(this,a("c8ba"))},e06d:function(t,e,a){"use strict";var o=a("4e92");a.n(o).a}}]);