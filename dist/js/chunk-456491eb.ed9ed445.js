(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-456491eb"],{"43ec":function(t,a,s){"use strict";s.r(a);var e=s("cebc"),i={props:{options:{}},data:function(){return{dataItem:{},flag:!1}},methods:{showLine:function(t){var a={xAxis:{name:this.options.xName,data:t.x||"暂无数据"},yAxis:{name:this.options.yName,type:"value"},series:[{data:t.y||[0,0,0,0],type:"line"}]};this.dataItem=a}},mounted:function(){var t=this;this.flag=!0,this.$http({url:this.options.options.url,params:{dateType:this.options.options.params.dateType,searchTime:this.options.options.params.searchTime,enterpriseId:this.options.options.params.enterpriseId}}).then(function(a){a.flag&&t.showLine(a.data),t.flag=!1})},watch:{"options.flag":function(t){t||(this.options.name="")}}},o=s("2877"),l={components:{lineEchart:Object(o.a)(i,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.flag,expression:"flag"}]},[s("cv-echart",{ref:"lineEchart",attrs:{name:"line",data:t.dataItem}})],1)},[],!1,null,null,null).exports},props:{data:{}},data:function(){return{dialog:{flag:!1,title:"",size:"dialog-small",name:"line-echart",options:{}}}},inject:["store"],methods:{routerPath:function(t,a){if(t){var s=Object(e.a)({},this.store.operation,{vehicleId:t,plateCode:a});delete s.enterpriseId;var i=this.$service.winParams("/monitor/singleDrivingAnalysis",s);this.$service.winOpen(i)}},avgAlarm:function(){this.validate()&&(this.dialog.options={params:this.store.operation,url:"/driverBehavior/findAlarmCountInfoReport"},this.dialog.xName="日期",this.dialog.yName="次",this.dialog.title="日发生报警次数趋势图",this.dialog.flag=!0,this.dialog.name="line-echart")},avgHour:function(){this.validate()&&(this.dialog.options={params:this.store.operation,url:"/driverBehavior/findRunTimeInfoReport"},this.dialog.xName="日期",this.dialog.yName="小时",this.dialog.title="日行驶时间趋势图",this.dialog.flag=!0,this.dialog.name="line-echart")},avgSpeed:function(){this.validate()&&(this.dialog.options={params:this.store.operation,url:"/driverBehavior/findMileageInfoReport"},this.dialog.xName="日期",this.dialog.yName="里程",this.dialog.title="日行驶里程趋势图",this.dialog.flag=!0,this.dialog.name="line-echart")},validate:function(){return""==this.store.operation.searchTime?(this.$message.warning("请选择查询时间"),!1):null!=this.store.operation.enterpriseId||(this.$message.warning("请选择查询公司"),!1)}}},n=(s("7a71"),Object(o.a)(l,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"survey"},[s("div",{staticStyle:{padding:"10px"}},[s("el-row",{staticClass:"font1"},[t._v("概况")]),s("el-row",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[s("span",{staticClass:"font1"},[t._v("公司名称:")]),s("span",{staticClass:"companyName"},[t._v(t._s(t.data.enterpriseName||"--"))])]),s("el-row",[s("el-col",{attrs:{span:16}},[s("div",{staticClass:"font2"},[t._v("\n                    统计周期:"+t._s(t.data.sumDays||0)+"天("+t._s(t.data.sumDaysStr||"--")+")\n                ")])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"font2"},[t._v("\n                    车辆总数:"+t._s(t.data.vehicleCount||0)+"辆\n                ")])])],1)],1),s("div",{staticClass:"bottomBorder"},[s("el-row",{staticClass:"heightRow"},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"greenKm font3"},[s("span",{on:{click:t.avgSpeed}},[t._v(t._s(t.data.totalMileages||0)+"公里")])])]),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"font1"},[t._v("\n                    车辆日均行驶里程:\n                ")])])],1),s("el-row",{staticClass:"heightRow"},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"font2"},[t._v("\n                    行驶里程\n                ")])]),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"font2",staticStyle:{"text-align":"left"}},[s("span",[t._v(t._s(t.data.vehicleMileageByDayAvg||0)+"Km(最大公里数："),s("span",{staticClass:"bluePlateCode",on:{click:function(a){return t.routerPath(t.data.maxMileagesVehicleId,t.data.maxMileagesVehiclePlateCode)}}},[t._v(t._s(t.data.maxMileagesVehiclePlateCode||"--"))]),t._v("  "+t._s(t.data.maxMileages||0)+"Km)")])])])],1)],1),s("div",{staticClass:"bottomBorder"},[s("el-row",{staticClass:"heightRow"},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"yellowHour font3"},[s("span",{on:{click:t.avgHour}},[t._v(" "+t._s(t.data.totalHour||0)+"小时")])])]),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"font1"},[t._v("\n                  车辆日均行驶时间:\n                ")])])],1),s("el-row",{staticClass:"heightRow"},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"font2"},[t._v("\n                    行驶时间\n                ")])]),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"font2",staticStyle:{"text-align":"left"}},[s("span",[t._v(t._s(t.data.totalHourByDayAvg||0)+"H(最大行驶时间："),s("span",{staticClass:"bluePlateCode",on:{click:function(a){return t.routerPath(t.data.maxHourVehicleId,t.data.maxHourVehiclePlateCode)}}},[t._v(t._s(t.data.maxHourVehiclePlateCode||"--"))]),t._v("  "+t._s(t.data.maxHour||0)+"H)")])])])],1)],1),s("div",{staticClass:"bottomBorder"},[s("el-row",{staticClass:"heightRow"},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"redAlarm font3"},[s("span",{on:{click:t.avgAlarm}},[t._v(t._s(t.data.totalAlarm||0)+"次")])])]),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"font1"},[t._v("\n                    百公里平均报警:\n                ")])])],1),s("el-row",{staticClass:"heightRow"},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"font2"},[t._v("\n                    报警总数\n                ")])]),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"font2",staticStyle:{"text-align":"left"}},[s("span",[t._v(t._s(t.data.oneHundredKmAlarmAvg||0)+"次")])])])],1)],1),s("el-dialog",{attrs:{visible:t.dialog.flag,title:t.dialog.title,"custom-class":t.dialog.size,"close-on-click-modal":!1},on:{"update:visible":function(a){return t.$set(t.dialog,"flag",a)}}},[s(t.dialog.name,{tag:"component",attrs:{options:t.dialog}})],1)],1)},[],!1,null,"4826aa8a",null).exports);a.default=n},"7a71":function(t,a,s){"use strict";var e=s("c4d6");s.n(e).a},c4d6:function(t,a,s){}}]);