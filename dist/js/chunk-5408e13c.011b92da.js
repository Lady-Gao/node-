(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5408e13c"],{"05c0":function(t,e,i){"use strict";i("7f7f"),i("20d6"),i("ac6a");var n=i("cebc"),a=i("3f4e"),o=i("2f62"),l={name:"CvPublictreeContent",components:{CvContent:a.a},props:{model:String,vehicleMonitor:Function,loading:Boolean,noresize:{default:!1,type:Boolean}},data:function(){return{entryList:[],condition:""}},computed:Object(n.a)({},Object(o.c)(["onlineList","isAttention","socketEnterprise","socketVehicle","vehicle_data","vehicleCondition"]),{isCheck:function(){switch(this.model){case"multi":return!0;case"single":default:return!1}},_treeMethods:function(){return this.$refs.tabs},_contentMethods:function(){return this.$refs.content}}),beforeDestroy:function(){var t=this._treeMethods.getAllNodes;this.setStoreVehicleSearchCondition(this.condition),this.setStoreVehicleData(t())},mounted:function(){var t=this._treeMethods.$refs.tree.reference().ztreeApi;t()&&t().checkAllNodes(!1)},methods:Object(n.a)({},Object(o.b)(["setStoreVehicleData","setStoreVehicleSearchCondition"]),{handlerVehicleSearch:function(t){this.condition=t},vehicle_Monitor:function(t){var e=t.data;if(t.name,"function"==typeof this.vehicleMonitor)switch(this.model){case"multi":return this.vehicle_Monitor_multi(t);case"single":return this.vehicleMonitor(e[0])}},vehicle_Monitor_multi:function(t){var e=this,i=t.data;switch(t.name){case"check":this.entryList=this.entryList.concat(i);break;case"cancel":i.forEach(function(t){var i=e.entryList.findIndex(function(e){return e.id==t.id});0<=i&&e.entryList.splice(i,1)})}this.vehicleMonitor(this.entryList)}})},r=(i("45d7"),i("2877")),s=Object(r.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("cv-content",{ref:"content",attrs:{loading:t.loading,noresize:t.noresize}},[t.model?i("cv-tabs-tree",{ref:"tabs",staticClass:"vehiclemaster-tree",attrs:{slot:"aside","vehicle-search":t.vehicleCondition,"is-checked":t.isCheck,"tree-data":t.vehicle_data,"online-monitor":t.onlineList,"vehicle-monitor":t.socketVehicle,"attention-monitor":t.isAttention,"enterprise-fleet-monitor":t.socketEnterprise,"node-monitor":t.vehicle_Monitor},on:{"vehicle-choose-search":t.handlerVehicleSearch},slot:"aside"}):t._e(),t._t("default")],2)},[],!1,null,"2dfdf41b",null).exports;s.install=function(t){t.component(s.name,s)},e.a=s},"40a3":function(t,e,i){"use strict";i.r(e),i("386d");var n={props:{data:{},wid:{default:0}},data:function(){return{showItem:{totalKeepTime:"-",totalMileage:"-",totalDriverFatigueCount:"-",totalFuelEconomy:"-",totalHardAccelerationCount:"-",totalSharpSlowdownCount:"-",totalSharpTurnsCount:"-",totalCollisionCount:"-",totalRolloverCount:"-",totalOverspeedCount:"-",totalDays:"-",safeDrivingScore:"-"}}},watch:{data:function(t){this.showItem=t}}},a=i("2877"),o={components:{statistics:Object(a.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-table__body slots",staticStyle:{"border-top":"1px solid #ebeef5"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[i("tr",{staticClass:"el-table__row"},[i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("合计")]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalKeepTime))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalMileage))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalRolloverCount))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalOverspeedCount))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalDriverFatigueCount))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalCollisionCount))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalHardAccelerationCount))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalSharpSlowdownCount))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalSharpTurnsCount))]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.showItem.totalFuelEconomy))])]),i("tr",{staticClass:"el-table__row"},[i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},[t._v("运行天数")]),i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[i("label",[t._v(t._s(t.showItem.totalDays))])]),i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[t._v("驾驶评分（分）")]),i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[i("label",[t._v(t._s(t.showItem.safeDrivingScore))])])])])},[],!1,null,null,null).exports,CvPublictreeContent:i("05c0").a},computed:{_table:function(){return this.$refs.table}},data:function(){return{contentLoading:!1,search:{vehicleId:"",queryType:"O",startTime:this.$filter.format(new Date-864e5,"yyyy-MM-dd"),endTime:this.$filter.format(new Date,"yyyy-MM-dd")},time:[this.$filter.format(new Date-864e5-864e5,"yyyy-MM-dd"),this.$filter.format(new Date-864e5,"yyyy-MM-dd")],pickerOptions0:{disabledDate:function(t){return t.getTime()>Date.now()-864e5}},fristWid:0,loading:!1,totalCount:{}}},methods:{handlerVehicleMonitor:function(t){this.search.vehicleId=t.id},load:function(){var t=this;return""==this.search.vehicleId?(this.$message.warning("请选择车辆"),!1):""==this.search.time?(this.$message.warning("请选择时间"),!1):(this.search.startTime=this.$filter.format(new Date(this.time[0]),"yyyy-MM-dd"),this.search.endTime=this.$filter.format(new Date(this.time[1]),"yyyy-MM-dd"),this._table.tableInitial(!0),void this.$store.dispatch("queryInfo",this.search).then(function(e){e.flag?t.totalCount=e.data:t.totalCount={}}))},toFixedMil:function(t){return t.mileage.toFixed(2)},down:function(){if(""==this.search.vehicleId)return this.$message.warning("请选择车辆"),!1;if(""==this.search.time)return this.$message.warning("请选择时间"),!1;var t=this.$service.winParams(this.$COMMON.baseUrl+"/report/exportVehicleTravelDetailListInfo",this.search);window.location.href=t}}},l=Object(a.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("cv-operation",{attrs:{position:"left"}},[i("el-form-item",{attrs:{label:"日期选择:"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","picker-options":t.pickerOptions0,clearable:!1},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),i("el-form-item",[i("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:t.$route.name,data:t.$store.getters.monitorMenu,"is-modify":!1,"is-remove":!1,"is-add":!1},on:{export:t.down,search:t.load}})],1)],1),i("cv-publictree-content",{attrs:{model:"single","vehicle-monitor":t.handlerVehicleMonitor,loading:t.contentLoading}},[i("cv-grid",{ref:"table",attrs:{params:t.search,url:"/report/findDrivingDataListInfo"}},[i("el-table-column",{attrs:{type:"index"}}),i("el-table-column",{attrs:{label:"起始时间",prop:"startTime"}}),i("el-table-column",{attrs:{label:"结束时间",prop:"endTime"}}),i("el-table-column",{attrs:{label:"时长(秒)",prop:"keepTime"}}),i("el-table-column",{attrs:{label:"里程(公里)",prop:"mileage",formatter:t.toFixedMil}}),i("el-table-column",{attrs:{label:"侧翻(秒)",prop:"rolloverCount"}}),i("el-table-column",{attrs:{label:"超速(秒)",prop:"overspeedCount"}}),i("el-table-column",{attrs:{label:"疲劳驾驶(秒)","min-width":"100",prop:"driverFatigueCount"}}),i("el-table-column",{attrs:{label:"碰撞(次)",prop:"collisionCount"}}),i("el-table-column",{attrs:{label:"急加速(秒)",prop:"hardAccelerationCount"}}),i("el-table-column",{attrs:{label:"急减速(秒)",prop:"sharpSlowdownCount"}}),i("el-table-column",{attrs:{label:"急转弯(秒)",prop:"sharpTurnsCount"}}),i("el-table-column",{attrs:{label:"油耗(升)",prop:"roil"}}),i("statistics",{ref:"slots",staticStyle:{width:"100%"},attrs:{slot:"append",data:t.totalCount},slot:"append"})],1)],1)],1)},[],!1,null,null,null).exports;e.default=l},"45d7":function(t,e,i){"use strict";var n=i("6e18");i.n(n).a},"6e18":function(t,e,i){}}]);