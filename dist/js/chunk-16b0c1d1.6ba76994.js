(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-16b0c1d1"],{"0e8d":function(e,t,a){"use strict";a.r(t),a("386d");var i={computed:{_table1:function(){return this.$refs.tabs0},_table2:function(){return this.$refs.tabs1}},data:function(){return{activeName:"tabs0",pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()-864e5}},speedName:"行驶速度",label:"",search:{plateCode:"",enterpriseId:this.$store.getters.user.enterpriseId,speedType:"1",limitSpeed:"60",startTime:this.$filter.format(new Date-864e5,"yyyy-MM-dd start"),endTime:this.$filter.format(new Date-864e5,"yyyy-MM-dd end")},time:[this.$filter.format(new Date-864e5,"yyyy-MM-dd start"),this.$filter.format(new Date-864e5,"yyyy-MM-dd end")]}},methods:{cellHandler:function(e){this.activeName="tabs1",this.search.plateCode=e.plateCode,this._table2.tableInitial(!0)},changeType:function(e){this.speedName=1==e?"行驶速度":"GPS速度"},down:function(){if(0==this.setting())return!1;var e="",t=this.getData();e="tabs0"==this.activeName?"/report/exportSpeedDetailInfo":"/report/exportTrajectoryDetails";var a=this.$service.winParams(this.$COMMON.baseUrl+e,t);window.location.href=a},setting:function(){return this.time?1<this.$filter.timeRange(this.time[0],this.time[1])?(this.$message.warning("查询时间不能超过1天!"),!1):""==this.search.enterpriseId?(this.$message.warning("企业是必选"),!1):this.search.limitSpeed?parseInt(this.search.limitSpeed)<60?(this.$message.warning("速度不能小于60!"),!1):void 0:(this.$message.warning("设定速度不能为空"),!1):(this.$message.warning("查询时间不能为空!"),!1)},getData:function(){return{plateCode:this.search.plateCode,startTime:this.time[0],endTime:this.time[1],enterpriseId:this.search.enterpriseId,speedType:this.search.speedType,limitSpeed:this.search.limitSpeed,current:"tabs0"==this.activeName?this._table1.current:this._table2.current,size:"tabs0"==this.activeName?this._table1.size:this._table2.size}},tabClick:function(){if(this.search.startTime=this.$filter.format(new Date(this.time[0]),"yyyy-MM-dd start"),this.search.endTime=this.$filter.format(new Date(this.time[1]),"yyyy-MM-dd end"),!this.search.enterpriseId)return this.$message.warning("请选择企业"),!1;"tabs0"==this.activeName?this._table1.tableInitial(!0):"tabs1"==this.activeName&&this._table2.tableInitial(!0)}}},l=(a("f03d"),a("2877")),r=Object(l.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"speed-detail"},[a("cv-operation",{attrs:{position:"left"}},[a("el-form-item",{attrs:{label:"企业名称:"}},[a("cv-dropdown-tree",{attrs:{placeholder:e.$t("common.enterprise.enterpriseName"),url:"/enterprise/getEnterpriseTreeList",readonly:!1,"is-default":!0,label:e.label},on:{"update:label":function(t){e.label=t}},model:{value:e.search.enterpriseId,callback:function(t){e.$set(e.search,"enterpriseId",t)},expression:"search.enterpriseId"}})],1),a("el-form-item",{attrs:{label:"车牌号码"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{maxlength:11},model:{value:e.search.plateCode,callback:function(t){e.$set(e.search,"plateCode","string"==typeof t?t.trim():t)},expression:"search.plateCode"}})],1),a("el-form-item",{attrs:{label:"速度类型:"}},[a("el-select",{staticStyle:{width:"140px"},on:{change:e.changeType},model:{value:e.search.speedType,callback:function(t){e.$set(e.search,"speedType",t)},expression:"search.speedType"}},[a("el-option",{attrs:{value:"1",label:"行驶速度"}}),a("el-option",{attrs:{value:"2",label:"GPS速度"}})],1)],1),a("el-form-item",{attrs:{label:"设定"+e.speedName}},[a("span",[e._v(">=")]),a("el-input",{staticClass:"inputText",attrs:{maxlength:10},model:{value:e.search.limitSpeed,callback:function(t){e.$set(e.search,"limitSpeed",e._n(t))},expression:"search.limitSpeed"}}),a("span",[e._v("(km/h)")])],1),a("el-form-item",{attrs:{label:"起始时间:"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",clearable:!1,"picker-options":e.pickerOptions0,editable:!1,type:"datetimerange",placeholder:"选择时间范围"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-add":!1,"is-modify":!1,"is-remove":!1},on:{export:e.down,search:e.tabClick}})],1)],1),a("cv-content",{attrs:{fill:!0}},[a("cv-tabs",{staticClass:"tabClass",attrs:{titles:["速度明细","轨迹明细"],"force-render":!1},on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("cv-grid",{ref:"tabs0",attrs:{params:e.search,url:"/report/findSpeedDetailInfo"}},[a("el-table-column",{attrs:{"min-width":"100",align:"center",label:"车牌号码",prop:"plateCode"}}),a("el-table-column",{attrs:{"min-width":"150",align:"center",label:"开始时间",prop:"startTime"}}),a("el-table-column",{attrs:{"min-width":"150",align:"center",label:"结束时间",prop:"endTime"}}),a("el-table-column",{attrs:{"min-width":"120",align:"center",label:"超速时长(s)",prop:"overspeedTime"}}),a("el-table-column",{attrs:{"min-width":"150",align:"center",label:"最大速度(km/h)",prop:"maxSpeed"}}),a("el-table-column",{attrs:{"min-width":"150",align:"center",label:"最低速度(km/h)",prop:"mindSpeed"}}),a("el-table-column",{attrs:{"min-width":"150",align:"center",label:"平均速度(km/h)",prop:"avgSpeed"}}),a("el-table-column",{attrs:{"min-width":"150",align:"center",label:"限制速度(km/h)",prop:"limitSpeed"}}),a("el-table-column",{attrs:{"min-width":"100",align:"center",label:"超速比",prop:"overSpeedPercent"}}),a("el-table-column",{attrs:{label:"企业名称","min-width":"100",align:"center",prop:"enterpriseName"}}),a("el-table-column",{attrs:{label:"操作","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cv-span",{directives:[{name:"show",rawName:"v-show",value:t.row.identifying,expression:"scope.row.identifying"}],staticClass:"linkColor",nativeOn:{click:function(a){return e.cellHandler(t.row)}}},[e._v("\n                                            轨迹明细\n                                        ")])]}}])})],1),a("cv-grid",{ref:"tabs1",attrs:{params:e.search,url:"/report/findTrajectoryDetails"}},[a("el-table-column",{attrs:{align:"center","min-width":"100",label:"车牌号码",prop:"plateCode"}}),a("el-table-column",{attrs:{align:"center","min-width":"150",label:"GPS时间",prop:"gpsTime"}}),a("el-table-column",{attrs:{align:"center","min-width":"150",label:"接收时间",prop:"recvTime"}}),a("el-table-column",{attrs:{align:"center","min-width":"150",label:"行驶速度(km/h)",prop:"gpsSpeed"}}),a("el-table-column",{attrs:{align:"center","min-width":"150",label:"GPS速度(km/h)",prop:"dsSpeed"}}),a("el-table-column",{attrs:{align:"center","min-width":"120",label:"里程(km)",prop:"mileage"}}),a("el-table-column",{attrs:{align:"center","min-width":"120",label:"位置",prop:"locationName"}}),a("el-table-column",{attrs:{align:"center","min-width":"120",label:"企业名称",prop:"enterpriseName"}}),a("el-table-column",{attrs:{align:"center","min-width":"100",label:"状态",prop:"gpsState"}})],1)],1)],1)],1)},[],!1,null,null,null).exports;t.default=r},f03d:function(e,t,a){"use strict";var i=a("f94e");a.n(i).a},f94e:function(e,t,a){}}]);