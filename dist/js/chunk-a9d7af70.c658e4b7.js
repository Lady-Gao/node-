(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a9d7af70","chunk-3c472766"],{2907:function(e,t,r){"use strict";r.r(t);var a={extends:r("d718").default,data:function(){return{url:"/vehicle/queryMileageTemp",downUrl:"/report/exportMileageTemp"}}};t.default=a},"7c12":function(e,t,r){"use strict";var a=r("b80e");r.n(a).a},b80e:function(e,t,r){},d718:function(e,t,r){"use strict";r.r(t),r("386d");var a={computed:{_table:function(){return this.$refs.table}},data:function(){return{url:"/vehicle/queryMileageReport",downUrl:"/report/exportMileageReport",label:"",search:{plateCode:"",enterpriseId:"",fleetId:"",selectDate:this.$filter.format(new Date-864e5,"yyyy-MM")},searchTime:this.$filter.format(new Date-864e5,"yyyy-MM"),pickerOptions2:{disabledDate:function(e){return e.getTime()>Date.now()-864e5}}}},methods:{searchMileage:function(){this._table.tableInitial(!0)},isFix:function(e){return this.$filter.toFixed(e.driveMileage,2)},down:function(){if(null!=this.searchTime){var e={selectDate:"string"==typeof this.searchTime?this.searchTime:this.$filter.format(this.searchTime,"yyyy-MM"),plateCode:""==this.search.plateCode?"":this.search.plateCode,enterpriseId:this.search.enterpriseId,fleetId:this.search.fleetId,size:this._table.size,current:this._table.current},t=this.$service.winParams(this.$COMMON.baseUrl+this.downUrl,e);window.location.href=t}else this.$message.warning("请选择时间")}},watch:{searchTime:function(e){(this.search.selectDate=e)||(this.search.selectDate="")}}},l=(r("7c12"),r("2877")),i=Object(l.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mouthStatistics"},[r("cv-operation",{attrs:{position:"left"}},[r("el-form-item",{attrs:{label:"所属公司/机构"}},[r("cv-dropdown-tree",{attrs:{placeholder:e.$t("common.enterprise.enterpriseName"),url:"/enterprise/findEnterpriseOrganizationTreeList","is-default":!1,label:e.label},on:{"update:label":function(t){e.label=t}},model:{value:e.search.enterpriseId,callback:function(t){e.$set(e.search,"enterpriseId",t)},expression:"search.enterpriseId"}})],1),r("el-form-item",{attrs:{label:"所属车队"}},[r("cv-dropdown-tree",{attrs:{url:"/enterprise/findFleetTreeList","auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type}},model:{value:e.search.fleetId,callback:function(t){e.$set(e.search,"fleetId",t)},expression:"search.fleetId"}})],1),r("el-form-item",{attrs:{label:"车牌号"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.search.plateCode,callback:function(t){e.$set(e.search,"plateCode","string"==typeof t?t.trim():t)},expression:"search.plateCode"}})],1),r("el-form-item",{attrs:{label:"日期"}},[r("el-date-picker",{attrs:{editable:!1,"value-format":"yyyy-MM",type:"month","picker-options":e.pickerOptions2,clearable:!0,placeholder:"请选择时间"},model:{value:e.searchTime,callback:function(t){e.searchTime=t},expression:"searchTime"}})],1),r("el-form-item",[r("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-add":!1,"is-modify":!1,"is-remove":!1},on:{export:e.down,search:e.searchMileage}})],1)],1),r("cv-content",{attrs:{fill:!0}},[r("cv-grid",{ref:"table",attrs:{params:e.search,url:e.url}},[r("el-table-column",{attrs:{label:e.$t("cE.carNumber"),"header-align":"center","min-width":"100",prop:"plateCode"}}),r("el-table-column",{attrs:{label:e.$t("cE.carColor"),"header-align":"center","min-width":"100",prop:"plateColor"}}),r("el-table-column",{attrs:{label:"所属车队","header-align":"center","min-width":"100",prop:"groupName"}}),r("el-table-column",{attrs:{label:"所属公司","header-align":"center","min-width":"120",prop:"enterpriseName"}}),r("el-table-column",{attrs:{label:"行驶总里程(KM)","header-align":"center","min-width":"120",prop:"driveMileage",formatter:e.isFix}}),r("el-table-column",{attrs:{label:"行驶日期","header-align":"center","min-width":"120",prop:"selectDate"}})],1)],1)],1)},[],!1,null,null,null).exports;t.default=i}}]);