(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-616f2de6"],{"2e17":function(e,t,a){var i=a("2fc5");e.exports={fillColor:"#01C302",url:i}},"2fc5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAeCAYAAADHJYVoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZFQzEyNUQwN0UzQTExRTY5MDQ3QTE3RjVCRDdEODJGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZFQzEyNUQxN0UzQTExRTY5MDQ3QTE3RjVCRDdEODJGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkVDMTI1Q0U3RTNBMTFFNjkwNDdBMTdGNUJEN0Q4MkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkVDMTI1Q0Y3RTNBMTFFNjkwNDdBMTdGNUJEN0Q4MkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5/f0GxAAACH0lEQVR42qyWv0scQRTH3+5d0EKbExIOOy2tPA6iwYudVUQhClYGK4skRUggf0E0EEOChaVgYxOsLGz9Eb0T/NGmOSwtjqtyEZPc7fh9+vYYlpndWc8HH1mZN9958925t+N5Bz5ZwgMlMAuegn7wBPwGF+AQ/AAHQBkFLOLPwTdQoOQ4A+/AfnQgqpwBy2DXUZgkj/M/y/x2ZCMLrYN5Sh9s4UeQBwsgiFb+6Z7CevD8pajnY+KZR50Hv9xxftFh5StxwsFYK61FX0LPn8lRc4roQv7PjCmN9YpZOceJQvzMQrpYwo6mffHbGLqYpcK4mODKB9LMSOH/IIvnXERCW1LsIsfiddBnssQknCLq7Hm1Ewticqq+qeE8wFnn2GdbtsCHpEzdb8eFtli8As7BsGvFDv6zXiXsivxz3bSdDn6Oq9aw2IreuPjPia36lMFVF7mmsHFx/30d9uEOgue/MfXzMvjeoTjPP7J9Q7tksHBPO0bBX9s3lAdmQC2lMOe/1IVN4iTXhklw5SjMeVMyj5LEOY6lz/9LEObxOXlf5CpOqhTsUIte4LFhSWlgnHe4Hfe9C8kKGcG/feFrfoGGaAP/5bUDd0m/6JVaDE7l2LWEpqBwUJQu3AN6QTd4JNwtNuLlvPfeW3qMm1iN9tRXtUplVReh/8K1XPV4p013cdmFdnUItEqt4mFv4cQ/cpQyEUHPcO1QGlFb2k3oRoABAIVVs5Qx7DgzAAAAAElFTkSuQmCC"},"3702b":function(e,t,a){var i=a("98c3");e.exports={fillColor:"#01C302",url:i}},"8d87":function(e,t,a){var i=a("c0f0");e.exports={fillColor:"#01C302",url:i}},"8f6c":function(e,t,a){"use strict";var i=a("c9f3");a.n(i).a},"98c3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU2Njg2QUVEN0UzQjExRTY5NUZGQjIzQjQ3NTgyMEU2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU2Njg2QUVFN0UzQjExRTY5NUZGQjIzQjQ3NTgyMEU2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTY2ODZBRUI3RTNCMTFFNjk1RkZCMjNCNDc1ODIwRTYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTY2ODZBRUM3RTNCMTFFNjk1RkZCMjNCNDc1ODIwRTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6GFva4AAAB5klEQVR42qyVyytFURTG13aPZ6QokkhiZkLJxOMfkLphTEpGJCMTlMdIBkyMlL9AhJQZRgaYmKmbYuIWBoT73L51raPj3L1xH1/9bqe91v7ufq6t1FkBGVQI+kEQdIN6EAH34ALsgAMQ83dUBsMBsA6a6Hfdgmmw5230uimwJgl/mZHk7EofZTJcBTOUuWak748pB2VdctEge7BhET5uQGOOhnegxcHPkM2s6E1R7U2Ayp++lui1StNDa4KiZdqU3gCGHZlumoph1nzuUCD+vd5UGVYp81BXnCJm0yAvYKcpUoORec1ccRvHLOpkwzpTxJ2mSRWP1lgdG8Ypf4qxYcgU4Q2w6aXaGgux4YkpEm5JUMJJ78htHLPojM9hDz5ObTtd4zs2YRwbyw6z+tybcgnac1y/K9Dh3uXZPGzIgrc4HEvlyFZHYN9fbabAYxZm3GfCVL74co8AnYEZ545K3zRD1iFYzsBwRZ4Cshmy5sHmP8w4Z87fWGBJngRbv5htSw7915CvwjhY8q2plrYxySHrq6d7knwduHqXyjPKBNSG6qU2tZhKutbzekqfillMeAdR+GiTYQWo5uoFSuQPHM9MklKdouCDb6McmxfX0PGNmB/zZ0lMjVDMlGfKSd8II16DTwEGADTfiu5ZDIeLAAAAAElFTkSuQmCC"},"9e16":function(e,t,a){"use strict";a.r(t),a("7f7f"),a("96cf");var i,l=a("3b8d"),s=(a("386d"),a("c5f6"),a("ac6a"),{props:{options:{}},inject:["store"],data:function(){return{loading:!1,formData:{remark:""},loading1:!1,loading2:!1,loading3:!1,rules:{remark:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}]}}},methods:{notHandle:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;if(1==e.loading2||1==e.loading3)return!1;var a={context:e.formData.remark,alarmJson:JSON.stringify(e.options.jsonP),status:"2",vehicleId:e.$route.query.vehicleId,plateColor:e.$route.query.plateColor,plateCode:e.$route.query.plateCode};e.loading1=!0,e.$http({url:"/alarmInfo/updateAlarmInfo",data:a}).then(function(t){!t.flag&&t.errorCode?(e.$message.error({message:e.$t("error."+t.errorCode)}),e.loading1=!1):(e.$message.success(e.$t("action.sureSuccess")),e.store._table1.tableInitial()),e.options.flag=!1,e.loading1=!1})})},futHandle:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;if(1==e.loading1||1==e.loading3)return!1;var a={context:e.formData.remark,alarmJson:JSON.stringify(e.options.jsonP),status:"3",vehicleId:e.$route.query.vehicleId,plateColor:e.$route.query.plateColor,plateCode:e.$route.query.plateCode};e.loading2=!0,e.$http({url:"/alarmInfo/updateAlarmInfo",data:a}).then(function(t){!t.flag&&t.errorCode?(e.$message.error({message:e.$t("error."+t.errorCode)}),e.loading2=!1):(e.$message.success(e.$t("action.sureSuccess")),e.store._table1.tableInitial()),e.options.flag=!1,e.loading2=!1})})},handleOver:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;if(1==e.loading1||1==e.loading2)return!1;var a={context:e.formData.remark,alarmJson:JSON.stringify(e.options.jsonP),status:"1",vehicleId:e.$route.query.vehicleId,plateColor:e.$route.query.plateColor,plateCode:e.$route.query.plateCode};e.loading3=!0,e.$http({url:"/alarmInfo/updateAlarmInfo",data:a}).then(function(t){!t.flag&&t.errorCode?(e.$message.error({message:e.$t("error."+t.errorCode)}),e.loading3=!1):(e.$message.success(e.$t("action.sureSuccess")),e.store._table1.tableInitial()),e.options.flag=!1,e.loading3=!1})})}},watch:{"options.flag":function(e){e||(this.options.name="")}}}),r=a("2877"),o=Object(r.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",attrs:{"label-width":"100px",rules:e.rules,model:e.formData}},[a("el-form-item",{attrs:{label:e.$t("cvtsp.Handleopinions"),prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:e.$t("companyManage.ph1")},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading1},on:{click:e.notHandle}},[e._v(e._s(e.$t("filter.notdeal")))]),a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading2},on:{click:e.futHandle}},[e._v(e._s(e.$t("filter.Futuretreatment")))]),a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading3},on:{click:e.handleOver}},[e._v(e._s(e.$t("filter.processing")))])],1)],1)},[],!1,null,"3677b38c",null).exports,n=a("98c3"),c=a.n(n),m=a("c0f0"),p=a.n(m),d=a("7e2f"),h=a("2fc5"),u=a.n(h),g=(a("ed08"),a("2e17")),f=a("8d87"),b=a("3702b"),v={components:{remark:o},provide:function(){return{store:this}},mixins:[d.a],data:function(){return{language:"zh-CN",alarmStr:[],common:{alarmTree:[]},table1:{hour:"24",vehicleIds:this.$route.query.vehicleId,status:"",mapType:this.$store.getters.mapType,alarmTypeStr:""},table2:{vehicleIds:this.$route.query.vehicleId,status:"",startTime:this.$filter.format(new Date,"yyyy-MM-dd start"),endTime:this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss"),alarmTypeStr:""},markerAll:[],art:[],allPoints:[],allRow:[],allLinePoint:[],allData:null,listAll:[],startContext:null,endContext:null,color:!1,dialog:{title:"--",flag:!1,name:"",size:"dialog-tiny",jsonP:[],vId:this.$route.query.vehicleId,multipleSelection:[]},pointS:null,startPoint:null,endPoint:null,allInfo:{plateCode:"",carSpeed:"",gpsSpeed:"",driver:"",crew:"",alarmType:"",alarmAd:"",alarmTime:"",alarmRemark:""},allAlarm:[],isD:!0,value:[],arry:[],reset:!1,time:[this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd start")),this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss"))],pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()}},gou:!1,operation:{options:{current:1,size:10,total:0,flag:!1},loading:!1,startTime:null,endTime:null,alarm:"1",alarmTypes:[],alarmTypeStr:"",vehicleIds:[]},grid:{options:{current:1,size:10,total:0,flag:!1},alarm:"1",table:[],loading:!1,alarmTypes:[]},infoWindow:null,show:!0,height:350,activeName:"ORA",activeName2:"ALA",dataType:"",timeType:"24",typeList:[{label:"0",name:this.$t("filter.notdo")},{label:"2",name:this.$t("filter.notdeal")},{label:"3",name:this.$t("filter.Futuretreatment")},{label:"1",name:this.$t("filter.processing")}],timeList:[{id:"4",name:this.$t("filter.FourHours")},{id:"8",name:this.$t("filter.EightHours")},{id:"12",name:this.$t("filter.TwelveHours")},{id:"24",name:this.$t("filter.TwentyfourHours")}],fence:{fenceName:"",fenceType:""},camera:"0",form:{channel:["1"],interval:"1",photoNum:1,resolution:1,quality:1,lightness:1,contrast:0,saturation:0,color:0,sendtoServer:"0"},submitFalg:!1,rules:{interval:[{pattern:/^[0-9]/,message:this.$t("filter.type2"),trigger:"blur,change"},{min:1,max:5,message:"长度1-5之间"}],quality:{pattern:/^([1-9]{1}|10)$/,message:"1-10的数字",trigger:"blur, change"},lightness:{pattern:/^([1-9]{1}|10)$/,message:"1-10的数字",trigger:"blur, change"},contrast:{pattern:/^(\d{1}|[1-9]\d{1}|1\d{2}|2[0-4]\d{1}|25[0-5])$/,message:"0-255的数字",trigger:"blur, change"},saturation:{pattern:/^(\d{1}|[1-9]\d{1}|1[0-2]{1}[0-7]{1})$/,message:"0-127的数字",trigger:"blur, change"},color:{pattern:/^(\d{1}|[1-9]\d{1}|1\d{2}|2[0-4]\d{1}|25[0-5])$/,message:"0-255的数字",trigger:"blur, change"}}}},computed:{_table1:function(){return this.$refs.table1},_table2:function(){return this.$refs.table2},_map:function(){return this.$refs.mapCod.mapMethods}},created:function(){this.language=localStorage.getItem("language")},methods:{plateCode:function(e){return e.plateCode+"("+this.$filter.plateCodeColor(e.plateColor)+")"},goBack:function(){this.activeName2="ALA"},history:function(){var e=this,t={vehicleId:this.$route.query.vehicleId,startTime:this.$filter.format((new Date).getTime()-864e5,"yyyy-MM-dd HH:mm:ss"),endTime:this.$filter.format((new Date).getTime(),"yyyy-MM-dd HH:mm:ss"),isCompress:!0,isAllLocations:!1,mapType:this.$store.getters.mapType};this.$http({url:"/vtrack/findDailyMileage.do",responseType:"arraybuffer",params:t}).then(function(t){var a=JSON.parse(e.unzip(t.data));e.searchResultDetail(a)})},searchResultDetail:function(e){this._map.clearOverlays(),this.$service.isEmptyObject(e)||(e.listAll=JSON.parse(e.listAll),this.listAll=this.$service.isArray(e.listAll)?e.listAll:[],this.showLines(e.listAll))},showLines:function(e){var t=[];this.$service.isArray(e)&&0<e.length&&(e.forEach(function(e,a){t.push({lng:e.mapLongitude,lat:e.mapLatitude})}),this.allLineOne=this._map.mapAddline(t,{strokeWeight:8,strokeColor:"#559afc"}),this.showStartEnd(e,t))},showStartEnd:function(e,t){this.allData=e;var a,i,l=(this.allLinePoint=t).length-1,s=e.length-1,r=t[0],o=t[l],n=e[0],c=e[s];a='\n\t\t\t\t<div class="mapcontent">'.concat(this.$t("vehicle.startLoc"),": ").concat(""==n.locationDesc?this.$t("action.nopositionMess"):n.locationDesc,"\n           <br>\n                                  <span>").concat(this.$t("processing.speed"),": ")+n.gpsSpeed+" km/h  "+"</span>\n           <br>\n                                  <span>".concat(this.$t("processing.timer"),": ")+this.$filter.format(n.gpsTime,"yyyy-MM-dd HH:mm:ss")+"</span>\n\n\n          </div>",this.startPoint=this._map.mapAddpoint({longitude:Number(r.lng),latitude:Number(r.lat)},"cvGoogleMap"==this.$store.getters.mapName?g:u.a,{width:36,height:36}),this._map.overlayClickOpenInfoWindow(this.startPoint,this.startPoint.point,a),this._map.addOverlay(this.startPoint),i='\n              <div class="mapcontent">\n\n              '.concat(this.$t("vehicle.endLoc"),": ").concat(""==c.locationDesc?this.$t("action.nopositionMess"):c.locationDesc,"\n                       <br>\n                                  <span>").concat(this.$t("processing.speed"),": ")+c.gpsSpeed+" km/h  "+"</span>\n           <br>\n                                  <span>".concat(this.$t("processing.timer"),": ")+this.$filter.format(c.gpsTime,"yyyy-MM-dd HH:mm:ss")+"</span>\n\n\n                </div>",this.endPoint=this._map.mapAddpoint({longitude:Number(o.lng),latitude:Number(o.lat)},"cvGoogleMap"==this.$store.getters.mapName?f:p.a,{width:36,height:36}),this._map.overlayClickOpenInfoWindow(this.endPoint,this.endPoint.point,i),this._map.addOverlay(this.endPoint)},allReady:function(){this.history()},handleChange:function(e,t){var a=this.tContent(t),i=this,l=this._map.point({lat:t.mapLa,lng:t.mapLo},"cvGoogleMap"==this.$store.getters.mapName?b:c.a,{width:32,height:32}),s=this._map.openInfoWindow(a,"cvGoogleMap"!=this.$store.getters.mapName?{offset:1==localStorage.getItem("mapType")?new BMap.Size(-5,-20):new AMap.Pixel(-5,-20)}:"",l);this.markerAll[t.id]?(this._map.removeOverlay(this.markerAll[t.id]),this._map.closeInfoWindow(s),this.markerAll[t.id]=!1):(this.markerAll[t.id]=this._map.mapAddpoint({longitude:t.mapLo,latitude:t.mapLa},"cvGoogleMap"==this.$store.getters.mapName?b:c.a,{width:32,height:32}),this._map.addOverlay(this.markerAll[t.id]),this._map.moveToCenter(l,17),this._map.openInfoWindow(a,"cvGoogleMap"!=this.$store.getters.mapName?{offset:1==localStorage.getItem("mapType")?new BMap.Size(-5,-20):new AMap.Pixel(-5,-20)}:"",l),this._map.overlayClickOpenInfoWindow(this.markerAll[t.id],l,a,function(e){return i.infoWindow=e},{}))},tContent:function(e){return"<div>\n                            <span>".concat(this.$t("processing.alramNumber"),": ")+e.plateCode+"</span>\n                            <br>\n                            <span>".concat(this.$t("processing.speed"),": ")+e.speed+" </span>\n                            <br>\n                            <span>".concat(this.$t("processing.time"),": ")+e.time+"</span>\n                            <br>\n                            <span>".concat(this.$t("processing.location"),": ")+e.locationName+"</span>\n                          </div>"},changeSelect:function(e){var t=this;0==e.length&&this._map.clearOverlays(),this.dialog.multipleSelection=e,this.dialog.multipleSelection.forEach(function(e,a){t.dialog.rowTime=e.time,t.dialog.rowType=e.alarmId})},setClick:function(){this.dialog.flag=!0,this.dialog.size="dialog-small",this.dialog.name="remark",this.dialog.title=this.$t("processing.Handle")},handleStutas:function(e){return this.$filter.alarmTp(e.status)},showInfo:function(e){this.allInfo.plateCode=e.plateCode,this.allInfo.crew=e.fleetName,this.allInfo.alarmAd=e.locationName,this.allInfo.gpsSpeed=e.gpsSpeed,this.allInfo.carSpeed=e.speed,this.allInfo.alarmTime=e.time,this.allInfo.driver=e.driverName},searchClick:function(e){this._table1.tableInitial()},isSearch:function(){"ALF"==this.activeName2?this.search():this.searchClick()},search:(i=Object(l.a)(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],0<this.operation.vehicleIds.length&&this.operation.vehicleIds.forEach(function(e,a){t.push(e.id)}),null!=this.time&&null!=this.table2.startTime&&null!=this.table2.endTime?this.$filter.timeRange(this.table2.startTime,this.table2.endTime)<=3?setTimeout(function(){a._table2.tableInitial()},0):this.$message.error({message:this.$t("action.time3Mess")}):this.$message.error({message:this.$t("reportForm.overSpeed.selectTime")});case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),filterAlarmType:function(e){for(var t=0;t<this.allAlarm.length;t++)if(this.allAlarm[t].alarmId==e.alarmId)return this.allAlarm[t].alarmName},allAlarmType:function(e){this.allAlarm=e},save:function(){var e=this,t=this;this.$refs.form.validate(function(a){if(!a)return!1;!function(){var a={channel:"",color:Number(e.form.color),contrast:Number(e.form.contrast),enterpriseId:e.$store.getters.user.enterpriseId,interval:Number(e.form.photoNum),lightness:Number(e.form.lightness),photoNum:"1"===e.camera?0:Number(e.form.photoNum),quality:Number(e.form.quality),resolution:Number(e.form.resolution),saturation:Number(e.form.saturation),sendtoServer:Number(e.form.sendtoServer),vehicleId:Number(e.$route.query.vehicleId)};if(e.submitFalg=!0,0<t.form.channel.length){for(var i=function(i,s){Object(l.a)(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:a.channel=t.form.channel[i],t.cameraQuest(a).then(function(a){a.flag?t.$message.success(e.$t("action.orderSendMess")):t.$message.error(e.$t("error.7101"))});case 2:case"end":return l.stop()}},l)}))()},s=0,r=t.form.channel.length;s<r;s++)i(s);t.submitFalg=!1}else e.submitFalg=!1,e.$message.error(e.$t("action.cameraSelectMess"))}()})},cameraQuest:function(e){return this.$http({url:"/sendOrder/photo",params:e})}},watch:{dataType:function(e){this.table1.status=e,this.table2.status=e},alarmStr:function(e){this.table1.alarmTypeStr=e&&e.join(","),this.table2.alarmTypeStr=e&&e.join(",")},"dialog.multipleSelection":function(e){var t=this;0<e.length?(e.forEach(function(e,a){var i=t.tContent(e),l=t,s=t._map.point({lat:e.mapLa,lng:e.mapLo},"cvGoogleMap"==t.$store.getters.mapName?b:c.a,{width:32,height:32}),r=t._map.openInfoWindow(i,"cvGoogleMap"!=t.$store.getters.mapName?{offset:1==localStorage.getItem("mapType")?new BMap.Size(-5,-20):new AMap.Pixel(-5,-20)}:"",s);t.markerAll[e.id]&&(t._map.removeOverlay(t.markerAll[e.id]),t._map.closeInfoWindow(r),t.markerAll[e.id]=!1),t.markerAll[e.id]=t._map.mapAddpoint({longitude:e.mapLo,latitude:e.mapLa},"cvGoogleMap"==t.$store.getters.mapName?b:c.a,{width:32,height:32}),t._map.addOverlay(t.markerAll[e.id]),t._map.moveToCenter(s,12),t._map.overlayClickOpenInfoWindow(t.markerAll[e.id],s,i,function(e){return l.infoWindow=e},{})}),this.isD=!1):this.isD=!0,this.dialog.jsonP=[],this.dialog.multipleSelection.forEach(function(e,a){t.dialog.jsonP.push({time:e.time,alarmId:e.alarmId})})},activeName:function(e){"ORB"==this.activeName?(this.show=!1,this.activeName2="ALF"):(this.show=!0,this.activeName2="ALA")},"allInfo.alarmType":function(e){for(var t=0;t<this.allAlarm.length;t++)if(this.allAlarm[t].alarmId==e)return this.allAlarm[t].alarmName}},mounted:function(){var e=this;this.table1.vehicleIds=this.$route.query.vehicleId,this.table2.vehicleIds=this.$route.query.vehicleId,this.$http({url:"/alarmInfo/frinAlarmTypeInfoList.do",params:{}}).then(function(t){t.flag&&(e.common.alarmTree=t.data.children)}),this.searchClick(),this.isSearch()}},y=(a("8f6c"),Object(r.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("cv-operation",{attrs:{position:"left"}},[a("el-form",{staticStyle:{"padding-left":"10px"},attrs:{inline:!0}},[a("el-form-item",{attrs:{label:e.$t("processing. type")}},[a("cv-dropdown-tree",{ref:"alarmTree",staticStyle:{display:"inline-block"},attrs:{isCheck:!0,"is-default":!1,data:e.common.alarmTree},model:{value:e.alarmStr,callback:function(t){e.alarmStr=t},expression:"alarmStr"}})],1),a("el-form-item",{attrs:{label:e.$t("processing. ProcessingSate")}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.typeList,function(e){return a("el-option",{key:e.label,attrs:{value:e.label,label:e.name}})}),1)],1),e.show?a("el-form-item",{attrs:{label:e.$t("processing. timeframe")}},[a("el-select",{attrs:{size:"small"},model:{value:e.timeType,callback:function(t){e.timeType=t},expression:"timeType"}},e._l(e.timeList,function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})}),1)],1):e._e(),e.show?e._e():a("el-form-item",{attrs:{label:e.$t("el.datepicker.selectTime")}},[a("el-date-picker",{staticClass:"picker",attrs:{"picker-options":e.pickerOptions0,editable:!1,type:"datetimerange",placeholder:e.$t("el.datepicker.Choicetimerange"),prop:"time",size:"small"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("cv-tool",{staticStyle:{position:"relative","z-index":"1000"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-modify":!1,"is-remove":!1,"is-add":!1},on:{search:e.isSearch}})],1)],1)],1),a("cv-content",{staticStyle:{"z-index":"1"}},[a("div",{staticClass:"left",staticStyle:{position:"relative","z-index":"1000"}},[e.show?a("el-row",{staticStyle:{position:"absolute","z-index":"9999",width:"50px",left:"705px",top:"5px"}},[a("el-button",{attrs:{type:"text",disabled:e.isD,size:"small"},on:{click:e.setClick}},[e._v(e._s(e.$t("processing.Handle")))])],1):e._e(),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$t("processing.newList"),name:"ORA"}},[a("el-row",[a("cv-grid",{ref:"table1",staticStyle:{position:"relative"},attrs:{params:e.table1,url:"/alarmInfo/findAlarmInfoListByVehicleId"},on:{select:e.handleChange,"selection-change":e.changeSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:e.$t("processing.type"),prop:"alarmName","min-width":"100px","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:e.$t("reportForm.overSpeed.vehicleInfo"),formatter:e.plateCode}}),a("el-table-column",{attrs:{label:e.$t("processing.time"),prop:"time","min-width":"130px","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:e.$t("processing.speed"),prop:"speed","show-overflow-tooltip":!0,"min-width":"50px"}}),a("el-table-column",{attrs:{label:e.$t("processing.gpsSpeed"),prop:"gpsSpeed","min-width":"50px"}}),a("el-table-column",{attrs:{label:e.$t("processing.ProcessingSate"),prop:"status","min-width":"100px",formatter:e.handleStutas}})],1)],1)],1),a("el-tab-pane",{attrs:{label:e.$t("processing.historyrecord"),name:"ORB"}},[a("el-row",[a("cv-grid",{ref:"table2",attrs:{params:e.table2,url:"/alarmInfo/findAlarmInfoList.do"},on:{"row-click":e.showInfo}},[a("el-table-column",{attrs:{label:e.$t("processing.type"),prop:"alarmName","min-width":"100px","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:e.$t("reportForm.overSpeed.vehicleInfo"),formatter:e.plateCode}}),a("el-table-column",{attrs:{label:e.$t("processing.time"),prop:"time","min-width":"130px","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:e.$t("processing.speed"),prop:"speed","show-overflow-tooltip":!0,"min-width":"50px"}}),a("el-table-column",{attrs:{label:e.$t("processing.gpsSpeed"),prop:"gpsSpeed","min-width":"50px"}}),a("el-table-column",{attrs:{label:e.$t("processing.ProcessingSate"),prop:"status","min-width":"100px",formatter:e.handleStutas}})],1)],1)],1)],1)],1),a("div",{staticClass:"right"},[a("el-tabs",{staticStyle:{width:"100%",height:"100%"},model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[a("el-tab-pane",{staticStyle:{position:"relative",height:"90%"},attrs:{label:e.$t("processing.map"),name:"ALA"}},[a(e.$store.getters.mapName,{ref:"mapCod",tag:"component",staticStyle:{width:"100%",height:"100%",overflow:"hidden",margin:"0"},attrs:{language:e.language},on:{ready:e.allReady}})],1),e.show?a("el-tab-pane",{staticStyle:{height:"300px","padding-left":"30px"},attrs:{label:e.$t("common.order.photo"),name:"ALC"}},[a("el-form",{ref:"form",staticClass:"cv-single-camera",attrs:{model:e.form,rules:e.rules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:e.$t("processing.camera"),prop:"channel",id:"first"}},[a("el-checkbox-group",{attrs:{size:"small"},model:{value:e.form.channel,callback:function(t){e.$set(e.form,"channel",t)},expression:"form.channel"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[e._v(e._s(e.$t("processing.number.no1")))]),a("el-checkbox",{attrs:{label:"2",name:"type"}},[e._v(e._s(e.$t("processing.number.no2")))]),a("el-checkbox",{attrs:{label:"3",name:"type"}},[e._v(e._s(e.$t("processing.number.no3")))]),a("el-checkbox",{attrs:{label:"4",name:"type"}},[e._v(e._s(e.$t("processing.number.no4")))])],1)],1),a("el-form-item",{staticClass:"second",attrs:{label:e.$t("processing.photoN"),prop:"photoNum"}},[a("el-select",{attrs:{size:"small"},model:{value:e.form.photoNum,callback:function(t){e.$set(e.form,"photoNum",t)},expression:"form.photoNum"}},[a("el-option",{attrs:{label:"0",value:"0"}}),a("el-option",{attrs:{label:"1",value:"1"}}),a("el-option",{attrs:{label:"2",value:"2"}}),a("el-option",{attrs:{label:"3",value:"3"}}),a("el-option",{attrs:{label:"4",value:"4"}}),a("el-option",{attrs:{label:"5",value:"5"}}),a("el-option",{attrs:{label:"6",value:"6"}}),a("el-option",{attrs:{label:"7",value:"7"}}),a("el-option",{attrs:{label:"8",value:"8"}}),a("el-option",{attrs:{label:"9",value:"9"}}),a("el-option",{attrs:{label:"10",value:"10"}})],1)],1),a("el-form-item",{staticClass:"third",attrs:{label:e.$t("processing.Uploadmode"),prop:"sendtoServer"}},[a("el-radio-group",{model:{value:e.form.sendtoServer,callback:function(t){e.$set(e.form,"sendtoServer",t)},expression:"form.sendtoServer"}},[a("el-radio",{attrs:{label:"1"}},[e._v(e._s(e.$t("action.save")))]),a("el-radio",{attrs:{label:"0"}},[e._v(e._s(e.$t("processing.Realttime")))])],1)],1),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary",loading:e.submitFalg},on:{click:e.save}},[e._v(e._s(e.$t("action.confirm")))]),a("el-button",{on:{click:e.goBack}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)],1):e._e(),e.show?e._e():a("el-tab-pane",{attrs:{label:e.$t("processing.detailrecord"),name:"ALF"}},[a("p",{staticStyle:{height:"50px"}},[a("span",{staticClass:"leftText"},[e._v(e._s(e.$t("reportForm.vehicleOpt.vehiclePlateCode"))+":")]),a("span",[e._v(e._s(e.allInfo.plateCode))])]),a("p",{staticStyle:{height:"50px"}},[a("span",{staticClass:"leftText"},[e._v(e._s(e.$t("processing.driver"))+":")]),a("span",[e._v(e._s(e.allInfo.driver))])]),a("p",{staticStyle:{height:"50px"}},[a("span",{staticClass:"leftText"},[e._v(e._s(e.$t("processing.newspeed"))+":")]),a("span",[e._v(e._s(e.allInfo.carSpeed+"(km/h)"))])]),a("p",{staticStyle:{height:"50px"}},[a("span",{staticClass:"leftText"},[e._v(e._s(e.$t("processing.gpsSpeed2"))+":")]),a("span",[e._v(e._s(e.allInfo.gpsSpeed+"(km/h)"))])]),a("p",{staticStyle:{height:"50px"}},[a("span",{staticClass:"leftText"},[e._v(e._s(e.$t("processing.time"))+":")]),a("span",[e._v(e._s(e.allInfo.alarmTime))])]),a("p",{staticStyle:{height:"50px"}},[a("span",{staticClass:"leftText"},[e._v(e._s(e.$t("processing.alramPlace"))+":")]),a("span",[e._v(e._s(e.allInfo.alarmAd))])]),a("p",{staticStyle:{height:"50px"}},[a("span",{staticClass:"leftText"},[e._v(e._s(e.$t("cE.ownCar"))+":")]),a("span",[e._v(e._s(e.allInfo.crew))])]),a("p",{staticStyle:{height:"50px"}},[a("span",{staticClass:"leftText"},[e._v(e._s(e.$t("processing.Remarks"))+":")]),a("span",[e._v(e._s(e.allInfo.alarmRemark))])])]),a("el-tab-pane",{staticStyle:{padding:"10px","box-sizing":"border-box"},attrs:{label:e.$t("processing.textuAlair")}},[a("el-button",{directives:[{name:"instruction",rawName:"v-instruction",value:{title:this.$t("processing.textuAlair"),id:this.$route.query.vehicleId?this.$route.query.vehicleId:"",enterpriseId:this.$route.query.enterpriseId?this.$route.query.enterpriseId:"",size:"dialog-middle",name:"textIssue",params:{vehicleId:this.$route.query.vehicleId?this.$route.query.vehicleId:"",enterpriseId:this.$route.query.enterpriseId?this.$route.query.enterpriseId:""}},expression:"{\n                            title: this.$t('processing.textuAlair'),\n                            id: this.$route.query.vehicleId?this.$route.query.vehicleId:'',\n                            enterpriseId:this.$route.query.enterpriseId?this.$route.query.enterpriseId:'',\n                            size: 'dialog-middle',\n                            name: 'textIssue',\n                            params:{vehicleId:this.$route.query.vehicleId?this.$route.query.vehicleId:'',enterpriseId:this.$route.query.enterpriseId?this.$route.query.enterpriseId:''}}"}],staticStyle:{"margin-top":"5px"},attrs:{size:"small"}},[e._v(e._s(this.$t("processing.textuAlair")))])],1)],1)],1)]),a("div",[a("el-dialog",{attrs:{visible:e.dialog.flag,title:e.dialog.title,"custom-class":e.dialog.size},on:{"update:visible":function(t){return e.$set(e.dialog,"flag",t)}}},[a(e.dialog.name,{tag:"component",attrs:{options:e.dialog}})],1)],1)],1)},[],!1,null,"7b37b438",null).exports);y.install=function(e){e.component(y.name,y)},t.default=y},c0f0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAeCAYAAADHJYVoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA4M0UxNDRDN0UzQjExRTZBQTM5QTgyQjM3QzY1RUFFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA4M0UxNDREN0UzQjExRTZBQTM5QTgyQjM3QzY1RUFFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDgzRTE0NEE3RTNCMTFFNkFBMzlBODJCMzdDNjVFQUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDgzRTE0NEI3RTNCMTFFNkFBMzlBODJCMzdDNjVFQUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz55ESDOAAACOklEQVR42qyWO0hcQRSG5+7eQHyhrIWIRSAW1hFRELNYWSlE0IApIpaigjYK9vGVgIlgK9hoIWIVtLDwQSJKNG06CyEpZCEm6/ra3et/5MwyTGbuY80PH9zLnfPPmbNnz71O5eylsMgBL0EvaAF1oAb8BafgC1gD+8AzGljMk2AeNIpgnYAxsKc/iGn3cTANdkIaC15H62c4viBX22gJvBXRRSWcALVgAOT1zN8VaayK4qf0srTxzv9D49wIBfMPfLR/9Hu81PfeUqL3suat3GqhpW5QNZcxLSG/Jpf72GqiBpvuffQqxvX2NaZreS8N9Y0M6qDMnwcdXzWRGwQYk+op84TpCQWbDPQT+ChBmadAdZjSqKdQN7CcIkWz5RAXzWE7IsBQ1ZHLA6fZVBZbuUL+oHtU8/WgnlY7JELm63Lk0th8EdQpEUrznaalNO8DK1GHiE9p3oBVaU7l+aZnX6Qo6yYau3Jw0fwdknP4EaL4YdM8PwAfH2lO8V9tr7lJ/nGL0QnHW9+hN6AHnEc0Pue4Gz9zwZ8NXSAT0jjD60+D3v5ShzznbwOM6flrXi/CmouLibJNkc924jJtWZLGc8r4s9/7TuIycYY2dsoHtxvjz1qWhROrLUR5+V+5s+P+9GL7MbddjskyHv4/nmpcDirAU/CEedjMbehIlHR/GolV1iXzf37uXm2MLmR/bKXY6I655k89Omk2tLk8hcxbydbXXH5x0cJLbqW4ZugYPjs8Bb0sObnoXoABABvI3ROZF4JrAAAAAElFTkSuQmCC"},c9f3:function(e,t,a){}}]);