(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7907c4eb"],{"3fb5":function(e,t,a){"use strict";a.r(t),a("386d");var r={props:{params:{}},computed:{_table:function(){return this.$refs.countTable}},methods:{refresh:function(){this._table.tableInitial()},plateCodeAndColor:function(e){return this.$filter.plateCodeColor(e.plateColor)}},watch:{params:function(){this.refresh()}}},s=a("2877"),l={props:{params:{}},computed:{_table:function(){return this.$refs.deailTable}},methods:{refresh:function(){this._table.tableInitial()},plateCodeAndColor:function(e){return this.$filter.plateCodeColor(e.plateColor)}},watch:{params:function(){this.refresh()}}},i={props:{params:{}},computed:{_table:function(){return this.$refs.typeTable}},methods:{refresh:function(){this._table.tableInitial()},plateCodeAndColor:function(e){return this.$filter.plateCodeColor(e.plateColor)},linkTo:function(e){this.$emit("linkTo",e)}},watch:{params:function(){this.refresh()}}},o={components:{countTable:Object(s.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cv-grid",{ref:"countTable",attrs:{params:e.params,url:"/superior/findSpeedUpAlarmPageInfo"}},[a("el-table-column",{attrs:{label:e.$t("cE.carNumber"),prop:"plateCode"}}),a("el-table-column",{attrs:{label:e.$t("cE.carColor"),prop:"plateColor",formatter:e.plateCodeAndColor}}),a("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blcarGroup"),prop:"fleetName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blenterprise"),"min-width":"120",prop:"enterpriseName"}}),a("el-table-column",{attrs:{label:"加速次数","min-width":"150",prop:"speedCount"}})],1)},[],!1,null,null,null).exports,deatilTable:Object(s.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cv-grid",{ref:"deailTable",attrs:{params:e.params,url:"/superior/findSpeedUpAlarmPageInfoByDetails"}},[a("el-table-column",{attrs:{label:e.$t("cE.carNumber"),prop:"plateCode"}}),a("el-table-column",{attrs:{label:e.$t("cE.carColor"),prop:"plateColor",formatter:e.plateCodeAndColor}}),a("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blcarGroup"),prop:"fleetName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blenterprise"),prop:"enterpriseName"}}),a("el-table-column",{attrs:{label:"加速频率类别",prop:"alarmTypeName"}}),a("el-table-column",{attrs:{label:"上传时间",prop:"time"}})],1)},[],!1,null,null,null).exports,typeTable:Object(s.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cv-grid",{ref:"typeTable",attrs:{params:e.params,url:"/superior/findSpeedUpAlarmPageInfoByType"}},[a("el-table-column",{attrs:{label:e.$t("cE.carNumber"),prop:"plateCode"}}),a("el-table-column",{attrs:{label:e.$t("cE.carColor"),prop:"plateColor",formatter:e.plateCodeAndColor}}),a("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blcarGroup"),prop:"fleetName"}}),a("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blenterprise"),prop:"enterpriseName"}}),a("el-table-column",{attrs:{label:"加速频率类别",prop:"alarmTypeName"}}),a("el-table-column",{attrs:{label:"加速次数",prop:"speedCount"}}),a("el-table-column",{attrs:{label:e.$t("action.operation"),prop:"operate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cv-span",{attrs:{type:"primary"},nativeOn:{click:function(a){return a.preventDefault(),e.linkTo(t)}}},[e._v("明细")])]}}])})],1)},[],!1,null,null,null).exports},mixins:[],data:function(){return{tabs:{activeName:"tabs0",titles:["统计信息","加速频率类别","明细信息"]},status:[{val:"48,49",name:"所有"},{val:"48",name:"急加速"},{val:"49",name:"急减速"}],search:{alarmIds:"48,49",status:"48,49",plateCode:"",enterpriseName:"",startTime:this.$filter.format(new Date,"yyyy-MM-dd start"),endTime:this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")},SEtimeT:[this.$filter.format(new Date,"yyyy-MM-dd start"),this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")],pickerOptionT:{disabledDate:function(e){return e.getTime()>Date.now()-864e5}}}},methods:{countTalbLoad:function(){this.search.alarmIds="48,49",this.$refs.count.refresh()},typeTableLoad:function(){this.search.alarmIds=this.search.status,this.$refs.type.refresh()},deatilTable:function(){this.search.alarmIds=this.search.status,this.$refs.deatil.refresh()},linkTo:function(e){this.search.plateCode=e.row.plateCode,this.search.status=e.row.alarmId,this.search.alarmIds=e.row.alarmId,this.tabShow=!0,this.tabs.activeName="tabs2",this.deatilTable()},searchMileageT:function(){if(null!=this.SEtimeT){var e=this.$filter.format(this.SEtimeT[0],"yyyy-MM-dd start"),t=this.$filter.format(this.SEtimeT[1],"yyyy-MM-dd end");if(this.searchReg(e,t))switch(this.tabs.activeName){case"tabs0":return this.countTalbLoad();case"tabs1":return this.typeTableLoad();case"tabs2":return this.deatilTable()}}else this.$message.error({message:this.$t("请选择时间")})},searchReg:function(e,t){return!(3<this.$filter.timeRange(e,t))||(this.$message.error({message:this.$t("查询时间间隔不能超过三天")}),!1)},down:function(){if(null!=this.SEtimeT){var e={startTime:this.$filter.format(new Date(this.SEtimeT[0]),"yyyy-MM-dd start"),endTime:this.$filter.format(new Date(this.SEtimeT[1]),"yyyy-MM-dd end"),plateCode:this.search.plateCode,enterpriseName:this.search.enterpriseName};if("tabs0"==this.tabs.activeName){e.current=this._tab0.$children[0].current,e.size=this._tab0.$children[0].size,e.alarmIds="48,49";var t=this.$service.winParams(this.$COMMON.baseUrl+"/superior/exportSpeedUpAlarmPageInfo",e);window.location.href=t}if("tabs1"==this.tabs.activeName){e.current=this._tab1.$children[0].current,e.size=this._tab1.$children[0].size,e.alarmIds=this.search.status;var a=this.$service.winParams(this.$COMMON.baseUrl+"/superior/exportSpeedUpAlarmPageInfoByType",e);window.location.href=a}if("tabs2"==this.tabs.activeName){e.current=this._tab2.$children[0].current,e.size=this._tab2.$children[0].size,e.alarmIds=this.search.status;var r=this.$service.winParams(this.$COMMON.baseUrl+"/superior/exportSpeedUpAlarmPageInfoByDetails",e);window.location.href=r}}else this.$message.error({message:this.$t("请选择时间")})}},computed:{_tab0:function(){return this.$refs.count},_tab1:function(){return this.$refs.type},_tab2:function(){return this.$refs.deatil}},watch:{SEtimeT:function(e){this.search.startTime=e?e[0]:"",this.search.endTime=e?e[1]:""}}},n=(a("829a"),Object(s.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"MileageStatistics"},[a("cv-operation",{staticClass:"header",attrs:{position:"left"}},[a("el-form-item",{attrs:{label:"起止时间"}},[a("el-date-picker",{staticStyle:{width:"260px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"small",editable:!1,clearable:!1,type:"daterange",placeholder:"选择时间范围","picker-options":e.pickerOptionT},model:{value:e.SEtimeT,callback:function(t){e.SEtimeT=t},expression:"SEtimeT"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"tabs0"!=e.tabs.activeName,expression:"tabs.activeName!='tabs0'"}],attrs:{label:"加速频率类别"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},e._l(e.status,function(e){return a("el-option",{key:e.val,attrs:{label:e.name,value:e.val}})}),1)],1),a("el-form-item",{attrs:{label:"车牌号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.search.plateCode,callback:function(t){e.$set(e.search,"plateCode","string"==typeof t?t.trim():t)},expression:"search.plateCode"}})],1),a("el-form-item",{attrs:{label:"所属公司"}},[a("el-input",{attrs:{size:"small"},model:{value:e.search.enterpriseName,callback:function(t){e.$set(e.search,"enterpriseName","string"==typeof t?t.trim():t)},expression:"search.enterpriseName"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-add":!1,"is-modify":!1,"is-remove":!1},on:{export:e.down,search:e.searchMileageT}})],1)],1),a("cv-content",[a("cv-tabs",{attrs:{titles:e.tabs.titles},model:{value:e.tabs.activeName,callback:function(t){e.$set(e.tabs,"activeName",t)},expression:"tabs.activeName"}},[a("count-table",{ref:"count",attrs:{params:e.search}}),a("type-table",{ref:"type",attrs:{params:e.search},on:{linkTo:e.linkTo}}),a("deatil-table",{ref:"deatil",attrs:{params:e.search}})],1)],1)],1)},[],!1,null,null,null).exports);t.default=n},"829a":function(e,t,a){"use strict";var r=a("8a34");a.n(r).a},"8a34":function(e,t,a){}}]);