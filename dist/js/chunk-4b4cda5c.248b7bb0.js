(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4b4cda5c"],{"76e2":function(t,a,e){"use strict";var n=e("9f26");e.n(n).a},"95b8":function(t,a,e){"use strict";e.r(a),e("7f7f"),e("28a5"),e("8bbf");var n={components:{HomeCount:function(){return e.e("chunk-626997b3").then(e.bind(null,"dca3"))},HomeSystemHelp:function(){return e.e("chunk-7085c636").then(e.bind(null,"8b76"))},HomeSystemNotice:function(){return e.e("chunk-770e9f59").then(e.bind(null,"d63e"))},HomeBroadcast:function(){return e.e("chunk-6549a185").then(e.bind(null,"8352"))},HomeVehicleDistribution:function(){return e.e("chunk-0255cd6f").then(e.bind(null,"8983"))},HomeOnlinevehicleEchart:function(){return e.e("chunk-410014e2").then(e.bind(null,"c32e"))},moreListDetail:function(){return e.e("chunk-48d8a818").then(e.bind(null,"23d4"))},broadcastDetail:function(){return e.e("chunk-6d595d77").then(e.bind(null,"7266"))}},data:function(){return{countList:{},httpS:"",chartData:[],mapChart:[],chinaMap:!0,onlineCar:!0,chartDataFor7:null,chartDataFor30:null,getMapData:[],maxDataA:0,accountTime:"",isGetTime:!1,currentChart:"anweek",timeButton:{weekDataKey:[],weekDataValue:[],monthDataKey:[],monthDataValue:[]},datas:[],moreListArray:[],broadcastlist:[],queryType:"",dialog:{flag:!1,title:"",size:"full",name:"",data:{}}}},methods:{findCarOnlineCount:function(t){var a=this;this.$store.dispatch("findVehicleOnlineCount").then(function(e){var n=e.data,i=e.flag;a.countList=i?n:{},t()})},getdataFor7:function(){var t=this;this.timeButton.weekDataKey=[],this.timeButton.weekDataValue=[],this.$store.dispatch("queryVehicleCountDaily",{queryType:7}).then(function(a){var e,n;for(var i in t.onlineCar=!1,a.data)e={value:a.data[i].date},t.timeButton.weekDataKey.push(e),n={value:a.data[i].count},t.timeButton.weekDataValue.push(n);var o={title:{text:t.$t("home.onV"),left:10,top:10,textStyle:{color:"#000",fontStyle:"normal",fontWeight:"normal",fontSize:16}},tooltip:{trigger:"axis"},axisLabel:{interval:0,inside:!0},grid:{left:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a.flag?t.timeButton.weekDataKey:[]},yAxis:{type:"value"},series:[{type:"line",smooth:!0,itemStyle:{normal:{color:"#01c302",lineStyle:{color:"#01c302"}}},data:a.flag?t.timeButton.weekDataValue:[]}]};t.chartDataFor7=o,t.chartData=o}).catch(function(){})},getdataFor30:function(){var t=this;this.timeButton.monthDataKey=[],this.timeButton.monthDataValue=[],this.$store.dispatch("queryVehicleCountDaily",{queryType:30}).then(function(a){var e,n;for(var i in t.onlineCar=!1,a.data)e={value:a.data[i].date},t.timeButton.monthDataKey.push(e),n={value:a.data[i].count},t.timeButton.monthDataValue.push(n);var o={title:{text:t.$t("home.onV"),left:10,top:10,textStyle:{color:"#000",fontStyle:"normal",fontWeight:"normal",fontSize:16}},tooltip:{trigger:"axis"},axisLabel:{interval:0},grid:{left:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a.flag?t.timeButton.monthDataKey:[]},yAxis:{type:"value"},series:[{type:"line",smooth:!0,itemStyle:{normal:{color:"#01c302",lineStyle:{color:"#01c302"}}},data:a.flag?t.timeButton.monthDataValue:[]}]};t.chartDataFor30=o})},openDetilList:function(t){this.dialog.flag=!0,this.dialog.data=t,this.dialog.name="moreListDetail",this.dialog.title=this.$t("home.SystemBulletin")},openBroadcast:function(t){this.dialog.flag=!0,this.dialog.data=t,this.dialog.name="broadcastDetail",this.dialog.title=t.title},anmonth:function(){this.currentChart="anmonth",this.chartData=this.chartDataFor30},anweek:function(){this.currentChart="anweek",this.chartData=this.chartDataFor7},getCarCount:function(t){var a=this;this.$store.dispatch("getMapVehcileCount").then(function(e){2==JSON.stringify(e.data).length&&(a.chinaMap=!1,a.onlineCar=!1),a.datas=e.data,e.data.result&&a.getDataDone(e.data.result,t),e.data.updateTime&&(a.accountTime=a.timeTranslate(e.data.updateTime),a.isGetTime=!0)})},timeTranslate:function(t){var a=new Date(t);return this.$filter.format(a,"yyyy/MM/dd HH:mm:ss")},getDataDone:function(t,a){for(var e=0,n=0;n<t.length;n++){var i=t[n].url.split(":"),o=parseInt(i[1]);e<o&&(e=o);var r=t[n].name;this.SpliceAreaName(r),this.getMapData.push({name:this.SpliceAreaName(r),value:o})}this.maxDataA=e,this.getMapCarCount(a)},SpliceAreaName:function(t){var a=t;return"新疆维吾尔自治区"==t&&(a=t.substring(0,2)),"内蒙古自治区"==t&&(a=t.substring(0,3)),"广西壮族自治区"==t&&(a=t.substring(0,2)),"西藏自治区"==t&&(a=t.substring(0,2)),"宁夏回族自治区"==t&&(a=t.substring(0,2)),"澳门特别行政区"==t&&(a=t.substring(0,2)),"香港特别行政区"==t&&(a=t.substring(0,2)),a},getMapCarCount:function(t){var a=this,e={tooltip:{trigger:"item",formatter:function(t){return t.data&&0<=parseInt(t.data.value)?t.data.name+":"+t.data.value:a.$t("home.nocar")}},legend:{orient:"vertical",selectedMode:!1,left:"30",top:"50",data:[a.$t("home.carNumber")]},visualMap:{max:a.maxDataA,left:"30",bottom:"50",text:[a.maxDataA,0],inRange:{color:["lightskyblue","yellow","orangered"]}},series:[{name:a.$t("home.carNumber"),type:"map",mapType:"china",roam:!0,scaleLimit:{min:1},left:"center",top:"30px",aspectScale:.8,label:{normal:{show:!0,formatter:function(t){if(t.data.name&&0<=parseInt(t.data.value))return t.data.name+":"+t.data.value},position:"inside",backgroundColor:"#fff",padding:[4,5],borderRadius:3,borderWidth:1,borderColor:"#000",color:"#777"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:.5,borderColor:"#000",areaColor:"#eee"},emphasis:{borderWidth:.5,borderColor:"#4b0082",areaColor:"#ffdf33"}},data:a.getMapData}]};a.mapChart=e,t()},getMoreList:function(){var t=this;this.$store.dispatch("findSysNoticeList",{status:1}).then(function(a){a.flag&&a.data?t.moreListArray=a.data.records:t.moreListArray=[]})},getBroadcast:function(){var t=this;this.$store.dispatch("findMessageRadioPagerInfoByUser",{}).then(function(a){a.flag&&a.data?t.broadcastlist=a.data.records:t.broadcastlist=[]})}},mounted:function(){var t=this;this.getMoreList(),this.getBroadcast(),this.findCarOnlineCount(function(a){t.getCarCount(function(a){t.chinaMap=!1,t.getdataFor7()})})}},i=(e("76e2"),e("2877")),o=Object(i.a)(n,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("cv-scrollbar",[e("el-row",{staticClass:"cv-home",staticStyle:{margin:"0 auto"},attrs:{gutter:10}},[e("el-col",{attrs:{span:24}},[e("cv-lazy-render",{staticClass:"cv-home-top",attrs:{time:"500",height:"65"}},[e("home-count",{attrs:{data:t.countList}})],1)],1)],1),e("el-row",{staticClass:"cv-home",staticStyle:{margin:"0 auto"},attrs:{gutter:10}},[e("el-col",{attrs:{span:12}},[e("cv-lazy-render",{attrs:{time:"500",height:"450"}},[e("home-vehicle-distribution",{staticClass:"chinaMap",attrs:{data:t.mapChart,time:t.accountTime}})],1)],1),e("el-col",{attrs:{span:12}},[e("cv-lazy-render",{attrs:{time:"500",height:"450"}},[e("home-onlinevehicle-echart",{staticClass:"chinaMap",attrs:{sevenData:t.chartDataFor7,thirtyData:t.chartDataFor30},on:{switchClick:t.getdataFor30}})],1)],1)],1),e("el-row",{staticClass:"cv-home",staticStyle:{margin:"0 auto"},attrs:{gutter:10}},[e("el-col",{attrs:{span:6}},[e("cv-lazy-render",{staticClass:"cv-home-grid ",attrs:{time:"500",height:"200"}},[e("home-system-help")],1)],1),e("el-col",{attrs:{span:9}},[e("cv-lazy-render",{staticClass:"cv-home-grid",attrs:{time:"500",height:"200"}},[e("home-system-notice",{attrs:{data:t.moreListArray},on:{detail:t.openDetilList}})],1)],1),e("el-col",{attrs:{span:9}},[e("cv-lazy-render",{staticClass:"cv-home-grid ",attrs:{time:"500",height:"200"}},[e("home-broadcast",{attrs:{data:t.broadcastlist},on:{detail:t.openBroadcast}})],1)],1)],1),e("el-dialog",{attrs:{visible:t.dialog.flag,title:t.dialog.title,"custom-class":t.dialog.size},on:{"update:visible":function(a){return t.$set(t.dialog,"flag",a)}}},[e(t.dialog.name,{tag:"component",attrs:{options:t.dialog}})],1)],1)},[],!1,null,null,null).exports;a.default=o},"9f26":function(t,a,e){}}]);