(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4e2a702d"],{8369:function(t,e,a){"use strict";var r=a("cebc");e.a={data:function(){return{table:{size:10,total:0,current:1,flag:!1,loading:!1,data:[]}}},methods:{tableLoading:function(t,e,a,i){var l=this;a?(this.table.flag=!0,this.table.current=1):this.table.flag=!1,this.table.loading=!0;var n=Object(r.a)({current:this.table.current,size:this.table.size},e);this.$http(i?{url:t,data:n}:{url:t,params:n}).then(function(t){var e=t.data;t.flag&&0!=e.length?(l.table.data=e.records,l.table.total=e.total,l.table.current=e.current):(l.table.data=[],l.table.total=0),l.table.loading=!1}).catch(function(t){l.table.loading=!1})},tableFilterColor:function(t){return this.$filter.plateCodeColor(t.plateColor)},tableFilterIcType:function(t){return this.$filter.icType(t.state)},tableFilterIcResult:function(t){return this.$filter.icResult(t.readerresult)},tableFilterTiredAlarm:function(t){return this.$filter.tiredAlarmType(t.alarm)},tableFilterTiredAdas:function(t){return this.$filter.tiredAdasType(t.alarm)},tableFilterOrderTypeS:function(t){return this.$filter.orderTypeS(t.sendFlag)},tableFilterFormat:function(t){return this.$filter.format(t.orderTime||t.gpsTime)},tableFilterFormats:function(t){return this.$filter.format(t.backTime)},tableBusLineType:function(t){return this.$filter.lineType(t.lineType)},tableFilterAcc:function(t){return this.$filter.accStatus(t.accStatus)},tableSplitMobile:function(t){return t.mobileCode?t.mobileCode.slice(1,t.mobileCode.length):""},tableConfirm:function(t){return this.$filter.isConfirm(t.isnotarize)},tableUpkeep:function(t){return this.$filter.isConfirm(t.type)},tableRenewal:function(t){return this.$filter.renewal(t.state)},tableReMot:function(t){return this.$filter.reMot(t.state)},tableOil:function(t){return this.$filter.fixNumber(t.total,2)},tableSex:function(t){return this.$filter.sex(t.sex)},plateCodeF:function(t){return t.plateCode?t.plateCode:"--"},plateCodeAndColor:function(t){return t.plateCode+"("+this.$filter.plateCodeColor(t.plateColor)+")"},driverStuas:function(t){return this.$filter.alarmStatus(t.fatigueDrive)},overStuas:function(t){return this.$filter.alarmStatus(t.tOversSpeed)},overHStuas:function(t){return this.$filter.alarmStatus(t.tOverSpeedH)},filterAlStuas:function(t){return this.$filter.alarmStatus(t.overSpeed)},filteralarmStuas:function(t){return this.$filter.alarmStatus(t.overSpeedH)},filterLStuas:function(t){return this.$filter.alarmStatus(t.forbid)},applyFlag:function(t){return this.$filter.applyFlag(t.applyFlag)},SEtime:function(t){return this.$filter.SEtime(t.StartTime,t.EndTime)},channelType:function(t){return this.$filter.channelType(t.Channel)},FileSize:function(t){return this.$filter.FileSize(t.fileSize||t.FileSize||0)},AlarmFilter:function(t){return this.$filter.AlarmFilter(t.Alarm)},MediaTypeFilter:function(t){return this.$filter.MediaTypeFilter(t.MediaType)},StreamTypeFilter:function(t){return this.$filter.StreamTypeFilter(t.StreamType)},StorageTypeFilter:function(t){return this.$filter.StorageTypeFilter(t.StorageType)},statusType:function(t){return this.$filter.statusType(t.Status)},fileSource:function(t){return this.$filter.fileSource(t.fileSource)}}}},d30c:function(t,e,a){"use strict";a.r(e),a("7f7f"),a("386d");var r={props:{data:{},loading:{type:Boolean,default:!1}},data:function(){return{dataItem:[]}},methods:{echartTip:function(t){return t.name+": "+t.value+"L"},showEcharts:function(t){var e=this,a={legend:{data:"油量",x:"left"},grid:{left:"3%",right:"5%",bottom:"3%",containLabel:!0},tooltip:{formatter:function(t){var a=t;return e.echartTip(a)}},xAxis:{type:"category",name:"时间",boundaryGap:!1,data:t.x},yAxis:[{name:"油量(L)",type:"value"}],series:[{name:"油量",type:"line",itemStyle:{normal:{color:"red"}},symbolSize:8,lineStyle:{normal:{width:3}},data:t.y1}]};this.dataItem=a}},watch:{data:function(t){this.showEcharts(t)}},mounted:function(){this.showEcharts()}},i=a("2877"),l={components:{echart:Object(i.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"oilHistory-echart",staticStyle:{width:"100%","margin-top":"40px"}},[e("cv-echart",{staticClass:"propChart",staticStyle:{width:"100%",height:"240px"},attrs:{name:"line",data:this.dataItem}})],1)},[],!1,null,"c07d835c",null).exports},mixins:[a("8369").a],data:function(){return{search:{searchTime:[this.$filter.timeStamp(this.$filter.format(new Date-864e5,"yyyy-MM-dd start")),this.$filter.timeStamp(this.$filter.format(new Date-864e5,"yyyy-MM-dd end"))],vehicleId:""},pickerOption:{disabledDate:function(t){return t.getTime()>Date.now()-864e5}},echarts:{loading:!1,dataItem:[]}}},methods:{loadList:function(t){var e=this.getSearchParams();e&&this.tableLoading(this.api,e,t)},getSearchParams:function(){return this.search.searchTime?this.search.vehicleId?{startTime:this.$filter.format(this.search.searchTime[0],"yyyy-MM-dd HH:mm:ss"),endTime:this.$filter.format(this.search.searchTime[1],"yyyy-MM-dd HH:mm:ss"),vehicleId:this.search.vehicleId}:(this.$message.warning("请选择查询的车辆！"),!1):(this.$message.warning("请选择查询的起始时间！"),!1)},getEchartData:function(){var t=this.getSearchParams();t&&this.$store.dispatch("queryVehicleTrack",t).then(function(t){})}},watch:{"$store.getters.ptSingleCar":function(t){this.search.vehicleId=t.id}}},n=Object(i.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oliHistory-list"},[a("cv-header",[a("el-form-item",{attrs:{label:"查询起始时间",prop:"roleToUser"}},[a("el-date-picker",{attrs:{editable:!1,clearable:!1,size:"small",type:"datetimerange","picker-options":t.pickerOption},model:{value:t.search.searchTime,callback:function(e){t.$set(t.search,"searchTime",e)},expression:"search.searchTime"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("cv-tool",{attrs:{name:t.$route.name,data:t.$store.getters.monitorMenu,"is-modify":!1,"is-export":!1,"is-add":!1},on:{search:t.loadList}})],1)],1),a("cv-content",[a("cv-grid",{staticClass:"table",attrs:{options:t.table},on:{load:function(e){return t.loadList(!1)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],attrs:{border:"",stripe:"",data:t.table.data}},[a("el-table-column",{attrs:{label:"油量(L)",prop:"plateCode"}}),a("el-table-column",{attrs:{label:"上报时间",prop:"plateCode"}})],1)],1),a("echart",{attrs:{data:t.echarts.dataItem,loading:t.echarts.loading}})],1)],1)},[],!1,null,"c1ab2716",null).exports;n.install=function(t){t.component(n.name,n)},e.default=n}}]);