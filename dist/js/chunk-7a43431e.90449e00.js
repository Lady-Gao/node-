(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7a43431e"],{"05c0":function(e,t,n){"use strict";n("7f7f"),n("20d6"),n("ac6a");var a=n("cebc"),s=n("3f4e"),i=n("2f62"),o={name:"CvPublictreeContent",components:{CvContent:s.a},props:{model:String,vehicleMonitor:Function,loading:Boolean,noresize:{default:!1,type:Boolean}},data:function(){return{entryList:[],condition:""}},computed:Object(a.a)({},Object(i.c)(["onlineList","isAttention","socketEnterprise","socketVehicle","vehicle_data","vehicleCondition"]),{isCheck:function(){switch(this.model){case"multi":return!0;case"single":default:return!1}},_treeMethods:function(){return this.$refs.tabs},_contentMethods:function(){return this.$refs.content}}),beforeDestroy:function(){var e=this._treeMethods.getAllNodes;this.setStoreVehicleSearchCondition(this.condition),this.setStoreVehicleData(e())},mounted:function(){var e=this._treeMethods.$refs.tree.reference().ztreeApi;e()&&e().checkAllNodes(!1)},methods:Object(a.a)({},Object(i.b)(["setStoreVehicleData","setStoreVehicleSearchCondition"]),{handlerVehicleSearch:function(e){this.condition=e},vehicle_Monitor:function(e){var t=e.data;if(e.name,"function"==typeof this.vehicleMonitor)switch(this.model){case"multi":return this.vehicle_Monitor_multi(e);case"single":return this.vehicleMonitor(t[0])}},vehicle_Monitor_multi:function(e){var t=this,n=e.data;switch(e.name){case"check":this.entryList=this.entryList.concat(n);break;case"cancel":n.forEach(function(e){var n=t.entryList.findIndex(function(t){return t.id==e.id});0<=n&&t.entryList.splice(n,1)})}this.vehicleMonitor(this.entryList)}})},c=(n("45d7"),n("2877")),r=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("cv-content",{ref:"content",attrs:{loading:e.loading,noresize:e.noresize}},[e.model?n("cv-tabs-tree",{ref:"tabs",staticClass:"vehiclemaster-tree",attrs:{slot:"aside","vehicle-search":e.vehicleCondition,"is-checked":e.isCheck,"tree-data":e.vehicle_data,"online-monitor":e.onlineList,"vehicle-monitor":e.socketVehicle,"attention-monitor":e.isAttention,"enterprise-fleet-monitor":e.socketEnterprise,"node-monitor":e.vehicle_Monitor},on:{"vehicle-choose-search":e.handlerVehicleSearch},slot:"aside"}):e._e(),e._t("default")],2)},[],!1,null,"2dfdf41b",null).exports;r.install=function(e){e.component(r.name,r)},t.a=r},"45d7":function(e,t,n){"use strict";var a=n("6e18");n.n(a).a},"6e18":function(e,t,n){},b0ad:function(e,t,n){"use strict";(function(e){n("7f7f"),t.a={methods:{confirmPrompt:function(e,t){var n=this,a=e||this.$t("action.confirmIsRemove");return new Promise(function(e,s){n.$confirm(a,n.$t("action.tip"),{confirmButtonText:n.$t("action.confirm"),cancelButtonText:n.$t("action.cancel"),type:"warning"}).then(function(){e()}).catch(function(){"function"==typeof t&&t()})})},timeLimitFunc:function(e,t,n){if(e&&t)return((new Date(t)-new Date(e))/864e5).toFixed(1)<=n||this.$message.error({message:this.$t("请选择时间范围在"+n+"天内")});this.$message.error({message:this.$t("请选择时间范围")})},addRemoveUnique:function(e,t,n){var a=e.length,s=t.length;return s<a?{name:"add",data:this.$service.isUnique(e,t,n)}:a<s?{name:"remove",data:this.$service.isUnique(t,e,n)}:a==s?{name:"equal",data:this.$service.isUnique(e,t,n)}:void 0},showTooltip:function(e,t){var n=e.target,a=this.$refs[t];a.referenceElm=n,a.$refs.popper.style.display="none",a.doDestroy(),a.setExpectedState(!0),a.handleShowPopper()},mouseenterShowTip:function(e,t,n){var a=e.target;if(a.scrollWidth>a.offsetWidth||n)return this.showTooltip(e,t),n?n.startTime+"~"+n.endTime:a.innerText},mouseenterShowToolTip:function(e,t,n){var a=e.target;return this.showTooltip(e,t),!n&&a.innerText},mouseoverHideTip:function(e){var t=this.$refs[e];t&&(t.setExpectedState(!1),t.handleClosePopper())},asyncDownloadScript:function(t,n){var a=this,s=0<arguments.length&&void 0!==t?t:"Baidu",i=1<arguments.length?n:void 0;return e[s]?e[s]._preloader?e[s]._preloader:Promise.resolve(e[s]):(e[s]={},e[s]._preloader=new Promise(function(t,n){var o=document.createElement("script");o.src=i,e.document.body.appendChild(o),a.$service.isIe()&&a.$service.IE_VERSION<11?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(t(e[s]),e[s]._preloader=null)}:o.onload=function(){t(e[s]),e[s]._preloader=null}}),e[s]._preloader)}}}}).call(this,n("c8ba"))},bf2c:function(e,t,n){},c178:function(e,t,n){"use strict";n.r(t);var a=n("bd86"),s=n("05c0"),i=n("b0ad"),o={components:{CvPublictreeContent:s.a},mixins:[i.a],data:function(){var e;return{showCar:"--",car:"",setTimeB:null,vehicleId:"",vehicleInfo:(e={alarmCount:"",directionText:"",dspeed:"",height:"",plateCode:"",plateColor:"",gpsSpeed:"",locationDesc:""},Object(a.a)(e,"height",""),Object(a.a)(e,"gpsTime",""),e),canEngine:{accPedalPosition:"",avgConsumeRate:"",breakClutchStatus:"",breakStatus:"",breakSwitchStatus:"",clutchSwitchStatus:"",gpsTime:"",idleRotateSpeed:"",idleTorque:"",needTorque:"",oilConsumeRate:"",realTorque:"",rotateSpeedLoad:"",rotateSpeed:"",speed:"",transientOilConsumeRate:""},canFuel:{airInBoostPressure:"",airInPortTemp:"",airPressure:"",airTemp:"",coolingFluidLevel:"",engineCoolWaterTemp:"",grainGatherInAirPres:"",machineOilLevel:"",machineOilPressure:"",machineOilTemp:"",oilPressure:"",oilTemp:"",outAirTemp:"",relativeBoostPressure:"",ureaTankLevel:"",ureaTankTemp:"",gpsTime:""},canTotal:{averageFuelEconomy:"",batteryVoltage:"",engineTotalOperateTime:"",engineTotalRotateNum:"",instantaneousFuelEconomy:"",latestMileage:"",oilContainWater:"",totalFuelUsed:"",totalMileage:"",gpsTime:""}}},methods:{canVehicle:function(e){this.vehicleId=e.id,this.showCar=e.plateCode,this.CANData(),this.getTimeS()},closeTime:function(){clearInterval(this.setTimeB),this.setTimeB=null},CANData:function(){var e=this,t={vehicleId:this.vehicleId};this.$store.dispatch("queryCanView",t).then(function(t){t.flag?setTimeout(function(){t.data&&0!=t.data.length?(null==t.data.canEngine?this.canEngine={}:this.canEngine=t.data.canEngine,null==t.data.vehicleInfo?this.canEngine={}:this.vehicleInfo=t.data.vehicleInfo,null==t.data.canFuel?this.canFuel={}:this.canFuel=t.data.canFuel,null==t.data.canTotal?this.canTotal={}:this.canTotal=t.data.canTotal):(this.$message.error("CAN数据为空"),this.closeTime())}.bind(e)):(e.$message.error({message:e.$t("error."+t.errorCode)}),e.closeTime())}).catch(function(t){e.closeTime(),e.$message.error("网络异常")})},getTimeS:function(){var e=this;this.canEngine={},this.vehicleInfo={},this.canFuel={},this.canTotal={},this.closeTime(),this.setTimeB=setInterval(function(t){e.CANData()},3e3)}},beforeDestroy:function(){this.closeTime()}},c=(n("f4a3"),n("2877")),r=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"CANData"},[n("cv-operation",[n("el-form-item",{attrs:{label:"当前选择车辆"}},[n("el-input",{attrs:{readonly:""},model:{value:e.showCar,callback:function(t){e.showCar=t},expression:"showCar"}})],1)],1),n("cv-publictree-content",{attrs:{model:"single","vehicle-monitor":e.canVehicle}},[n("h3",[e._v("车辆基本信息")]),n("div",{staticClass:"CANLeft",attrs:{data:e.vehicleInfo}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        车牌号:"+e._s(e.vehicleInfo.plateCode)+"\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        车牌颜色:"+e._s(e._f("plateCodeColor")(e.vehicleInfo.plateColor,e.vehicleInfo.plateColor))+"\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        GPS车速:"+e._s(e.vehicleInfo.gpsSpeed)+"km/h\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        行驶记录仪车速:"+e._s(e.vehicleInfo.dspeed)+"km/h\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        方向:"+e._s(e._f("direction")(e.vehicleInfo.directionText,e.vehicleInfo.directionText))+"\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        海拔:"+e._s(e.vehicleInfo.height)+"M\n                    ")],1)]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        报警数量:"+e._s(e.vehicleInfo.alarmCount)+"\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        位置:"+e._s(e.vehicleInfo.locationDesc)+"\n                    ")],1)]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        上报时间:"+e._s(e._f("format")(e.vehicleInfo.gpsTime,e.vehicleInfo.gpsTime,"yyyy-MM-dd HH:mm:ss"))+"\n                    ")],1)])],1)],1),n("h3",[e._v("CAN制动信息")]),n("div",{staticClass:"CANLeft",attrs:{data:e.canEngine}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        发动机转速:"+e._s(e.canEngine.rotateSpeed)+"rpm\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        加速踏板位置百分比:"+e._s(e.canEngine.accPedalPosition)+"%\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        燃油消耗率:"+e._s(e.canEngine.oilConsumeRate)+"L/h\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        瞬间油耗率:"+e._s(e.canEngine.transientOilConsumeRate)+"L/100km\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        当前转速下负荷百分比:"+e._s(e.canEngine.rotateSpeedLoad)+"%\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        平均燃油消耗率:"+e._s(e.canEngine.avgConsumeRate)+"%\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        车速:"+e._s(e.canEngine.speed)+"km/h\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        怠速转速:"+e._s(e.canEngine.idleRotateSpeed)+"rpm\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        刹车状态:"+e._s(e._f("breakCarStatus")(e.canEngine.breakStatus,e.canEngine.breakStatus))+"\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        离合开关状态:"+e._s(e._f("topCapStatus")(e.canEngine.clutchSwitchStatus,e.canEngine.clutchSwitchStatus))+"\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        刹车开关状态:"+e._s(e._f("topCapStatus")(e.canEngine.breakSwitchStatus,e.canEngine.breakSwitchStatus))+"\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        怠速扭矩:"+e._s(e.canEngine.idleTorque)+"%\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        发动机实际扭矩百分比:"+e._s(e.canEngine.realTorque)+"%\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        发动机需求扭矩百分比:"+e._s(e.canEngine.needTorque)+"%\n                    ")],1)]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        数据上报时间:"+e._s(e.canEngine.gpsTime)+"\n                    ")],1)])],1),n("el-row")],1),n("h3",[e._v("CAN燃油信息")]),n("div",{staticClass:"CANLeft",attrs:{data:e.canFuel}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        燃油压力:"+e._s(e.canFuel.oilPressure)+"Kpa\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        发动机进气温度:"+e._s(e.canFuel.engineInAirTemp)+"℃\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        机油液位:"+e._s(e.canFuel.machineOilLeve)+"%\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        排气温度:"+e._s(e.canFuel.outAirTemp)+"℃\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        大气压力:"+e._s(e.canFuel.airPressure)+"Kpa\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        机油压力:"+e._s(e.canFuel.machineOilPressure)+"Kpa\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        大气温度:"+e._s(e.canFuel.airTemp)+"℃\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        冷却液液位:"+e._s(e.canFuel.coolingFluidLevel)+"%\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        进气口温度:"+e._s(e.canFuel.airInPortTemp)+"℃\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        发动机冷却水温度:"+e._s(e.canFuel.engineCoolWaterTemp)+"℃\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        颗粒捕集器进气压力:"+e._s(e.canFuel.grainGatherInAirPres)+"Kpa\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        燃油温度:"+e._s(e.canFuel.oilTemp)+"℃\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        相对增压压力:"+e._s(e.canFuel.relativeBoostPressure)+"Kpa\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        机油温度:"+e._s(e.canFuel.machineOilTemp)+"℃\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        进气增压压力:"+e._s(e.canFuel.airInBoostPressure)+"Kpa\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        尿素箱液位:"+e._s(e.canFuel.ureaTankLevel)+"%\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        尿素箱温度:"+e._s(e.canFuel.ureaTankTemp)+"℃\n                    ")],1)]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        数据上报时间:"+e._s(e.canFuel.gpsTime)+"\n                    ")],1)])],1)],1),n("h3",[e._v("CAN其他信息")]),n("div",{staticClass:"CANLeft",attrs:{data:e.canTotal}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        天然气瞬时气耗率:"+e._s(e.canTotal.instantaneousFuelEconomy)+"m³/100km\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        天然气平均气耗率:"+e._s(e.canTotal.averageFuelEconomy)+"km/Lm³/100km\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        天然气总气耗率:"+e._s(e.canTotal.totalFuelUsed)+"m³\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        油中有水:"+e._s(e.canTotal.oilContainWater)+"\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        总行驶里程:"+e._s(e.canTotal.totalMileage)+"km\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        发动机累计转数:"+e._s(e.canTotal.engineTotalRotateNum)+"\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        蓄电池电压:"+e._s(e.canTotal.batteryVoltage)+"V\n                    ")],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        本次驾驶里程:"+e._s(e.canTotal.latestMileage)+"km\n                    ")],1)])],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        发动机累计运行时间:"+e._s(e.canTotal.engineTotalOperateTime)+"h\n                    ")],1)]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content"},[n("cv-icon",{attrs:{name:"niaokanpressed"}}),e._v("\n                        数据上报时间:"+e._s(e.canTotal.gpsTime)+"\n                    ")],1)])],1)],1)])],1)},[],!1,null,null,null).exports;t.default=r},f4a3:function(e,t,n){"use strict";var a=n("bf2c");n.n(a).a}}]);