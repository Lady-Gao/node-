(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0b5afc93"],{"023f":function(e,t,a){},"128b":function(e,t,a){},"16b2":function(e,t,a){"use strict";var r=a("128b");a.n(r).a},"31b9":function(e,t,a){"use strict";var r=a("be87");a.n(r).a},"359d":function(e,t,a){"use strict";var r=a("8850");a.n(r).a},"439a":function(e,t,a){},"5abe":function(e,t,a){"use strict";var r=a("8f30");a.n(r).a},"5eac":function(e,t,a){"use strict";var r=a("b647");a.n(r).a},6092:function(e,t,a){"use strict";var r=a("439a");a.n(r).a},8850:function(e,t,a){},"8f30":function(e,t,a){},"9def8":function(e,t,a){"use strict";var r=a("023f");a.n(r).a},b647:function(e,t,a){},be87:function(e,t,a){},d48c:function(e,t,a){"use strict";a.r(t),a("386d"),a("7f7f");var r,i,l=a("cebc"),o=(a("ed08"),{props:{options:{}},inject:["store"],data:function(){return{label:"",rules:{mobileCode:[{pattern:/^[0-9]+$/,message:this.$t("filter.type2"),trigger:"blur,change"}],terminalCode:[{pattern:/^[A-Z0-9]+$/,message:this.$t("filter.type7"),trigger:"blur,change"}],plateCode:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}]}}},methods:{confirm:function(){this.$emit("update:search",!0),this.options.flag=!1}}}),s=(a("9def8"),a("2877")),n=Object(s.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:10}},[a("el-form",{ref:"searchForm",attrs:{model:e.options.search,"label-position":"top",rules:e.rules,"label-width":"80px",inline:!1}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("dm.company"),prop:"enterpriseName"}},[a("cv-dropdown-tree",{staticStyle:{width:"270px"},attrs:{url:"/enterprise/findEnterpriseOrganizationTreeList",label:e.label,placeholder:e.$t("terminal.placeholder")},on:{"update:label":function(t){e.label=t}},model:{value:e.options.search.enterpriseId,callback:function(t){e.$set(e.options.search,"enterpriseId",t)},expression:"options.search.enterpriseId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("vgPower.vg"),prop:"fleetName"}},[a("cv-dropdown-tree",{staticStyle:{width:"270px"},attrs:{url:"/enterprise/findFleetTreeList","is-initial":!1,placeholder:"","auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type}},model:{value:e.options.search.fleetId,callback:function(t){e.$set(e.options.search,"fleetId",t)},expression:"options.search.fleetId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cE.carNumber"),prop:"plateCode"}},[a("el-input",{staticStyle:{width:"270px"},attrs:{clearable:"",size:"small",maxlength:10,placeholder:e.$t("companyManage.ph1")},model:{value:e.options.search.plateCode,callback:function(t){e.$set(e.options.search,"plateCode","string"==typeof t?t.trim():t)},expression:"options.search.plateCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("multiCar.Terminalnumber"),prop:"terminalCode"}},[a("el-input",{staticStyle:{width:"270px"},attrs:{size:"small",maxlength:7,placeholder:e.$t("companyManage.ph1")},model:{value:e.options.search.terminalCode,callback:function(t){e.$set(e.options.search,"terminalCode","string"==typeof t?t.trim():t)},expression:"options.search.terminalCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cE.regStatus"),prop:"isLogout"}},[a("el-select",{staticClass:"code",attrs:{clearable:"",size:"small",placeholder:e.$t("terminal.placeholder")},model:{value:e.options.search.isLogout,callback:function(t){e.$set(e.options.search,"isLogout",t)},expression:"options.search.isLogout"}},[a("el-option",{attrs:{label:e.$t("filter.register"),value:"0"}}),a("el-option",{attrs:{label:e.$t("filter.noregister"),value:"1"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cE.useStatus"),prop:"useStatus"}},[a("el-select",{staticClass:"code",attrs:{clearable:"",size:"small",placeholder:e.$t("terminal.placeholder")},model:{value:e.options.search.useStatus,callback:function(t){e.$set(e.options.search,"useStatus",t)},expression:"options.search.useStatus"}},[a("el-option",{attrs:{label:e.$t("filter.onStatus"),value:"0"}}),a("el-option",{attrs:{label:e.$t("filter.noStatus"),value:"1"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cE.onlineStatus"),prop:"onlineStatus"}},[a("el-select",{staticClass:"code",attrs:{clearable:"",size:"small",placeholder:e.$t("terminal.placeholder")},model:{value:e.options.search.onlineStatus,callback:function(t){e.$set(e.options.search,"onlineStatus",t)},expression:"options.search.onlineStatus"}},[a("el-option",{attrs:{label:e.$t("filter.online"),value:"1"}}),a("el-option",{attrs:{label:e.$t("filter.offline"),value:"0"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cE.endPhone"),prop:"mobileCode"}},[a("el-input",{staticStyle:{width:"270px"},attrs:{size:"small",maxlength:12,placeholder:e.$t("companyManage.ph1")},model:{value:e.options.search.mobileCode,callback:function(t){e.$set(e.options.search,"mobileCode","string"==typeof t?t.trim():t)},expression:"options.search.mobileCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("home.serviceDay"),prop:"dateDif"}},[a("el-input-number",{staticStyle:{width:"270px"},attrs:{min:0,size:"small",maxlength:12,placeholder:e.$t("例如：6,查询6天以内")},model:{value:e.options.search.dateDif,callback:function(t){e.$set(e.options.search,"dateDif",e._n(t))},expression:"options.search.dateDif"}})],1)],1)],1)],1),a("el-col",{staticStyle:{margin:"20px"},attrs:{span:24}},[a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("action.confirm")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)])],1)},[],!1,null,"2fd6964a",null).exports,d=(a("ac6a"),a("96cf"),a("3b8d")),c=a("2f62"),p={props:{options:{}},inject:["store"],data:function(){return{picker0:null,picker1:null,tipSet:!1,activeName:"first",equpmentTypes:[],carTypeArry:[],terminalAddFlag:!0,driverAddFlag:!0,masterAddFlag:!0,vehicleBrand:this.store.brand,VehicleMaster:[],terminals:[],factoryType:[],drivers:[],loading:!1,changBrandFlag:!0,tankList:[],addData:{oilConfigId:"",enterpriseId:"",alias:"",vehicleOwnerId:"",vehiclelicenseImg:"",carType:"",plateColor:"",plateCode:"",vehicleModeId:"",vehicleImg:"",factoryName:"",brandId:"",fleetId:"",terminalId:"",driverId:"",carVin:"",dvrId:"",dvrType:0,channelCount:"",ip:"",port:0,username:"",password:"",flag:!0,typeflag:!1,superiorNames:"",remarks:"",carIcon:"icon0"},label:{},rules:{enterpriseId:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],vehicleModeId:[{required:!1,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],dvrId:[{required:!1,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^[0-9A-Za-z]/,message:this.$t("filter.type9")}],port:[{pattern:/^[0-9]/,message:this.$t("filter.type2")}],ip:[{pattern:/^((25[0-5]|2[0-4]\d|[01]?\d\d?)($|(?!\.$)\.)){4}$/,message:this.$t("filter.type6")}],channelCount:[{required:!1,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^([1-2][0-9]|3[0-2]|[0-9])$/,message:this.$t("filter.type16")}],plateCode:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{validator:this.isPlateCode,trigger:"blur"}],fleetId:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],plateColor:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],carVin:[{pattern:/^[A-Z0-9]/,message:this.$t("filter.type7"),trigger:"change"},{min:17,max:17,message:this.$filter.lanReplace(this.$t("filter.FixedLength"),{len:17})}]},carIconArry:[{label:"icon0_green",value:"icon0"},{label:"icon1_green",value:"icon1"}]}},computed:{_baseInfo:function(){return this.$refs.add},_videoInfo:function(){return this.$refs.addForm}},created:function(){for(var e=1;e<=25;e++)this.carTypeArry.push({code:e+"",name:this.$t("vt.carType"+e)})},methods:Object(l.a)({},Object(c.b)(["insertVehicle"]),{isPlateCode:function(e,t,a){var r=this;this.$service.isContext(t)||this.$store.dispatch("isExistPlateCode",{plateCode:t}).then(function(e){e.flag?a():a(new Error(r.$t("vt.isPlateCode")))})},confirm:function(){var e=this,t=this;this._baseInfo.validate(function(a){if(e.picker0||e.picker1){if(!e.picker0||!e.picker1)return void e.$message.warning(e.$t("filter.dayMseeFOUR"));var r=e.picker0.getTime()>(new Date).getTime(),i=e.picker1.getTime()<=(new Date).getTime();if(r||i)return void e.$message.warning(e.$t("filter.dayMseeTHREE"))}if(!a)return!1;t._videoInfo.validate(function(a){if(!a)return!1;var r={icon:e.addData.carIcon,sdate:e.picker0,edate:e.picker1,superiorPlatformIds:t.options.dialog1.superiorPlatformIds,enterpriseId:t.label.enterpriseId,vehicleOwnerId:t.addData.vehicleOwnerId,alias:t.addData.alias,vehiclelicenseImg:t.addData.vehiclelicenseImg,carType:t.addData.carType,plateColor:t.addData.plateColor,plateCode:t.addData.plateCode,vehicleModeId:t.addData.vehicleModeId,vehicleImg:t.addData.vehicleImg,factoryName:t.addData.factoryName,brandId:t.addData.brandId,fleetId:t.addData.fleetId,terminalId:t.addData.terminalId,driverId:t.addData.driverId,carVin:t.addData.carVin,remarks:t.addData.remarks,vehicleVideoDevice:{dvrId:t.addData.dvrId,dvrType:t.addData.dvrType,channelCount:""!=t.addData.channelCount?parseInt(t.addData.channelCount):0,ip:t.addData.ip,port:t.addData.port,username:t.addData.username,password:t.addData.password},vehicleOilConfigBean:t.addData.oilConfigId?{oilConfigId:t.addData.oilConfigId}:null};t.loading=!0,t.insertVehicle(r).then(function(e){e.flag?(t.$message.success(t.$t("action.addSuccess")),t.$emit("update:search",!0),t.options.flag=!1):t.$message.error(t.$t("error."+e.errorCode)),t.loading=!1}).catch(function(e){t.loading=!1})})})},addMation:function(){this.options.dialog1.flag=!0,this.options.dialog1.size="dialog-small",this.options.dialog1.name="addMation",this.options.dialog1.title=this.$t("vt.drive")},addMaster:function(){this.options.dialog1.flag=!0,this.options.dialog1.size="dialog-large",this.options.dialog1.name="addMaster",this.options.dialog1.title=this.$t("cE.addOwner")},addTerminal:function(){this.options.dialog1.flag=!0,this.options.dialog1.size="dialog-middle",this.options.dialog1.name="addTerminal",this.options.dialog1.title=this.$t("vt.getTer")},vehicleIdCall:function(e){this.addData.fleetId=e.id},getTerminal:(i=Object(d.a)(regeneratorRuntime.mark(function e(){var t,a,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("findUnbindTerminalList",{enterpriseId:this.label.enterpriseId});case 2:t=e.sent,a=t.data,r=t.flag,i=t.errorCode,this.terminals=r&&208!=i?a:[];case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),getDrivers:(r=Object(d.a)(regeneratorRuntime.mark(function e(){var t,a,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("findDriverList",{enterpriseId:this.label.enterpriseId});case 2:t=e.sent,a=t.data,r=t.flag,i=t.errorCode,this.drivers=r&&208!=i?a:[];case 7:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),getModel:function(){var e=this,t=this.vehicleBrand;for(var a in this.addData.factoryName="",this.addData.vehicleModeId="",t)t[a].id==this.addData.brandId&&(this.addData.factoryName=t[a].manufacturerName);this.$store.dispatch("getFindModel",{brandId:this.addData.brandId}).then(function(t){t.flag&&208!=t.errorCode?(e.factoryType=t.data,e.changBrandFlag=!1):(e.factoryType=[],e.changBrandFlag=!0)})},getVehicleMaster:function(){var e=this;this.$store.dispatch("getVehicleMaster",{enterpriseId:this.label.enterpriseId}).then(function(t){t.flag&&208!=t.errorCode?e.VehicleMaster=t.data:e.VehicleMaster=[]})},changeTypeT:function(){0==this.addData.dvrType?(this.addData.channelCount="",this.rules.dvrId[0].required=!1,this.rules.channelCount[0].required=!1,this.addData.ip="",this.addData.port=0,this.addData.username="",this.addData.password="",this.addData.dvrId="",this.addData.flag=!0,document.getElementsByClassName("el-form-item__error")[0].style.display="none"):(this.rules.dvrId[0].required=!0,this.rules.channelCount[0].required=!0,this.addData.flag=!1,document.getElementsByClassName("el-form-item__error")[0].style.display="block")},getPower:function(){for(var e=this.$store.getters.manageMenus,t=0;t<e.length;t++)for(var a=0;a<e[t].child.length;a++)e[t].child[a].title==this.$t("action.ownerManagement")?0<=e[t].child[a].power.indexOf("add")&&(this.masterAddFlag=!1):e[t].child[a].title==this.$t("action.driverManagement")?0<=e[t].child[a].power.indexOf("add")&&(this.driverAddFlag=!1):e[t].child[a].title==this.$t("action.terminalManagement")&&0<=e[t].child[a].power.indexOf("add")&&(this.terminalAddFlag=!1)},bindSuperior:function(){this.options.dialog1.flag=!0,this.options.dialog1.name="addSuperior",this.options.dialog1.size="dialog-middle",this.options.dialog1.title=this.$t("cL.platformMange")},findeTerminalId:function(e){var t=this;this.terminals.forEach(function(a){a.id==e&&("1073741831"==a.protocolVersion?(t.tipSet=!0,t.addData.typeflag=!0,t.addData.channelCount=a.channelCountStr):(t.tipSet=!1,t.addData.typeflag=!1))})},getTypeT:function(){var e=this;this.$store.dispatch("querymuckfence",{type:"137"}).then(function(t){t.data&&(e.equpmentTypes=t.data.map(function(e){return{name:e.wordbookName,code:e.wordbookTypeId}}))})}}),watch:{"addData.brandId":function(e){e&&(this.rules.vehicleModeId[0].required=!0)},"addData.superiorNames":function(e){""==e&&(this.options.dialog1.superiorPlatformIds="",this.options.dialog1.superiorPlatformNames="",this.addData.superiorNames="")},"addData.enterpriseId":function(e){var t=this;this.getTerminal(),this.getDrivers(),this.getVehicleMaster(),this.$http({url:"/vehicleOilConfig/findVehicleOtherOilConfig",params:{enterpriseId:this.label.enterpriseId}}).then(function(e){e.data;var a=e.flag,r=e.errorCode;t.tankList=a&&!r?e.data:[]})},"addData.dvrType":function(e){},"options.flag":function(e){e||(this.options.name="",this.options.dialog1.superiorPlatformNames="",this.options.dialog1.superiorPlatformIds="")},"options.dialog1.insterTerminal":function(e){e&&(this.getTerminal(),this.options.dialog1.insterTerminal=!1)},"options.dialog1.insterMation":function(e){e&&(this.getDrivers(),this.options.dialog1.insterMation=!1)},"options.dialog1.superiorPlatformNames":function(e){e&&(this.addData.superiorNames=e)},"options.dialog1.insertVehicleMaster":function(e){e&&(this.getVehicleMaster(),this.options.dialog1.insertVehicleMaster=!1)},picker0:function(e){e.getTime()>(new Date).getTime()&&this.$message.warning(this.$t("filter.dayMseeONE"))},picker1:function(e){e.getTime()<=(new Date).getTime()&&this.$message.warning(this.$t("filter.dayMseeTWO"))}},mounted:function(){this.getPower(),this.getTypeT()}},m=(a("16b2"),Object(s.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"carListTabs"},[a("cv-tabs",{attrs:{titles:[e.$t("companyManage.baseInfo"),e.$t("cL.videoSettings")],"force-render":!1}},[a("el-form",{ref:"add",attrs:{model:e.addData,"label-position":"top",rules:e.rules,inline:!1}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("dm.company"),prop:"enterpriseId"}},[a("cv-dropdown-tree",{attrs:{data:e.store.company_tree,label:e.label,placeholder:e.$t("terminal.placeholder")},on:{"update:label":function(t){e.label=t}},model:{value:e.addData.enterpriseId,callback:function(t){e.$set(e.addData,"enterpriseId",t)},expression:"addData.enterpriseId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carNumber"),prop:"plateCode"}},[a("el-input",{attrs:{clearable:"",maxlength:12,placeholder:e.$t("companyManage.ph1")},model:{value:e.addData.plateCode,callback:function(t){e.$set(e.addData,"plateCode","string"==typeof t?t.trim():t)},expression:"addData.plateCode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carColor"),prop:"plateColor"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.addData.plateColor,callback:function(t){e.$set(e.addData,"plateColor",t)},expression:"addData.plateColor"}},[a("el-option",{attrs:{label:e.$t("filter.colorBlue"),value:"1"}}),a("el-option",{attrs:{label:e.$t("filter.colorYellow"),value:"2"}}),a("el-option",{attrs:{label:e.$t("filter.colorBlack"),value:"3"}}),a("el-option",{attrs:{label:e.$t("filter.colorWhite"),value:"4"}}),a("el-option",{attrs:{label:e.$t("filter.colorGreen"),value:"5"}}),a("el-option",{attrs:{label:e.$t("filter.color"),value:"9"}})],1)],1)],1)],1),a("el-row",{staticStyle:{margin:"35px  0"},attrs:{gutter:10,prop:"icon"}},[a("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:3}},[e._v(e._s(e.$t("dm.Vicon"))+" ")]),e._l(e.carIconArry,function(t){return a("el-col",{key:t,attrs:{span:2}},[a("el-radio",{attrs:{label:t.value},model:{value:e.addData.carIcon,callback:function(t){e.$set(e.addData,"carIcon",t)},expression:"addData.carIcon"}},[a("cv-icon",{staticStyle:{color:"#57b64a"},attrs:{name:t.label,size:24}})],1)],1)})],2),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.subGroup"),prop:"fleetId"}},[a("cv-dropdown-tree",{attrs:{url:"/enterprise/findFleetTreeList","un-node-filter":["type",null],"is-initial":!1,"auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type},placeholder:e.$t("terminal.placeholder")},model:{value:e.addData.fleetId,callback:function(t){e.$set(e.addData,"fleetId",t)},expression:"addData.fleetId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.vechicleCar"),prop:"carVin"}},[a("el-input",{attrs:{maxlength:17,placeholder:e.$t("companyManage.ph1")},model:{value:e.addData.carVin,callback:function(t){e.$set(e.addData,"carVin","string"==typeof t?t.trim():t)},expression:"addData.carVin"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carType"),prop:"carType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.addData.carType,callback:function(t){e.$set(e.addData,"carType",t)},expression:"addData.carType"}},e._l(e.carTypeArry,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carBrand"),prop:"brandId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},on:{change:e.getModel},model:{value:e.addData.brandId,callback:function(t){e.$set(e.addData,"brandId",t)},expression:"addData.brandId"}},e._l(e.vehicleBrand,function(e){return a("el-option",{key:e.id,attrs:{label:e.brandName,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.factName"),prop:"factoryName"}},[a("el-tooltip",{staticClass:"item",attrs:{disabled:""==e.addData.factoryName,effect:"dark",content:e.addData.factoryName,placement:"top-end"}},[a("el-input",{attrs:{disabled:!0,placeholder:e.$t("companyManage.ph1")},model:{value:e.addData.factoryName,callback:function(t){e.$set(e.addData,"factoryName","string"==typeof t?t.trim():t)},expression:"addData.factoryName"}})],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carModel"),prop:"vehicleModeId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",disabled:e.changBrandFlag,placeholder:e.$t("terminal.placeholder")},model:{value:e.addData.vehicleModeId,callback:function(t){e.$set(e.addData,"vehicleModeId",t)},expression:"addData.vehicleModeId"}},e._l(e.factoryType,function(e){return a("el-option",{key:e.id,attrs:{label:e.modeName,value:e.id}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.nextCode"),prop:"alias"}},[a("el-input",{attrs:{maxlength:8,placeholder:e.$t("companyManage.ph1")},model:{value:e.addData.alias,callback:function(t){e.$set(e.addData,"alias","string"==typeof t?t.trim():t)},expression:"addData.alias"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.equipment"),prop:"terminalId"}},[a("el-select",{staticClass:"choess",staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},on:{change:e.findeTerminalId},model:{value:e.addData.terminalId,callback:function(t){e.$set(e.addData,"terminalId",t)},expression:"addData.terminalId"}},e._l(e.terminals,function(e){return a("el-option",{key:e.id,attrs:{label:e.manufacturerModelCode,value:e.id}})}),1),a("el-button",{attrs:{icon:"el-icon-plus",disabled:e.terminalAddFlag},on:{click:e.addTerminal}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.drive"),prop:"driverId"}},[a("el-select",{staticClass:"choess",staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.addData.driverId,callback:function(t){e.$set(e.addData,"driverId",t)},expression:"addData.driverId"}},e._l(e.drivers,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})}),1),a("el-button",{attrs:{icon:"el-icon-plus",disabled:e.driverAddFlag},on:{click:e.addMation}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.vehicleOwnerName")}},[a("el-select",{staticClass:"choess",staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.addData.vehicleOwnerId,callback:function(t){e.$set(e.addData,"vehicleOwnerId",t)},expression:"addData.vehicleOwnerId"}},e._l(e.VehicleMaster,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})}),1),a("el-button",{attrs:{icon:"el-icon-plus",disabled:e.masterAddFlag},on:{click:e.addMaster}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.superPlatform")}},[a("el-input",{attrs:{readonly:"",clearable:"",placeholder:e.$t("companyManage.ph1")},nativeOn:{click:function(t){return e.bindSuperior(t)}},model:{value:e.addData.superiorNames,callback:function(t){e.$set(e.addData,"superiorNames",t)},expression:"addData.superiorNames"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.tankConfiguration")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.addData.oilConfigId,callback:function(t){e.$set(e.addData,"oilConfigId",t)},expression:"addData.oilConfigId"}},e._l(e.tankList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("home.serviceSdate")}},[a("el-date-picker",{staticStyle:{width:"280px"},attrs:{type:"date",placeholder:e.$t("placeholder.selectDate")},model:{value:e.picker0,callback:function(t){e.picker0=t},expression:"picker0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("home.serviceEdate")}},[a("el-date-picker",{staticStyle:{width:"280px"},attrs:{type:"date",placeholder:e.$t("placeholder.selectDate")},model:{value:e.picker1,callback:function(t){e.picker1=t},expression:"picker1"}})],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:e.$t("cE.remark")}},[a("el-input",{attrs:{type:"textarea",rows:2,maxlength:"150"},model:{value:e.addData.remarks,callback:function(t){e.$set(e.addData,"remarks","string"==typeof t?t.trim():t)},expression:"addData.remarks"}})],1)],1)],1),a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.tipSet,expression:"tipSet"}],staticStyle:{color:"red"}},[e._v("\n                        "+e._s(this.$t("filter.tipSet"))+"\n                        ")])])],1),a("el-form",{ref:"addForm",attrs:{model:e.addData,"label-position":"top",rules:e.rules,inline:!1}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("cL.equipmentType")}},[a("el-select",{staticStyle:{width:"270px"},attrs:{disabled:e.addData.typeflag},on:{change:e.changeTypeT},model:{value:e.addData.dvrType,callback:function(t){e.$set(e.addData,"dvrType",t)},expression:"addData.dvrType"}},e._l(e.equpmentTypes,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.accessID"),prop:"dvrId"}},[a("el-input",{attrs:{maxlength:10,disabled:e.addData.flag},model:{value:e.addData.dvrId,callback:function(t){e.$set(e.addData,"dvrId","string"==typeof t?t.trim():t)},expression:"addData.dvrId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.userChannels"),prop:"channelCount"}},[a("el-input",{attrs:{maxlength:3,disabled:e.addData.flag},model:{value:e.addData.channelCount,callback:function(t){e.$set(e.addData,"channelCount","string"==typeof t?t.trim():t)},expression:"addData.channelCount"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.serverPort"),prop:"port"}},[a("el-input",{attrs:{maxlength:5,disabled:e.addData.flag},model:{value:e.addData.port,callback:function(t){e.$set(e.addData,"port","string"==typeof t?t.trim():t)},expression:"addData.port"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.ipAddress")}},[a("el-input",{attrs:{maxlength:50,disabled:e.addData.flag},model:{value:e.addData.ip,callback:function(t){e.$set(e.addData,"ip","string"==typeof t?t.trim():t)},expression:"addData.ip"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.username"),prop:"username"}},[a("el-input",{attrs:{disabled:e.addData.flag,maxlength:15},model:{value:e.addData.username,callback:function(t){e.$set(e.addData,"username","string"==typeof t?t.trim():t)},expression:"addData.username"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.loginPassword"),prop:"password"}},[a("el-input",{attrs:{disabled:e.addData.flag,maxlength:15},model:{value:e.addData.password,callback:function(t){e.$set(e.addData,"password","string"==typeof t?t.trim():t)},expression:"addData.password"}})],1)],1)],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"dialog-footer",attrs:{span:24}},[a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("action.confirm")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)],1)},[],!1,null,null,null).exports),u={props:{options:{}},inject:["store"],data:function(){return{picker0:null,picker1:null,mData:null,treeE:"",treeG:"",tipSet:!1,isChannel:"",hello:"",activeName:"first",dvrFlag:!0,typeflag:!1,carTypeArry:[{code:"1",name:this.$t("vt.carType1")},{code:"2",name:this.$t("vt.carType2")},{code:"3",name:this.$t("vt.carType3")},{code:"4",name:this.$t("vt.carType4")},{code:"5",name:this.$t("vt.carType5")},{code:"6",name:this.$t("vt.carType6")},{code:"7",name:this.$t("vt.carType7")},{code:"8",name:this.$t("vt.carType8")},{code:"9",name:this.$t("vt.carType9")},{code:"10",name:this.$t("vt.carType10")},{code:"11",name:this.$t("vt.carType11")},{code:"12",name:this.$t("vt.carType12")},{code:"13",name:this.$t("vt.carType13")},{code:"14",name:this.$t("vt.carType14")},{code:"15",name:this.$t("vt.carType15")},{code:"16",name:this.$t("vt.carType16")},{code:"17",name:this.$t("vt.carType17")},{code:"18",name:this.$t("vt.carType18")},{code:"19",name:this.$t("vt.carType19")},{code:"20",name:this.$t("vt.carType20")},{code:"21",name:this.$t("vt.carType21")},{code:"22",name:this.$t("vt.carType22")},{code:"23",name:this.$t("vt.carType23")},{code:"24",name:this.$t("vt.carType24")},{code:"25",name:this.$t("vt.carType25")}],equpmentTypes:[],tankList:[],modify:{oilConfigId:"",enterpriseId:"",alias:"",vehiclelicenseImg:"",vehicleOwnerId:"",carType:"",plateColor:"",plateCode:"",vehicleModeId:"",vehicleImg:"",factoryName:"",enterpriseName:"",brandId:"",fleetId:"",fleetName:"",terminalId:"",driverId:"",engineCode:"",id:"",text:"",dvrId:"",dvrTypes:0,channelCount:"",ip:"",port:0,username:"",password:"",remarks:"",superiorNames:"",superiorPlatformName:"",superiorPlatformIds:"",icon:"icon0"},label:"",terminalAddFlag:!0,driverAddFlag:!0,masterAddFlag:!0,VehicleMaster:[],vehicleBrand:this.store.brand,terminals:[],factoryType:[],drivers:[],loading:!0,flag:!1,changBrandFlag:!0,isTerminal:!1,isLogoutFlag:!1,rules:{enterpriseId:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],vehicleModeId:[{required:!1,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],dvrId:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/\w/,message:"不能有特殊字符"}],port:[{pattern:/^[0-9]/,message:this.$t("filter.type2")}],ip:[{pattern:/^((25[0-5]|2[0-4]\d|[01]?\d\d?)($|(?!\.$)\.)){4}|([\\da-fA-F]{1,4}:){7}([\\da-fA-F]{1,4})$/,message:this.$t("filter.type6")}],channelCount:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^([1-2][0-9]|3[0-2]|[0-9])$/,message:this.$t("filter.type16")}],plateCode:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{validator:this.isPlateCode,trigger:"blur"}],fleetId:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],plateColor:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],carVin:[{pattern:/^[A-Z0-9]/,message:this.$t("filter.type7"),trigger:"change"},{min:17,max:17,message:this.$filter.lanReplace(this.$t("filter.FixedLength"),{len:17})}]},carIconArry:[{label:"icon0_green",value:"icon0"},{label:"icon1_green",value:"icon1"}]}},methods:{enterpriseTreeLoaded:function(){this.treeE=!0},groupTreeLoaded:function(){this.treeG=!0},bindSuperior:function(){this.options.dialog1.flag=!0,this.options.dialog1.name="addSuperior",this.options.dialog1.title=this.$t("cL.superPlatform")},isPlateCode:function(e,t,a){var r=this;this.$service.isContext(t)||(t!=this.modify.text?this.$store.dispatch("isExistPlateCode",{plateCode:t}).then(function(e){e.flag?a():a(new Error(r.$t("vt.isPlateCode")))}):a())},confirm:function(){var e=this,t=this,a=t.$refs.first.$el,r=t.$refs.second.$el;this.$refs.modifyForm.validate(function(i){if(e.picker0||e.picker1){if(!e.picker0||!e.picker1)return void e.$message.warning(e.$t("filter.dayMseeFOUR"));var l=e.picker0.getTime()>(new Date).getTime(),o=e.picker1.getTime()<=(new Date).getTime();if(l||o)return void e.$message.warning(e.$t("filter.dayMseeTHREE"))}if(!i)return t.activeName="first",t.$myJq.css(r,"display","none"),t.$myJq.css(a,"display","block"),!1;e.$refs.modifyForms.validate(function(i){if(!i)return t.activeName="second",t.$myJq.css(r,"display","block"),t.$myJq.css(a,"display","none"),!1;var l={icon:e.modify.icon,sdate:e.picker0,edate:e.picker1,enterpriseId:e.modify.enterpriseId,alias:e.modify.alias,vehiclelicenseImg:e.modify.vehiclelicenseImg,carType:e.modify.carType,plateColor:e.modify.plateColor,plateCode:e.modify.plateCode,vehicleModeId:e.modify.vehicleModeId,vehicleImg:e.modify.vehicleImg,factoryName:e.modify.factoryName,brandId:e.modify.brandId,fleetId:e.modify.fleetId,remarks:e.modify.remarks,vehicleOwnerId:e.modify.vehicleOwnerId,terminalId:e.modify.terminalId,driverId:e.modify.driverId,carVin:e.modify.carVin,id:e.modify.id,superiorPlatformIds:e.modify.superiorPlatformIds,vehicleVideoDevice:{dvrId:e.modify.dvrId,dvrType:e.hello,channelCount:""!=e.modify.channelCount?parseInt(e.modify.channelCount):0,ip:e.modify.ip,port:e.modify.port,username:e.modify.username,password:e.modify.password},vehicleOilConfigBean:e.modify.oilConfigId?{oilConfigId:e.modify.oilConfigId}:null};e.loading=!0,e.$store.dispatch("updateVehicle",l).then(function(t){t.flag?(e.$message.success(e.$t("action.modifySuccess")),e.$emit("update:search",!0),e.options.flag=!1):e.$message.error(e.$t("error."+t.errorCode)),e.loading=!1})})})},vehicleIdCall:function(e){this.modify.fleetId=e.id},addMation:function(){this.options.dialog1.flag=!0,this.options.dialog1.size="dialog-small",this.options.dialog1.name="addMation",this.options.dialog1.title=this.$t("vt.drive")},addTerminal:function(){this.options.dialog1.flag=!0,this.options.dialog1.size="dialog-middle",this.options.dialog1.name="addTerminal",this.options.dialog1.title=this.$t("vt.getTer")},addMaster:function(){this.options.dialog1.flag=!0,this.options.dialog1.size="dialog-large",this.options.dialog1.name="addMaster",this.options.dialog1.title=this.$t("cE.addOwner")},changeTerminal:function(){var e=this,t={enterpriseId:this.modify.enterpriseId,id:this.modify.terminalId};this.$store.dispatch("findUnbindTerminalList",t).then(function(t){t.flag&&208!=t.errorCode?e.terminals=t.data:e.terminals=[]})},getVehicle:function(e,t){var a=this,r={enterpriseId:this.modify.enterpriseId};this.$store.dispatch("getVehicleMaster",r).then(function(e){e.flag&&208!=e.errorCode?a.VehicleMaster=e.data:a.VehicleMaster=[]})},changeDriver:function(){var e=this,t={enterpriseId:this.modify.enterpriseId};this.$store.dispatch("findDriverList",t).then(function(t){t.flag&&208!=t.errorCode?e.drivers=t.data:e.drivers=[]})},getModel:function(){var e=this,t=this.vehicleBrand;for(var a in this.modify.factoryName="",this.flag&&(this.modify.vehicleModeId=""),t)t[a].id==this.modify.brandId&&(this.modify.factoryName=t[a].manufacturerName,this.$store.dispatch("getFindModel",{brandId:this.modify.brandId}).then(function(t){t.flag&&208!=t.errorCode?(e.factoryType=t.data,e.flag=!0,e.changBrandFlag=!1):(e.factoryType=[],e.changBrandFlag=!0)}))},changeType:function(){0==this.hello?(this.rules.dvrId[0].required=!1,this.rules.channelCount[0].required=!1,0==this.typeflag&&(this.modify.channelCount=""),this.modify.ip="",this.modify.port=0,this.modify.username="",this.modify.password="",this.modify.dvrId=0,this.modify.channelCount=0,this.dvrFlag=!0,0<document.getElementsByClassName("el-form-item__error").length&&(document.getElementsByClassName("el-form-item__error")[0].style.display="none",document.getElementsByClassName("el-form-item__error")[1].style.display="none")):(this.rules.dvrId[0].required=!0,this.rules.channelCount[0].required=!0,this.dvrFlag=!1,0<document.getElementsByClassName("el-form-item__error").length&&(document.getElementsByClassName("el-form-item__error")[0].style.display="block",document.getElementsByClassName("el-form-item__error")[1].style.display="block"))},getPower:function(){for(var e=this.$store.getters.manageMenus,t=0;t<e.length;t++)for(var a=0;a<e[t].child.length;a++)e[t].child[a].title==this.$t("action.ownerManagement")?0<=e[t].child[a].power.indexOf("add")&&(this.masterAddFlag=!1):e[t].child[a].title==this.$t("action.driverManagement")?0<=e[t].child[a].power.indexOf("add")&&(this.driverAddFlag=!1):e[t].child[a].title==this.$t("action.terminalManagement")&&0<=e[t].child[a].power.indexOf("add")&&(this.terminalAddFlag=!1)},getTypeT:function(){var e=this;this.$store.dispatch("querymuckfence",{type:"137"}).then(function(t){t.data&&t.data&&(e.equpmentTypes=t.data.map(function(e){return{name:e.wordbookName,code:e.wordbookTypeId}}))})},findeTerminalId:function(e){var t=this;this.terminals.forEach(function(a){a.id==e&&("1073741831"==a.protocolVersion?(t.tipSet=!0,t.typeflag=!0,t.dvrFlag=!0,t.modify.channelCount=a.channelCountStr):(t.tipSet=!1,t.typeflag=!1,0==t.hello?t.dvrFlag=!0:t.dvrFlag=!1))})}},watch:{"modify.brandId":function(e){e&&(this.getModel(),this.rules.vehicleModeId[0].required=!0)},"modify.superiorPlatformName":function(e){""==e&&(this.modify.superiorPlatformIds="",this.modify.superiorPlatformName="")},"options.flag":function(e){e||(this.options.name="",this.options.dialog1.superiorPlatformNames="",this.options.dialog1.superiorPlatformIds="")},"options.dialog1.insterTerminal":function(e){e&&(this.changeTerminal(),this.options.dialog1.insterTerminal=!1)},"options.dialog1.insterMation":function(e){e&&(this.changeDriver(),this.options.dialog1.insterMation=!1)},"options.dialog1.superiorPlatformNames":function(e){e&&(this.modify.superiorPlatformName=e)},"options.dialog1.insertVehicleMaster":function(e){e&&(this.getVehicle(),this.options.dialog1.insertVehicleMaster=!1)},"options.dialog1.superiorPlatformIds":function(e){e&&(this.modify.superiorPlatformIds=e)},picker0:function(e){e.getTime()>(new Date).getTime()&&this.$message.warning(this.$t("filter.dayMseeONE"))},picker1:function(e){e.getTime()<=(new Date).getTime()&&this.$message.warning(this.$t("filter.dayMseeTWO"))}},mounted:function(){var e=this;this.getTypeT(),this.$store.dispatch("getVehicleById",this.options.id).then(function(t){if(e.$http({url:"/vehicleOilConfig/findVehicleOtherOilConfig",params:{enterpriseId:t.data.enterpriseId}}).then(function(t){t.data;var a=t.flag,r=t.errorCode;e.tankList=a&&!r?t.data:[]}),t.flag){for(var a in e.isChannel=t.data.channelCount,e.modify)e.modify[a]=t.data[a];t.data.sdate&&(e.picker0=new Date(t.data.sdate)),t.data.edate&&(e.picker1=new Date(t.data.edate)),e.modify.enterpriseId=t.data.enterpriseId,e.modify.fleetId=t.data.fleetId,e.modify.carVin=t.data.carVin,e.modify.brandId=t.data.brandId,e.modify.vehicleModeId=t.data.vehicleModeId,e.modify.terminalId=t.data.terminalId+"",e.modify.remarks=t.data.remarks,e.modify.text=t.data.plateCode,e.modify.icon=t.data.icon,"null"!=e.modify.terminalId?e.isTerminal=!0:(e.modify.terminalId="")&&(e.isTerminal=!1),"0"==t.data.isLogout?e.isLogoutFlag=!0:e.isLogoutFlag=!1,e.modify.driverId=t.data.driverId,e.modify.superiorPlatformName=t.data.superiorPlatformName,e.modify.superiorPlatformIds=t.data.superiorPlatformIds,e.modify.oilConfigId=null==t.data.oilmassconfigId?"":t.data.oilmassconfigId+"","1073741831"==t.data.protocolVersion?(e.tipSet=!0,e.typeflag=!0,e.dvrFlag=!0,e.modify.channelCount=t.data.channelCountStr):(e.tipSet=!1,e.typeflag=!1,e.dvrFlag=!1),t.data.vehicleVideoDevice?(e.modify.channelCount=t.data.vehicleVideoDevice.channelCount+"",e.modify.ip=t.data.vehicleVideoDevice.ip,e.modify.port=t.data.vehicleVideoDevice.port,e.modify.username=t.data.vehicleVideoDevice.username,e.modify.password=t.data.vehicleVideoDevice.password,e.modify.dvrId=""==t.data.vehicleVideoDevice.dvrId?0:t.data.vehicleVideoDevice.dvrId,e.hello=t.data.vehicleVideoDevice.dvrType?t.data.vehicleVideoDevice.dvrType:0,0==e.hello?(e.dvrFlag=!0,e.changeType()):e.dvrFlag=!1):(e.hello=0,e.changeType(),0==e.hello?e.dvrFlag=!0:e.dvrFlag=!1),e.changeTerminal(),e.changeDriver(),e.getVehicle()}e.treeE="cvDropdownTree",e.treeG="cvDropdownTree"}),this.getPower(),setTimeout(function(){e.loading=!1},200)}},f=(a("31b9"),Object(s.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"carListT"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{ref:"first",attrs:{label:e.$t("companyManage.baseInfo"),name:"first"}},[a("el-form",{ref:"modifyForm",attrs:{model:e.modify,"label-position":"top",rules:e.rules,inline:!1}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("action.company"),prop:"enterpriseId"}},[a(e.treeE,{tag:"component",attrs:{disabled:"",data:e.store.company_tree,label:e.label},on:{"update:label":function(t){e.label=t}},model:{value:e.modify.enterpriseId,callback:function(t){e.$set(e.modify,"enterpriseId",t)},expression:"modify.enterpriseId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carNumber"),prop:"plateCode"}},[a("el-input",{ref:"code",attrs:{disabled:e.isTerminal,maxlength:12},model:{value:e.modify.plateCode,callback:function(t){e.$set(e.modify,"plateCode","string"==typeof t?t.trim():t)},expression:"modify.plateCode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carColor"),prop:"plateColor"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:e.$t("terminal.placeholder"),disabled:e.isLogoutFlag},model:{value:e.modify.plateColor,callback:function(t){e.$set(e.modify,"plateColor",t)},expression:"modify.plateColor"}},[a("el-option",{attrs:{label:e.$t("filter.colorBlue"),value:"1"}}),a("el-option",{attrs:{label:e.$t("filter.colorYellow"),value:"2"}}),a("el-option",{attrs:{label:e.$t("filter.colorBlack"),value:"3"}}),a("el-option",{attrs:{label:e.$t("filter.colorWhite"),value:"4"}}),a("el-option",{attrs:{label:e.$t("filter.colorGreen"),value:"5"}}),a("el-option",{attrs:{label:e.$t("filter.color"),value:"9"}})],1)],1)],1)],1),a("el-row",{staticStyle:{margin:"35px  0"},attrs:{gutter:10,prop:"icon"}},[a("el-col",{staticStyle:{"line-height":"32px"},attrs:{span:3}},[e._v(e._s(e.$t("dm.Vicon"))+" ")]),e._l(e.carIconArry,function(t){return a("el-col",{key:t,attrs:{span:2}},[a("el-radio",{attrs:{label:t.value},model:{value:e.modify.icon,callback:function(t){e.$set(e.modify,"icon",t)},expression:"modify.icon"}},[a("cv-icon",{staticStyle:{color:"#57b64a"},attrs:{name:t.label,size:24}})],1)],1)})],2),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.subGroup"),prop:"fleetId"}},[a(e.treeG,{tag:"component",attrs:{url:"/enterprise/findFleetTreeList","un-node-filter":["type",null],"auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type},readonly:e.isLogoutFlag},model:{value:e.modify.fleetId,callback:function(t){e.$set(e.modify,"fleetId",t)},expression:"modify.fleetId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.vechicleCar"),prop:"carVin"}},[a("el-input",{attrs:{maxlength:17},model:{value:e.modify.carVin,callback:function(t){e.$set(e.modify,"carVin","string"==typeof t?t.trim():t)},expression:"modify.carVin"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carType"),prop:"carType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.modify.carType,callback:function(t){e.$set(e.modify,"carType",t)},expression:"modify.carType"}},e._l(e.carTypeArry,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carBrand"),prop:"brandId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},on:{change:e.getModel},model:{value:e.modify.brandId,callback:function(t){e.$set(e.modify,"brandId",t)},expression:"modify.brandId"}},e._l(e.vehicleBrand,function(e){return a("el-option",{key:e.id,attrs:{label:e.brandName,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.factName"),prop:"factoryName"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.modify.factoryName,placement:"top-end",disabled:""==e.modify.factoryName}},[a("el-input",{attrs:{disabled:!0},model:{value:e.modify.factoryName,callback:function(t){e.$set(e.modify,"factoryName","string"==typeof t?t.trim():t)},expression:"modify.factoryName"}})],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.carModel"),prop:"vehicleModeId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",disabled:e.changBrandFlag,placeholder:e.$t("terminal.placeholder")},model:{value:e.modify.vehicleModeId,callback:function(t){e.$set(e.modify,"vehicleModeId",t)},expression:"modify.vehicleModeId"}},e._l(e.factoryType,function(e){return a("el-option",{key:e.id,attrs:{label:e.modeName,value:e.id}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.nextCode"),prop:"alias"}},[a("el-input",{attrs:{maxlength:8},model:{value:e.modify.alias,callback:function(t){e.$set(e.modify,"alias","string"==typeof t?t.trim():t)},expression:"modify.alias"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.equipment"),prop:"terminalId"}},[a("el-select",{staticClass:"choessT",staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder"),disabled:e.isLogoutFlag},on:{change:e.findeTerminalId},model:{value:e.modify.terminalId,callback:function(t){e.$set(e.modify,"terminalId",t)},expression:"modify.terminalId"}},e._l(e.terminals,function(e){return a("el-option",{key:e.id+"",attrs:{label:e.manufacturerModelCode,value:e.id+""}})}),1),a("el-button",{attrs:{icon:"el-icon-plus",disabled:e.terminalAddFlag},on:{click:e.addTerminal}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.drive"),prop:"driver"}},[a("el-select",{staticClass:"choessT",staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.modify.driverId,callback:function(t){e.$set(e.modify,"driverId",t)},expression:"modify.driverId"}},e._l(e.drivers,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})}),1),a("el-button",{attrs:{icon:"el-icon-plus",disabled:e.driverAddFlag},on:{click:e.addMation}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.vehicleOwnerName")}},[a("el-select",{staticClass:"choessT",staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.modify.vehicleOwnerId,callback:function(t){e.$set(e.modify,"vehicleOwnerId",t)},expression:"modify.vehicleOwnerId"}},e._l(e.VehicleMaster,function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})}),1),a("el-button",{attrs:{icon:"el-icon-plus",disabled:e.masterAddFlag},on:{click:e.addMaster}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.superPlatform")}},[a("el-input",{attrs:{readonly:"",clearable:""},nativeOn:{click:function(t){return e.bindSuperior(t)}},model:{value:e.modify.superiorPlatformName,callback:function(t){e.$set(e.modify,"superiorPlatformName",t)},expression:"modify.superiorPlatformName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("cL.tankConfiguration")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.modify.oilConfigId,callback:function(t){e.$set(e.modify,"oilConfigId",t)},expression:"modify.oilConfigId"}},e._l(e.tankList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("home.serviceSdate")}},[a("el-date-picker",{staticStyle:{width:"280px"},attrs:{type:"date",placeholder:e.$t("placeholder.selectDate")},model:{value:e.picker0,callback:function(t){e.picker0=t},expression:"picker0"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:e.$t("home.serviceEdate")}},[a("el-date-picker",{staticStyle:{width:"280px"},attrs:{type:"date",placeholder:e.$t("placeholder.selectDate")},model:{value:e.picker1,callback:function(t){e.picker1=t},expression:"picker1"}})],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:e.$t("cE.remark")}},[a("el-input",{attrs:{type:"textarea",rows:2,maxlength:"150"},model:{value:e.modify.remarks,callback:function(t){e.$set(e.modify,"remarks","string"==typeof t?t.trim():t)},expression:"modify.remarks"}})],1)],1)],1)],1),a("el-tab-pane",{ref:"second",attrs:{label:e.$t("cL.videoSettings"),name:"second"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.tipSet,expression:"tipSet"}],staticStyle:{color:"red"}},[e._v("\n    \t\t\t\t\t\t\t"+e._s(this.$t("filter.tipSet"))+"\n    \t\t\t\t\t\t\t")])])],1),a("el-form",{ref:"modifyForms",attrs:{model:e.modify,"label-position":"top",rules:e.rules,inline:!1}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("cL.equipmentType")}},[a("el-select",{staticStyle:{width:"270px"},attrs:{disabled:e.typeflag},on:{change:e.changeType},model:{value:e.hello,callback:function(t){e.hello=t},expression:"hello"}},e._l(e.equpmentTypes,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.accessID"),prop:"dvrId"}},[a("el-input",{attrs:{maxlength:24,disabled:e.dvrFlag},model:{value:e.modify.dvrId,callback:function(t){e.$set(e.modify,"dvrId","string"==typeof t?t.trim():t)},expression:"modify.dvrId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.userChannels"),prop:"channelCount"}},[a("el-input",{attrs:{maxlength:3,disabled:e.dvrFlag},model:{value:e.modify.channelCount,callback:function(t){e.$set(e.modify,"channelCount","string"==typeof t?t.trim():t)},expression:"modify.channelCount"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.serverPort"),prop:"port"}},[a("el-input",{attrs:{maxlength:5,disabled:e.dvrFlag},model:{value:e.modify.port,callback:function(t){e.$set(e.modify,"port","string"==typeof t?t.trim():t)},expression:"modify.port"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.ipAddress")}},[a("el-input",{attrs:{maxlength:50,disabled:e.dvrFlag},model:{value:e.modify.ip,callback:function(t){e.$set(e.modify,"ip","string"==typeof t?t.trim():t)},expression:"modify.ip"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.username"),prop:"username"}},[a("el-input",{attrs:{disabled:e.dvrFlag,maxlength:15},model:{value:e.modify.username,callback:function(t){e.$set(e.modify,"username","string"==typeof t?t.trim():t)},expression:"modify.username"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.loginPassword"),prop:"password"}},[a("el-input",{attrs:{maxlength:15,disabled:e.dvrFlag},model:{value:e.modify.password,callback:function(t){e.$set(e.modify,"password","string"==typeof t?t.trim():t)},expression:"modify.password"}})],1)],1)],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"dialog-footer",attrs:{span:24}},[a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("action.confirm")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)],1)},[],!1,null,null,null).exports),h=a("bd86"),g={props:{options:{}},inject:["store"],data:function(){var e;return{submitFalg:!1,formData:(e={username:"",mobilephone:"",driverlicenseno:"",sex:""},Object(h.a)(e,"username",""),Object(h.a)(e,"enterpriseId",""),e),label:"",rules:{username:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{min:3,max:15,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:3,max:15})}],mobilephone:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^1[34578]\d{9}$/,message:this.$t("filter.type6")},{min:11,max:11,message:this.$filter.lanReplace(this.$t("filter.FixedLength"),{len:11})}],driverlicenseno:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^[A-za-z0-9]+$/,message:this.$t("filter.type9")},{min:18,max:18,message:this.$filter.lanReplace(this.$t("filter.FixedLength"),{len:18})}],enterpriseId:{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}}}},computed:{_Form:function(){return this.$refs.addForm}},methods:Object(l.a)({},Object(c.b)(["insertDriver"]),{confirm:function(){var e=this;this._Form.validate(function(t){if(!t)return!1;e.options.flag=!1,e.submitFalg=!0,e.insertDriver(Object(l.a)({},e.formData,{enterpriseName:e.label.text})).then(function(t){t.flag?(e.options.insterMation=!0,e.$message.success(e.$t("action.addSuccess"))):(e.$message.error(e.$t("error."+t.errorCode)),e.options.insterMation=!1),e.submitFalg=!1}).catch(function(t){e.submitFalg=!1})})}}),watch:{"options.flag":function(e){e||(this.options.name="")}},mounted:function(){this.formData.enterpriseName=this.options.enterpriseName,this.formData.id=this.options.enterpriseId}},b=(a("6092"),Object(s.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"addForm",attrs:{model:e.formData,"label-position":"top",inline:!1,rules:e.rules}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("dm.company"),prop:"enterpriseId"}},[a("cv-dropdown-tree",{staticStyle:{width:"100%"},attrs:{data:e.store.company_tree,label:e.label,placeholder:e.$t("terminal.placeholder")},on:{"update:label":function(t){e.label=t}},model:{value:e.formData.enterpriseId,callback:function(t){e.$set(e.formData,"enterpriseId",t)},expression:"formData.enterpriseId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("dM.driveName"),prop:"username"}},[a("el-input",{attrs:{size:"small",maxlength:15,placeholder:e.$t("companyManage.ph1")},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username","string"==typeof t?t.trim():t)},expression:"formData.username"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("dM.telPhone"),prop:"mobilephone"}},[a("el-input",{attrs:{size:"small",maxlength:11,placeholder:e.$t("companyManage.ph1")},model:{value:e.formData.mobilephone,callback:function(t){e.$set(e.formData,"mobilephone","string"==typeof t?t.trim():t)},expression:"formData.mobilephone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("dM.driveCode"),prop:"driverlicenseno"}},[a("el-input",{attrs:{size:"small",maxlength:18,placeholder:e.$t("companyManage.ph1")},model:{value:e.formData.driverlicenseno,callback:function(t){e.$set(e.formData,"driverlicenseno","string"==typeof t?t.trim():t)},expression:"formData.driverlicenseno"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("dM.sex"),prop:"sex"}},[a("el-select",{staticStyle:{width:"260px"},attrs:{size:"small",placeholder:e.$t("terminal.placeholder")},model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}},[a("el-option",{attrs:{label:e.$t("dM.man"),value:"1"}}),a("el-option",{attrs:{label:e.$t("dM.woman"),value:"0"}})],1)],1)],1)],1)],1),a("el-col",{staticClass:"dialog-footer",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",loading:e.submitFalg},on:{click:e.confirm}},[e._v(e._s(e.$t("action.save")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)},[],!1,null,"33853e76",null).exports),y=a("3f66"),v={props:{options:{}},data:function(){return{submitFalg:!1,terminalId:"",search:{enterpriseId:this.options.entId,code:"",manufacturerModel:"",manufacturerNumber:""}}},computed:{_equmentTable:function(){return this.$refs.equmentTable}},methods:Object(l.a)({},Object(c.b)(["replaceTerminal"]),{selectIndex:function(e){this.terminalId=e.id},confirm:function(){var e=this;""!=this.terminalId?(this.submitFalg=!0,this.replaceTerminal({vehicleId:this.options.id,terminalId:this.terminalId}).then(function(t){t.flag?(e.options.flag=!1,e.$message.success(e.$t("action.updateSuccess")),e.$emit("update:search",!0)):e.$message.error(e.$t("action.updateError")),e.submitFalg=!1})):this.$message.error(this.$t("cE.selectEqu"))},searchTable:function(){this._equmentTable.tableInitial()}}),watch:{"options.flag":function(e){e||(this.options.name="")}}},$=(a("5abe"),Object(s.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"changeList"},[a("el-row",[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:e.$t("terminal.code")}},[a("el-input",{attrs:{size:"small",placeholder:e.$t("companyManage.ph1")},model:{value:e.search.code,callback:function(t){e.$set(e.search,"code","string"==typeof t?t.trim():t)},expression:"search.code"}})],1),a("el-form-item",{attrs:{label:e.$t("terminal.terminalType")}},[a("el-input",{attrs:{size:"small",placeholder:e.$t("companyManage.ph1")},model:{value:e.search.manufacturerModel,callback:function(t){e.$set(e.search,"manufacturerModel","string"==typeof t?t.trim():t)},expression:"search.manufacturerModel"}})],1),a("el-form-item",{attrs:{label:e.$t("terminalProM.terminalCode")}},[a("el-input",{attrs:{size:"small",placeholder:e.$t("companyManage.ph1")},model:{value:e.search.manufacturerNumber,callback:function(t){e.$set(e.search,"manufacturerNumber","string"==typeof t?t.trim():t)},expression:"search.manufacturerNumber"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.searchTable}},[e._v(e._s(e.$t("action.search")))])],1)],1)],1),a("el-row",[a("cv-grid",{ref:"equmentTable",attrs:{params:e.search,url:"/terminal/findUnbindTerminalPage",defaultHeight:!0,"highlight-current-row":""},on:{"row-click":e.selectIndex}},[a("el-table-column",{attrs:{label:e.$t("terminal.code"),prop:"code"}}),a("el-table-column",{attrs:{label:e.$t("terminal.terminalType"),prop:"manufacturerModel"}}),a("el-table-column",{attrs:{label:e.$t("terminalProM.terminalCode"),prop:"manufacturerNumber"}})],1)],1),a("el-row",[a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary",loading:e.submitFalg},on:{click:e.confirm}},[e._v(e._s(e.$t("action.confirm")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)])],1)},[],!1,null,null,null).exports),I=a("b0ad"),w=(a("28a5"),{mixins:[],props:{options:{}},inject:["store"],data:function(){return{carTypeArry:[{code:"1",name:this.$t("vt.carType1")},{code:"2",name:this.$t("vt.carType2")},{code:"3",name:this.$t("vt.carType3")},{code:"4",name:this.$t("vt.carType4")},{code:"5",name:this.$t("vt.carType5")},{code:"6",name:this.$t("vt.carType6")},{code:"7",name:this.$t("vt.carType7")},{code:"8",name:this.$t("vt.carType8")},{code:"9",name:this.$t("vt.carType9")},{code:"10",name:this.$t("vt.carType10")},{code:"11",name:this.$t("vt.carType11")},{code:"12",name:this.$t("vt.carType12")},{code:"13",name:this.$t("vt.carType13")},{code:"14",name:this.$t("vt.carType14")},{code:"15",name:this.$t("vt.carType15")},{code:"16",name:this.$t("vt.carType16")},{code:"17",name:this.$t("vt.carType17")},{code:"18",name:this.$t("vt.carType18")},{code:"19",name:this.$t("vt.carType19")},{code:"20",name:this.$t("vt.carType20")},{code:"21",name:this.$t("vt.carType21")},{code:"22",name:this.$t("vt.carType22")},{code:"23",name:this.$t("vt.carType23")},{code:"24",name:this.$t("vt.carType24")},{code:"25",name:this.$t("vt.carType25")}],vehicleBrand:this.store.brand,factoryType:[],manufacturerName:[],modelType:[],tokens:{Accept:"application/json, text/plain",token:localStorage.getItem("token")},changBrandFlag:!0,loading:!1,uploadPar:{enterpriseId:"",fleetId:"",carType:"",carModel:"",fileLen:"0",brandId:"",factoryName:"",vehicleModeId:"",manufacturerId:"",manufacturerModel:""},label:"",rules:{enterpriseId:{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},fleetId:{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},vehicleModeId:[{required:!1,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],file:[{required:!0,message:this.$t("action.selectFile"),trigger:"blur,change"},{validator:this.isFile,trigger:"blur,change"}],manufacturerId:{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},manufacturerModel:{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},carType:{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},brandId:{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}}}},methods:{confirm:function(){var e=this,t=this;this.$refs.uploadForm.validate(function(a){a&&(0!=t.uploadPar.fileLen&&"0"!=t.uploadPar.fileLen?(t.loading=!0,t.$refs.upload.submit()):e.$message.warning(e.$t("action.selectFile")))})},successFile:function(e,t,a){if(e.flag)this.loading=!1,this.$message.success(this.$t("action.addSuccess")),this.$emit("update:search",!0),this.options.flag=!1;else if(this.loading=!1,this.options.flag=!1,e.data){var r=e.data.split(",");1<r.length?this.$message.error(this.$t("action.importText")+r[0]+this.$t("action.line")+r[1]+this.$t("action.columnError")):this.$message.error(this.$t("action.importText")+r[0]+this.$t("action.lineError"))}else this.$message.error(this.$t("error."+e.errorCode))},errorFile:function(e,t,a){this.loading=!1,this.$message.error(this.$t("action.addFail")),this.options.flag=!1},getModel:function(){var e=this,t=this.vehicleBrand;for(var a in this.uploadPar.factoryName="",this.uploadPar.vehicleModeId="",t)t[a].id==this.uploadPar.brandId&&(this.uploadPar.factoryName=t[a].manufacturerName);this.$store.dispatch("getFindModel",{brandId:this.uploadPar.brandId}).then(function(t){t.flag?(e.factoryType=t.data,e.changBrandFlag=!1):(e.factoryType=[],e.changBrandFlag=!0)})},downFile:function(){var e=localStorage.getItem("language"),t="";"zh_CN"==e?t=this.$service.winParams(this.$COMMON.baseUrl+"/temp/vehicleTemplate/defaultTemplate_zh_CN.xls"):"en_US"==e&&(t=this.$service.winParams(this.$COMMON.baseUrl+"/temp/vehicleTemplate/defaultTemplate_en_US.xls")),window.location.href=t},changeFile:function(e,t){this.uploadPar.fileLen=t.length},isFile:function(e,t,a){this.$service.isContext(t)||("0"!=t?a():a(new Error(this.$t("action.selectFile"))))},findManu:function(){var e=this;this.$store.dispatch("findManufacturerList").then(function(t){t.flag?e.manufacturerName=t.data:e.manufacturerName=[]})},findModel:function(){var e=this;this.$store.dispatch("findModelList",{manufacturerId:this.uploadPar.manufacturerId}).then(function(t){t.flag?(e.modelType=t.data,e.manufacturerModel=""):e.modelType=[]})}},watch:{"options.flag":function(e){e||(this.options.name="")},"uploadPar.brandId":function(e){e&&(this.rules.vehicleModeId[0].required=!0)}},mounted:function(){this.findManu()}}),k=(a("359d"),Object(s.a)(w,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vehicle-upload"},[a("div",{staticStyle:{"margin-bottom":"20px","text-align":"right"}},[a("label",{staticStyle:{color:"red"}},[e._v(e._s(e.$t("action.downTemplate")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.downFile}},[e._v(e._s(e.$t("action.downDemo")))])],1),a("el-form",{ref:"uploadForm",attrs:{"label-position":"top",model:e.uploadPar,"label-width":"100px",rules:e.rules}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("terminal.company"),prop:"enterpriseId"}},[a("cv-dropdown-tree",{attrs:{data:e.store.company_tree,label:e.label},on:{"update:label":function(t){e.label=t}},model:{value:e.uploadPar.enterpriseId,callback:function(t){e.$set(e.uploadPar,"enterpriseId",t)},expression:"uploadPar.enterpriseId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.subGroup"),prop:"fleetId"}},[a("cv-dropdown-tree",{attrs:{url:"/enterprise/findFleetTreeList","un-node-filter":["type",null],"is-initial":!1,"auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type}},model:{value:e.uploadPar.fleetId,callback:function(t){e.$set(e.uploadPar,"fleetId",t)},expression:"uploadPar.fleetId"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.carType")}},[a("el-select",{staticClass:"w",attrs:{size:"small",clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.uploadPar.carType,callback:function(t){e.$set(e.uploadPar,"carType",t)},expression:"uploadPar.carType"}},e._l(e.carTypeArry,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.carBrand")}},[a("el-select",{staticClass:"w",attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder"),size:"small"},on:{change:e.getModel},model:{value:e.uploadPar.brandId,callback:function(t){e.$set(e.uploadPar,"brandId",t)},expression:"uploadPar.brandId"}},e._l(e.vehicleBrand,function(e){return a("el-option",{key:e.id_,attrs:{label:e.brandName,value:e.id_}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.factName"),prop:"factoryName"}},[a("el-input",{attrs:{size:"small",disabled:!0,clearable:""},model:{value:e.uploadPar.factoryName,callback:function(t){e.$set(e.uploadPar,"factoryName","string"==typeof t?t.trim():t)},expression:"uploadPar.factoryName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("cL.carModel"),prop:"vehicleModeId"}},[a("el-select",{staticClass:"w",attrs:{clearable:"",filterable:"",disabled:e.changBrandFlag,placeholder:e.$t("terminal.placeholder"),size:"small"},model:{value:e.uploadPar.vehicleModeId,callback:function(t){e.$set(e.uploadPar,"vehicleModeId",t)},expression:"uploadPar.vehicleModeId"}},e._l(e.factoryType,function(e){return a("el-option",{key:e.id+"",attrs:{label:e.modeName,value:e.id+""}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("terminal.manufacturer"),prop:"manufacturerId"}},[a("el-select",{staticClass:"code w",attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder"),size:"small"},on:{change:e.findModel},model:{value:e.uploadPar.manufacturerId,callback:function(t){e.$set(e.uploadPar,"manufacturerId",t)},expression:"uploadPar.manufacturerId"}},e._l(e.manufacturerName,function(e){return a("el-option",{key:e.id+"",attrs:{label:e.name,value:e.id+""}})}),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("terminal.terminalType1"),prop:"manufacturerModel"}},[a("el-select",{staticClass:"code w",attrs:{clearable:"",placeholder:e.$t("terminal.placeholder"),size:"small"},model:{value:e.uploadPar.manufacturerModel,callback:function(t){e.$set(e.uploadPar,"manufacturerModel",t)},expression:"uploadPar.manufacturerModel"}},e._l(e.modelType,function(e){return a("el-option",{key:e.id+"",attrs:{label:e.manufacturerNumber+" & "+e.model,value:e.id+""}})}),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("action.importFile")}},[a("el-upload",{ref:"upload",staticClass:"upload-file",attrs:{drag:"",action:e.$COMMON.baseUrl+"/vehicle/importVehicle",headers:e.tokens,data:e.uploadPar,"show-file-list":"","auto-upload":!1,"on-change":e.changeFile,"on-remove":e.changeFile,"on-success":e.successFile,"on-error":e.errorFile}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("\n              "+e._s(e.$t("common.cE.moveFile"))+"\n              "),a("em",[e._v(e._s(e.$t("common.cE.clickUpload")))])])])],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"60px"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("action.confirm")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)},[],!1,null,null,null).exports),x={mixins:[],props:{options:{}},inject:["store"],data:function(){return{label:"",pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()}},btnLoading:!1,account:"",add:{account:"",username:"",idcards:"",enterpriseId:"",remark:"",mobilephone:"",phone:"",birthday:"",address:"",shortname:"",sexy:"",email:"",fox:""},rules:{enterpriseId:{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},account:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{validator:this.verificationAccount,trigger:"blur"},{pattern:/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,message:this.$t("filter.type4")}],username:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,message:this.$t("filter.type4")}],idcards:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:this.$t("filter.type11")}],mobilephone:{pattern:/^1[34578]\d{9}$/,message:this.$t("filter.type6"),trigger:"blur,change"},email:{type:"email",message:this.$t("action.correctEmail"),trigger:"blur,change"},fox:{pattern:/^[0-9]/,message:this.$t("action.correctFax"),trigger:"blur,change"},phone:{pattern:/^[0-9]/,message:this.$t("action.correctTel"),trigger:"blur,change"}}}},computed:{_Form:function(){return this.$refs.addForm}},methods:Object(l.a)({},Object(c.b)(["insertVehicleMaster","checkEntUserIsAt"]),{verificationAccount:function(e,t,a){var r=this;this.$service.isContext(t)||(t!=this.account?this.checkEntUserIsAt({account:t}).then(function(e){e.flag?a():a(new Error(r.$t("error.4000")))}):a())},confirm:function(){var e=this;this._Form.validate(function(t){t&&(e.btnLoading=!0,e.add.id=e.options.id?e.options.id:"",e.insertVehicleMaster(Object(l.a)({},e.add,{enterpriseName:e.label.text})).then(function(t){t.flag?(e.options.id?e.$message.success(e.$t("action.modifySuccess")):e.$message.success(e.$t("action.addSuccess")),e.options.flag=!1,e.options.insertVehicleMaster=!0):(e.options.insertVehicleMaster=!1,e.$message.error(e.$t("error."+t.errorCode))),e.btnLoading=!1}).catch(function(t){e.btnLoading=!1}))})}}),watch:{"options.flag":function(e){e||(this.options.name="")}},mounted:function(){this.add.enterpriseName=this.options.enterpriseName,this.add.enterpriseId=this.options.enterpriseId}},C=(a("ecd3"),Object(s.a)(x,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vehicle-master"},[a("el-form",{ref:"addForm",attrs:{inline:!0,"label-position":"top",model:e.add,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:e.$t("terminal.company"),prop:"enterpriseId"}},[a("cv-dropdown-tree",{attrs:{url:"/enterprise/getEnterpriseTreeList",data:e.store.company_tree,label:e.label,placeholder:e.$t("terminal.placeholder")},on:{"update:label":function(t){e.label=t}},model:{value:e.add.enterpriseId,callback:function(t){e.$set(e.add,"enterpriseId",t)},expression:"add.enterpriseId"}})],1),a("el-form-item",{attrs:{label:e.$t("UserManage.accountNumber"),prop:"account"}},[a("el-input",{attrs:{size:"small",maxlength:15,placeholder:e.$t("companyManage.ph1")},model:{value:e.add.account,callback:function(t){e.$set(e.add,"account","string"==typeof t?t.trim():t)},expression:"add.account"}})],1),a("el-form-item",{attrs:{label:e.$t("UserManage.name"),prop:"username"}},[a("el-input",{attrs:{size:"small",maxlength:10,placeholder:e.$t("companyManage.ph1")},model:{value:e.add.username,callback:function(t){e.$set(e.add,"username","string"==typeof t?t.trim():t)},expression:"add.username"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.idNumber"),prop:"idcards"}},[a("el-input",{attrs:{size:"small",maxlength:18,placeholder:e.$t("companyManage.ph1")},model:{value:e.add.idcards,callback:function(t){e.$set(e.add,"idcards","string"==typeof t?t.trim():t)},expression:"add.idcards"}})],1),a("el-form-item",{attrs:{label:e.$t("UserManage.dateOfBirth"),prop:"birthday"}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOptions0,clearable:!1,editable:!1,type:"date","value-format":"yyyy-MM-dd",prop:"time"},model:{value:e.add.birthday,callback:function(t){e.$set(e.add,"birthday",t)},expression:"add.birthday"}})],1),a("el-form-item",{attrs:{label:e.$t("UserManage.address"),prop:"address"}},[a("el-input",{attrs:{size:"small",maxlength:30,placeholder:e.$t("companyManage.ph1")},model:{value:e.add.address,callback:function(t){e.$set(e.add,"address","string"==typeof t?t.trim():t)},expression:"add.address"}})],1),a("el-form-item",{attrs:{label:e.$t("UserManage.gender")}},[a("el-select",{attrs:{placeholder:e.$t("terminal.placeholder"),clearable:"",filterable:""},model:{value:e.add.sexy,callback:function(t){e.$set(e.add,"sexy",t)},expression:"add.sexy"}},[a("el-option",{attrs:{label:e.$t("dM.man"),value:"1"}}),a("el-option",{attrs:{label:e.$t("dM.woman"),value:"0"}})],1)],1),a("el-form-item",{attrs:{label:e.$t("dM.nickname")}},[a("el-input",{attrs:{size:"small",maxlength:10,placeholder:e.$t("companyManage.ph1")},model:{value:e.add.shortname,callback:function(t){e.$set(e.add,"shortname","string"==typeof t?t.trim():t)},expression:"add.shortname"}})],1),a("el-form-item",{attrs:{label:e.$t("dM.telPhone"),prop:"mobilephone"}},[a("el-input",{attrs:{size:"small",maxlength:11,placeholder:e.$t("companyManage.ph1")},model:{value:e.add.mobilephone,callback:function(t){e.$set(e.add,"mobilephone","string"==typeof t?t.trim():t)},expression:"add.mobilephone"}})],1),a("el-form-item",{attrs:{label:e.$t("dM.tel"),prop:"phone"}},[a("el-input",{attrs:{size:"small",maxlength:11,placeholder:e.$t("companyManage.ph1")},model:{value:e.add.phone,callback:function(t){e.$set(e.add,"phone","string"==typeof t?t.trim():t)},expression:"add.phone"}})],1),a("el-form-item",{attrs:{label:e.$t("dM.email"),prop:"email"}},[a("el-input",{attrs:{size:"small",maxlength:18,placeholder:e.$t("companyManage.ph1")},model:{value:e.add.email,callback:function(t){e.$set(e.add,"email","string"==typeof t?t.trim():t)},expression:"add.email"}})],1),a("el-form-item",{attrs:{label:e.$t("UserManage.fax"),prop:"fox"}},[a("el-input",{attrs:{size:"small",placeholder:e.$t("companyManage.ph1")},model:{value:e.add.fox,callback:function(t){e.$set(e.add,"fox","string"==typeof t?t.trim():t)},expression:"add.fox"}})],1),a("el-form-item",{attrs:{label:e.$t("UserManage.userDescribe")}},[a("el-input",{attrs:{size:"small",maxlength:30,type:"textarea",placeholder:e.$t("companyManage.ph1")},model:{value:e.add.remark,callback:function(t){e.$set(e.add,"remark","string"==typeof t?t.trim():t)},expression:"add.remark"}})],1)],1),a("div",{staticClass:"dialog-footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.btnLoading,expression:"btnLoading"}],attrs:{type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("action.confirm")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)},[],!1,null,null,null).exports),T={props:{options:{}},data:function(){return{selectRows:[],grid:{}}},methods:{confirm:function(){var e=[],t=[];if(this.selectRows.forEach(function(a){e.push(a.id),t.push(a.superiorPlatform)}),0==e.length)return this.$message.warning({message:this.$t("terminalParamSet.selectOne")}),!1;this.options.flag=!1,this.options.superiorPlatformIds=e.join(","),this.options.superiorPlatformNames=t.join(",")},schange:function(e){this.selectRows=e}},watch:{"options.flag":function(e){e||(this.options.name="")}}},D=Object(s.a)(T,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("cv-grid",{ref:"protocolTable",attrs:{params:e.grid,url:"/transfer/findProtocolTransferGroupPageInfo",defaultHeight:!0},on:{"selection-change":e.schange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:e.$t("companyManage.agreement"),prop:"protocolName"}}),a("el-table-column",{attrs:{label:e.$t("companyManage.platform"),prop:"superiorPlatform"}})],1),a("el-row",[a("el-col",{staticClass:"dialog-footer",staticStyle:{margin:"10px 0"},attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("action.confirm")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)],1)},[],!1,null,null,null).exports,M={components:{addTerminal:y.a,search:n,add:m,addMation:b,modify:f,change:$,importFile:k,addMaster:C,addSuperior:D},mixins:[I.a],computed:Object(l.a)({},Object(c.c)(["manageMenus"]),{_table:function(){return this.$refs.carListTable}}),data:function(){return{searchFlag:!1,dialog:{title:"--",flag:!1,name:"add",size:"dialog-full",id:"",entId:"",search:{enterpriseId:"",plateCode:"",mobileCode:"",terminalCode:"",isLogout:"",useStatus:"",onlineStatus:"",fleetId:""},dialog1:{flag:!1,insterTerminal:!1,enterpriseId:"",enterpriseName:"",insertVehicleMaster:!1,insterMation:!1,name:"addMaster",size:"dialog-small",title:"--",superiorPlatformIds:"",superiorPlatformNames:""}},store:{company_tree:[],brand:[]}}},provide:function(){return{store:this.store}},methods:Object(l.a)({},Object(c.b)(["deleteVehicle","unBindTerminal","logoutVehicle","updateVehicleUserStatus","unBindTerminal","queryCompanyInfoList","getFindBrand"]),{sdate:function(e){return e.sdate&&this.$filter.format(new Date(e.sdate),"yyyy-MM-dd")},edate:function(e){return e.sdate&&this.$filter.format(new Date(e.edate),"yyyy-MM-dd")},upload:function(e){this.dialog.size="dialog-small",this.dialog.name="importFile",this.dialog.title=e.title,this.dialog.flag=!0},plateCodeAndColor:function(e){return e.plateCode+"("+this.$filter.plateCodeColor(e.plateColor)+")"},filterStuas:function(e){return this.$filter.isStuas(e.useStatus)},filterLineStuas:function(e){return this.$filter.isOnlineState(e.onlineStatus)},filterLogStuas:function(e){return this.$filter.isRegisterFilter(e.isLogout)},add:function(e){this.dialog.size="dialog-large",this.dialog.name="add",this.dialog.title=e.title,this.dialog.flag=!0},search:function(e){this.dialog.size="dialog-small",this.dialog.name=e.name,this.dialog.title=e.title,this.dialog.flag=!0},modify:function(e){this.dialog.id=e.row.id,this.dialog.size="dialog-large",this.dialog.title=this.$t("power.modify"),this.dialog.name="modify",this.dialog.flag=!0},remove:function(e){var t=this;this.confirmPrompt().then(function(){t.deleteVehicle(e).then(function(e){e.flag?(t.$message.success(t.$t("action.removeSuccess")),t.searchFlag=!0):t.$message.error(t.$t("action. removeFail"))})})},down:function(){var e=this.$service.winParams(this.$COMMON.baseUrl+"/vehicle/exportCarExcel",{enterpriseId:this.dialog.search.enterpriseId,plateCode:this.dialog.search.plateCode,mobileCode:this.dialog.search.mobileCode,terminalCode:this.dialog.search.terminalCode,isLogout:this.dialog.search.isLogout,useStatus:this.dialog.search.useStatus,onlineStatus:this.dialog.search.onlineStatus});window.location.href=e},changeEqument:function(e){this.dialog.id=e.row.id,this.dialog.entId=e.row.enterpriseId,null!=e.row.isLogout?this.dialog.title=this.$t("cE.changEq"):this.dialog.title=this.$t("cE.bindEq"),this.dialog.name="change",this.dialog.size="dialog-large",this.dialog.flag=!0},unbindEqument:function(e){var t=this;this.unBindTerminal({vehicleId:e}).then(function(e){e.flag?(t.$message.success(t.$t("cE.unbindSus")),t.searchFlag=!0):t.$message.error(t.$t("cE.unbindErr"))})},updataUserStatus:function(e){var t=this;this.confirmPrompt(this.$t("action.confirmIsaction")).then(function(){t.updateVehicleUserStatus({useStatus:"0"==e.row.useStatus?"1":"0",id:e.row.id}).then(function(a){a.flag?("0"==e.row.useStatus?t.$message.success(t.$t("cE.upUserSus")):t.$message.success(t.$t("cE.upStatusSus")),t.searchFlag=!0):"0"==e.row.useStatus?t.$message.error(t.$t("cE.upUserErr")):t.$message.error(t.$t("cE.upStatusErr"))})})},updataVehicleStatus:function(e){var t=this;this.logoutVehicle(e).then(function(e){t.searchFlag=!0,e.flag||t.$message.error(t.$t("error."+e.errorCode))})}}),watch:{searchFlag:function(e){e&&(this._table.tableInitial(),this.searchFlag=!1)}},mounted:function(){var e=this;this.queryCompanyInfoList().then(function(t){var a=t.data,r=t.flag;e.store.company_tree=r?a:[]}),this.getFindBrand().then(function(t){var a=t.data,r=t.flag,i=t.errorCode;e.store.brand=r&&!i?a:[]})}},_=(a("5eac"),Object(s.a)(M,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vehicleList"},[a("cv-operation",[a("el-form-item",[a("cv-tool",{attrs:{name:e.$route.name,data:e.manageMenus,"is-remove":!1,"is-modify":!1,"is-import":!0},on:{add:e.add,export:e.down,search:e.search,imports:e.upload}})],1)],1),a("cv-content",[a("cv-grid",{ref:"carListTable",attrs:{params:e.dialog.search,url:e.$store.getters.findVehiclePages}},[a("el-table-column",{attrs:{label:e.$t("cE.carNumbers"),prop:"icon",width:"180",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cv-icon",{staticStyle:{color:"#57b64a",width:"15px"},attrs:{name:t.row.icon?t.row.icon+"cheliang":"icon1cheliang"}}),a("span",[e._v(e._s(e.plateCodeAndColor(t.row)))])]}}])}),a("el-table-column",{attrs:{label:e.$t("dm.company"),prop:"enterpriseName"}}),a("el-table-column",{attrs:{label:e.$t("cE.ownCar"),prop:"fleetName"}}),a("el-table-column",{attrs:{label:e.$t("terminal.code"),prop:"terminalCode"}}),a("el-table-column",{attrs:{label:e.$t("cE.endPhone"),prop:"mobileCode",width:"150"}}),a("el-table-column",{attrs:{label:e.$t("cE.regStatus"),prop:"isLogout",formatter:e.filterLogStuas}}),a("el-table-column",{attrs:{label:e.$t("cE.useStatus"),prop:"useStatus",formatter:e.filterStuas}}),a("el-table-column",{attrs:{label:e.$t("cE.onlineStatus"),prop:"onlineStatus",formatter:e.filterLineStuas}}),a("el-table-column",{attrs:{label:e.$t("cE.remark"),prop:"remarks"}}),a("el-table-column",{attrs:{label:e.$t("home.serviceSdate"),prop:"sdate",width:"110",formatter:e.sdate}}),a("el-table-column",{attrs:{label:e.$t("home.serviceEdate"),prop:"edate",width:"110",formatter:e.edate}}),a("el-table-column",{attrs:{label:e.$t("home.serviceDay"),prop:"dateDif",width:"110"}}),a("el-table-column",{attrs:{label:e.$t("action.operation"),width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cv-table-tool",{attrs:{name:e.$route.name,data:e.$store.getters.manageMenus},on:{modify:function(a){return e.modify(t)},remove:function(a){return e.remove(t.row.id)}}}),a("div",{staticClass:"cv-table-tool"},[a("cv-span",{directives:[{name:"show",rawName:"v-show",value:1==t.row.onlineStatus,expression:"scope.row.onlineStatus==1 ? true : false"}],attrs:{type:"success"},nativeOn:{click:function(a){return e.updataVehicleStatus(t.row.id)}}},[e._v(e._s(e.$t("cE.outLine")))]),a("cv-span",{attrs:{type:"success"},nativeOn:{click:function(a){return e.updataUserStatus(t)}}},[e._v(e._s("0"==t.row.useStatus?e.$t("cE.disCar"):e.$t("cE.useCar")))])],1),a("div",{staticClass:"cv-table-tool"},[a("cv-span",{directives:[{name:"show",rawName:"v-show",value:null!=t.row.isLogout&&"1"==t.row.isLogout,expression:'(scope.row.isLogout !=null && scope.row.isLogout=="1")'}],attrs:{type:"success"},nativeOn:{click:function(a){return e.changeEqument(t)}}},[e._v(e._s(e.$t("cE.changEq")))]),a("cv-span",{directives:[{name:"show",rawName:"v-show",value:!t.row.isLogout,expression:"!scope.row.isLogout"}],attrs:{type:"success"},nativeOn:{click:function(a){return e.changeEqument(t)}}},[e._v(e._s(e.$t("cE.bindEq")))]),a("cv-span",{directives:[{name:"show",rawName:"v-show",value:null!=t.row.isLogout&&"1"==t.row.isLogout,expression:'(scope.row.isLogout !=null && scope.row.isLogout=="1") ? true : false'}],attrs:{type:"success"},nativeOn:{click:function(a){return e.unbindEqument(t.row.id)}}},[e._v(e._s(e.$t("cE.unbindEq")))])],1)]}}])})],1)],1),a("el-dialog",{attrs:{visible:e.dialog.flag,title:e.dialog.title,"custom-class":e.dialog.size},on:{"update:visible":function(t){return e.$set(e.dialog,"flag",t)}}},[a(e.dialog.name,{tag:"component",attrs:{options:e.dialog,search:e.searchFlag},on:{"update:search":function(t){e.searchFlag=t}}})],1),a("el-dialog",{attrs:{visible:e.dialog.dialog1.flag,title:e.dialog.dialog1.title,"custom-class":e.dialog.dialog1.size},on:{"update:visible":function(t){return e.$set(e.dialog.dialog1,"flag",t)}}},[a(e.dialog.dialog1.name,{tag:"component",attrs:{options:e.dialog.dialog1}})],1)],1)},[],!1,null,null,null).exports);t.default=_},ecd3:function(e,t,a){"use strict";var r=a("f8f6");a.n(r).a},f8f6:function(e,t,a){}}]);