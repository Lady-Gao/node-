(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-df7dcf1e"],{aaa0:function(e,t,r){},b191:function(e,t,r){"use strict";var a=r("aaa0");r.n(a).a},e6a0:function(e,t,r){"use strict";r.r(t),r("386d");var a={computed:{_table1:function(){return this.$refs.table1},_table2:function(){return this.$refs.table2},_table3:function(){return this.$refs.table3}},data:function(){return{search:{plateCode:"",typeName:2,startTime:this.$filter.format(new Date(new Date-864e5),"yyyy-MM-dd start"),endTime:this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")},activeName:"tabs0",SEtime:[this.$filter.format(new Date(new Date-864e5),"yyyy-MM-dd start"),this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")],pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}}}},methods:{orderloadGrid:function(e){var t=this;if(!this.SEtime)return this.$message.warning("请选择时间"),!1;e?(this.speedGridT.options.flag=!0,this.speedGridT.options.current=1):this.speedGridT.options.flag=!1;var r={startTime:this.$filter.format(this.SEtime[0],"yyyy-MM-dd  HH:mm:ss"),endTime:this.$filter.format(this.SEtime[1],"yyyy-MM-dd  HH:mm:ss"),plateCode:""==this.search.plateCode?"":this.search.plateCode,feetId:""==this.feetId?"":this.feetId,typeName:"2"};this.speedGridT.loading=!0,this.$store.dispatch("pageorderinfoTP",r).then(function(e){e.flag&&0!=e.data.length?(t.speedGridT.table=e.data.records,t.speedGridT.options.total=e.data.total):(t.speedGridT.table=[],t.speedGridT.options.total=0),t.speedGridT.loading=!1}).catch(function(e){t.$message.error("网络异常"),t.speedGridT.loading=!1})},orderTypeloadGrid:function(e){var t=this;if(!this.SEtime)return this.$message.warning("请选择时间"),!1;e?(this.trackGridT.options.flag=!0,this.trackGridT.options.current=1):this.trackGridT.options.flag=!1;var r={startTime:this.$filter.format(this.SEtime[0],"yyyy-MM-dd  HH:mm:ss"),endTime:this.$filter.format(this.SEtime[1],"yyyy-MM-dd  HH:mm:ss"),current:this.trackGridT.options.current,size:this.trackGridT.options.size,plateCode:""==this.search.plateCode?"":this.search.plateCode,typeName:"1"};this.trackGridT.loading=!0,this.$store.dispatch("pageorderinfoTP",r).then(function(e){e.flag&&0!=e.data.length?(t.trackGridT.table=e.data.records,t.trackGridT.options.total=e.data.total):(t.trackGridT.table=[],t.trackGridT.options.total=0),t.trackGridT.loading=!1}).catch(function(e){t.$message.error("网络异常"),t.trackGridT.loading=!1})},nextTypeloadGrid:function(e){var t=this;if(!this.SEtime)return this.$message.warning("请选择时间"),!1;e?(this.orderGridT.options.flag=!0,this.orderGridT.options.current=1):this.orderGridT.options.flag=!1;var r={startTime:this.$filter.format(this.SEtime[0],"yyyy-MM-dd  HH:mm:ss"),endTime:this.$filter.format(this.SEtime[1],"yyyy-MM-dd  HH:mm:ss"),current:this.orderGridT.options.current,size:this.orderGridT.options.size,plateCode:""==this.search.plateCode?"":this.search.plateCode,typeName:"0"};this.orderGridT.loading=!0,this.$store.dispatch("pageorderinfoTP",r).then(function(e){e.flag&&0!=e.data.length?(t.orderGridT.table=e.data.records,t.orderGridT.options.total=e.data.total):(t.orderGridT.table=[],t.orderGridT.options.total=0),t.orderGridT.loading=!1}).catch(function(e){t.$message.error("网络异常"),t.orderGridT.loading=!1})},isOrder:function(e,t,r){return this.$filter.orderTypeS(e.sendFlag)},searchTable:function(){switch(this.activeName){case"tabs0":this._table1.tableInitial(!0);break;case"tabs1":this._table2.tableInitial(!0);break;case"tabs2":this._table3.tableInitial(!0)}},tabClick:function(){switch(this.activeName){case"tabs0":return this.search.typeName=2;case"tabs1":return this.search.typeName=1;case"tabs2":return this.search.typeName=0}},searchReg:function(e,t){return!(3<this.$filter.timeRange(e,t))||(this.$message.warning("查询时间间隔不能超过三天"),!1)},down:function(){if(null!=this.SEtime){var e={startTime:this.$filter.format(new Date(this.SEtime[0]),"yyyy-MM-dd  HH:mm:ss"),endTime:this.$filter.format(new Date(this.SEtime[1]),"yyyy-MM-dd HH:mm:ss"),plateCode:""==this.search.plateCode?"":this.search.plateCode};if("tabs0"==this.activeName){var t=this.$service.winParams(this.$COMMON.baseUrl+"/report/exportOrderInfoCount",e);window.location.href=t}if("tabs1"==this.activeName){var r=this.$service.winParams(this.$COMMON.baseUrl+"/report/exportOrderInfoType",e);window.location.href=r}if("tabs2"==this.activeName){var a=this.$service.winParams(this.$COMMON.baseUrl+"/report/exportOrderInfo",e);window.location.href=a}}else this.$message.warning("请选择时间")},plateCodeAndColor:function(e){return this.$filter.plateCodeColor(e.plateColor)}},watch:{SEtime:function(e){this.search.startTime=e?e[0]:"",this.search.endTime=e?e[1]:""}}},i=(r("b191"),r("2877")),s=Object(i.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"orderStatistics"},[r("cv-operation",{attrs:{position:"left"}},[r("el-form-item",{attrs:{label:"起止时间"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",clearable:!0,editable:!1,type:"datetimerange",placeholder:"请选择时间范围","picker-options":e.pickerOption},model:{value:e.SEtime,callback:function(t){e.SEtime=t},expression:"SEtime"}})],1),r("el-form-item",{attrs:{label:"车牌号"}},[r("el-input",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.search.plateCode,callback:function(t){e.$set(e.search,"plateCode","string"==typeof t?t.trim():t)},expression:"search.plateCode"}})],1),r("el-form-item",[r("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-add":!1,"is-modify":!1,"is-remove":!1},on:{export:e.down,search:e.searchTable}})],1)],1),r("cv-content",{attrs:{fill:!0}},[r("cv-tabs",{attrs:{titles:["指令统计","按指令类型统计","明细信息"]},on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("cv-grid",{ref:"table1",attrs:{params:e.search,url:"/orderinfo/pageorderinfo"}},[r("el-table-column",{attrs:{label:e.$t("cE.carNumber"),"header-align":"center","min-width":"100",prop:"plateCode"}}),r("el-table-column",{attrs:{label:e.$t("cE.carColor"),"header-align":"center","min-width":"100",prop:"plateColor",formatter:e.plateCodeAndColor}}),r("el-table-column",{attrs:{label:"公司名称","header-align":"center","min-width":"100",prop:"enterpriseName"}}),r("el-table-column",{attrs:{label:"分组名称","header-align":"center","min-width":"120",prop:"groupName"}}),r("el-table-column",{attrs:{label:"下发次数","header-align":"center","min-width":"150",prop:"sendOrderCount"}})],1),r("cv-grid",{ref:"table2",attrs:{params:e.search,url:"/orderinfo/pageorderinfo"}},[r("el-table-column",{attrs:{label:e.$t("cE.carNumber"),"header-align":"center","min-width":"100",prop:"plateCode"}}),r("el-table-column",{attrs:{label:e.$t("cE.carColor"),"header-align":"center","min-width":"100",prop:"plateColor",formatter:e.plateCodeAndColor}}),r("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blcarGroup"),"header-align":"center","min-width":"100",prop:"groupName"}}),r("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blenterprise"),"header-align":"center","min-width":"120",prop:"enterpriseName"}}),r("el-table-column",{attrs:{label:"发送时间","header-align":"center","min-width":"100",prop:"sendOrderTime"}}),r("el-table-column",{attrs:{label:"下发指令名称","header-align":"center","min-width":"100",prop:"orderName"}}),r("el-table-column",{attrs:{label:"下发次数","header-align":"center","min-width":"100",prop:"sendOrderCount"}})],1),r("cv-grid",{ref:"table3",attrs:{params:e.search,url:"/orderinfo/pageorderinfo"}},[r("el-table-column",{attrs:{label:e.$t("cE.carNumber"),"header-align":"center","min-width":"100",prop:"plateCode"}}),r("el-table-column",{attrs:{label:e.$t("cE.carColor"),"header-align":"center","min-width":"100",prop:"plateColor",formatter:e.plateCodeAndColor}}),r("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blcarGroup"),"header-align":"center","min-width":"100",prop:"groupName"}}),r("el-table-column",{attrs:{label:e.$t("reportForm.mileageStatic.blenterprise"),"header-align":"center","min-width":"120",prop:"enterpriseName"}}),r("el-table-column",{attrs:{label:"下发指令名称","header-align":"center","min-width":"100",prop:"orderName"}}),r("el-table-column",{attrs:{label:"指令状态","header-align":"center","min-width":"100",formatter:e.isOrder,prop:"sendFlag"}}),r("el-table-column",{attrs:{label:"发送时间","header-align":"center","min-width":"100",prop:"sendOrderTime"}})],1)],1)],1)],1)},[],!1,null,null,null).exports;t.default=s}}]);