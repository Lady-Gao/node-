(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-718674a0"],{"627b":function(e,t,a){},"9bcc":function(e,t,a){"use strict";var l=a("627b");a.n(l).a},da9c:function(e,t,a){"use strict";a.r(t),a("386d");var l={data:function(){return{search:{plateCode:"",dataType:"0",isQuery:!1,fleetId:"",enterpriseId:"",startTime:this.$filter.dateWeekMonth(this.$filter.format(new Date-864e5,"yyyy-MM-dd"),"yyyy-MM-dd").week.WeekStart,endTime:this.$filter.dateWeekMonth(this.$filter.format(new Date-864e5,"yyyy-MM-dd"),"yyyy-MM-dd").week.WeekEnd,queryType:"A"},times:this.$filter.format(new Date-864e5,"yyyy-MM-dd"),type:[{val:"0",name:"周报"},{val:"1",name:"月报"}],label:""}},computed:{_table:function(){return this.$refs.tableList}},methods:{load:function(){this.getData(),this._table.tableInitial()},down:function(){var e=this;null!=this.search.enterpriseId?(null==this.search.fleetId&&(this.search.fleetId=""),""!=this.search.plateCode||""!=this.search.enterpriseId||""!=this.search.fleetId?this.search.isQuery=!0:this.search.isQuery=!1,this.$store.dispatch("exportDrivingDataListInfo",this.search).then(function(t){e.$message.success({message:e.$t("error."+t.errorCode)})})):this.$message.warning(this.$t("请选择车组"))},content:function(e){return this.$filter.toFixed(e.totalMileage,2)},getData:function(){var e=this.$filter.dateWeekMonth(this.times,"yyyy-MM-dd");this.search.startTime="0"==this.search.dataType?e.week.WeekStart:e.month.MonthStart,this.search.endTime="0"==this.search.dataType?e.week.WeekEnd:e.month.MonthEnd,""!=this.search.plateCode||""!=this.search.enterpriseId||""!=this.search.fleetId?this.search.isQuery=!0:this.search.isQuery=!1}}},r=(a("9bcc"),a("2877")),s=Object(r.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"behavior"},[a("cv-operation",{attrs:{position:"left"}},[a("el-row",[a("el-form-item",{attrs:{label:"所属公司/机构:",prop:"enterpriseId"}},[a("cv-dropdown-tree",{staticClass:"domWidth",attrs:{placeholder:e.$t("common.enterprise.enterpriseName"),url:"/enterprise/findEnterpriseOrganizationTreeList",label:e.label,"is-default":!1},on:{"update:label":function(t){e.label=t}},model:{value:e.search.enterpriseId,callback:function(t){e.$set(e.search,"enterpriseId",t)},expression:"search.enterpriseId"}})],1),a("el-form-item",{attrs:{label:"所属车组:",prop:"fleetId"}},[a("cv-dropdown-tree",{staticClass:"domWidth",attrs:{placeholder:e.$t("common.enterprise.enterpriseName"),url:"/enterprise/findFleetTreeList","is-default":!1,"auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type}},model:{value:e.search.fleetId,callback:function(t){e.$set(e.search,"fleetId",t)},expression:"search.fleetId"}})],1),a("el-form-item",{attrs:{label:"车牌号码:",prop:"plateCode"}},[a("el-input",{staticClass:"domWidth",attrs:{size:"small",maxlength:10},model:{value:e.search.plateCode,callback:function(t){e.$set(e.search,"plateCode","string"==typeof t?t.trim():t)},expression:"search.plateCode"}})],1)],1),a("el-form-item",{attrs:{label:"日期类型:"}},[a("el-select",{staticClass:"domWidth",attrs:{size:"small"},model:{value:e.search.dataType,callback:function(t){e.$set(e.search,"dataType",t)},expression:"search.dataType"}},e._l(e.type,function(e){return a("el-option",{key:e.val,attrs:{value:e.val,label:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"日期选择:"}},[a("el-date-picker",{staticClass:"domWidth",attrs:{editable:!1,size:"small",type:"date","value-format":"yyyy-MM-dd",clearable:!1},model:{value:e.times,callback:function(t){e.times=t},expression:"times"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-modify":!1,"is-remove":!1,"is-add":!1},on:{export:e.down,search:e.load}})],1)],1),a("cv-content",[a("cv-grid",{ref:"tableList",attrs:{url:"/report/findDrivingDataListInfo",params:e.search}},[a("el-table-column",{attrs:{label:"车牌号码","min-width":"150",prop:"plateCode"}}),a("el-table-column",{attrs:{label:"起始时间","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.search.startTime)+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"结束时间","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.search.endTime)+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"运行天数","min-width":"100",prop:"totalDays"}}),a("el-table-column",{attrs:{label:"运行小时","min-width":"100",prop:"totalKeepHour"}}),a("el-table-column",{attrs:{label:"日均运行时长(h)","min-width":"150",prop:"avgDayDrivingHour"}}),a("el-table-column",{attrs:{label:"本段里程(km)","min-width":"150",prop:"totalMileage",formatter:e.content}}),a("el-table-column",{attrs:{label:"日均里程(km)","min-width":"150",prop:"avgDayMileage"}}),a("el-table-column",{attrs:{label:"驾驶评分","min-width":"100",prop:"safeDrivingScore"}}),a("el-table-column",{attrs:{label:"侧翻(s)","min-width":"120",prop:"totalRollover"}}),a("el-table-column",{attrs:{label:"超速(s)","min-width":"100",prop:"totalOverspeed"}}),a("el-table-column",{attrs:{label:"疲劳驾驶(s)","min-width":"150",prop:"totalDriverFatigue"}}),a("el-table-column",{attrs:{label:"碰撞(次)","min-width":"150",prop:"totalCollision"}}),a("el-table-column",{attrs:{label:"急加速(s)","min-width":"150",prop:"totalHardAcceleration"}}),a("el-table-column",{attrs:{label:"急减速(s)","min-width":"150",prop:"totalSharpSlowdown"}}),a("el-table-column",{attrs:{label:"急转弯(s)","min-width":"150",prop:"totalSharpTurns"}}),a("el-table-column",{attrs:{label:"总油量(L)","min-width":"150",prop:"totalFuelEconomy"}}),a("el-table-column",{attrs:{label:"平均油耗(L/100km)","min-width":"230",prop:"avgDayFuelEconomy"}})],1)],1)],1)},[],!1,null,"43c091d4",null).exports;t.default=s}}]);