(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4e13458c"],{1464:function(e,t,r){"use strict";r.r(t),r("386d");var a={computed:{_table:function(){return this.$refs.table}},mixins:[r("8369").a],data:function(){return{alarmArr:"",label:"",common:{pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},dateTime:"",alarmTree:[]},search:{enterpriseId:"",fleetId:"",beginTime:"",endTime:"",plateCode:"",alarmIds:""}}},methods:{tableLoad:function(e){return this.search.enterpriseId?this.search.beginTime?void this._table.tableInitial():(this.$message.warning("请选择时间!"),!1):(this.$message.warning("请选择公司!"),!1)},downLoad:function(){var e=this;this.$http({url:"/alarmPolymerizationController/exportAlarmPolymerizationInfo",params:this.search}).then(function(t){t.flag&&e.$message.success("已成功添加至离线下载!"),t.flag||e.$message.warning("请先搜索!")})}},mounted:function(){var e=this;this.$http({url:"/alarmInfo/frinAlarmTypeInfoList.do",params:{}}).then(function(t){t.flag&&(e.common.alarmTree=t.data.children)})},watch:{"common.dateTime":function(e){e?864e5<this.$filter.timeStamp(e[1])-this.$filter.timeStamp(e[0])?(this.$message.warning("时间范围不能超过一天!"),this.common.dateTime=null):(this.search.beginTime=e[0],this.search.endTime=e[1]):(this.search.beginTime="",this.search.endTime="")},alarmArr:function(e){this.search.alarmIds=e?e.join(","):""}}},l=r("2877"),i=Object(l.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"polymerizeAlarm"},[r("cv-operation",{attrs:{position:"left"}},[r("el-form-item",{attrs:{label:"所属公司/机构"}},[r("cv-dropdown-tree",{attrs:{placeholder:e.$t("common.enterprise.affiliated"),url:"/enterprise/findEnterpriseOrganizationTreeList",label:e.label},on:{"update:label":function(t){e.label=t}},model:{value:e.search.enterpriseId,callback:function(t){e.$set(e.search,"enterpriseId",t)},expression:"search.enterpriseId"}})],1),r("el-form-item",{attrs:{label:"车组选择"}},[r("cv-dropdown-tree",{attrs:{url:"/enterprise/findFleetTreeList","is-default":!1,"un-node-filter":["type",null],"is-initial":!1,"auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type}},model:{value:e.search.fleetId,callback:function(t){e.$set(e.search,"fleetId",t)},expression:"search.fleetId"}})],1),r("el-form-item",{attrs:{label:e.$t("placeholder.selectDate")}},[r("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.common.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.common.dateTime,callback:function(t){e.$set(e.common,"dateTime",t)},expression:"common.dateTime"}})],1),r("el-form-item",{attrs:{label:e.$t("processing.type")}},[r("cv-dropdown-tree",{attrs:{isCheck:!0,data:e.common.alarmTree},on:{checked:e.alarmChecked},model:{value:e.alarmArr,callback:function(t){e.alarmArr=t},expression:"alarmArr"}})],1),r("el-form-item",{attrs:{label:e.$t("common.vehicle.plateCode")}},[r("el-input",{model:{value:e.search.plateCode,callback:function(t){e.$set(e.search,"plateCode",t)},expression:"search.plateCode"}})],1),r("el-form-item",[r("cv-tool",{staticClass:"cv-tool",staticStyle:{margin:"0"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-remove":!1,"is-add":!1,"is-modify":!1},on:{search:function(t){return e.tableLoad(!0)},export:e.downLoad}})],1)],1),r("cv-content",{attrs:{fill:!0}},[r("cv-grid",{ref:"table",attrs:{params:e.search,url:"/alarmPolymerizationController/queryAlarmPolymerizationInfo"}},[r("el-table-column",{attrs:{align:"center",label:e.$t("cvtsp.company"),prop:"enterpriseName"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("cvtsp.wasName"),prop:"fleetName"}}),r("el-table-column",{attrs:{align:"center",width:"120",label:e.$t("processing.alramNumber"),prop:"plateCode"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("processing.color"),formatter:e.tableFilterColor,prop:"plateColor"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("processing.type"),prop:"alarmName"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("processing.polymerizationTimes"),prop:"groupNum"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("processing.alarmStartPosition"),prop:"beginLocationName"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("processing.alarmEndPosition"),prop:"endLocationName"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("reportForm.osCount.asTime"),prop:"beginTime"}}),r("el-table-column",{attrs:{align:"center",label:e.$t("reportForm.osCount.aeTime"),prop:"endTime"}})],1)],1)],1)},[],!1,null,null,null).exports;t.default=i},8369:function(e,t,r){"use strict";var a=r("cebc");t.a={data:function(){return{table:{size:10,total:0,current:1,flag:!1,loading:!1,data:[]}}},methods:{tableLoading:function(e,t,r,l){var i=this;r?(this.table.flag=!0,this.table.current=1):this.table.flag=!1,this.table.loading=!0;var n=Object(a.a)({current:this.table.current,size:this.table.size},t);this.$http(l?{url:e,data:n}:{url:e,params:n}).then(function(e){var t=e.data;e.flag&&0!=t.length?(i.table.data=t.records,i.table.total=t.total,i.table.current=t.current):(i.table.data=[],i.table.total=0),i.table.loading=!1}).catch(function(e){i.table.loading=!1})},tableFilterColor:function(e){return this.$filter.plateCodeColor(e.plateColor)},tableFilterIcType:function(e){return this.$filter.icType(e.state)},tableFilterIcResult:function(e){return this.$filter.icResult(e.readerresult)},tableFilterTiredAlarm:function(e){return this.$filter.tiredAlarmType(e.alarm)},tableFilterTiredAdas:function(e){return this.$filter.tiredAdasType(e.alarm)},tableFilterOrderTypeS:function(e){return this.$filter.orderTypeS(e.sendFlag)},tableFilterFormat:function(e){return this.$filter.format(e.orderTime||e.gpsTime)},tableFilterFormats:function(e){return this.$filter.format(e.backTime)},tableBusLineType:function(e){return this.$filter.lineType(e.lineType)},tableFilterAcc:function(e){return this.$filter.accStatus(e.accStatus)},tableSplitMobile:function(e){return e.mobileCode?e.mobileCode.slice(1,e.mobileCode.length):""},tableConfirm:function(e){return this.$filter.isConfirm(e.isnotarize)},tableUpkeep:function(e){return this.$filter.isConfirm(e.type)},tableRenewal:function(e){return this.$filter.renewal(e.state)},tableReMot:function(e){return this.$filter.reMot(e.state)},tableOil:function(e){return this.$filter.fixNumber(e.total,2)},tableSex:function(e){return this.$filter.sex(e.sex)},plateCodeF:function(e){return e.plateCode?e.plateCode:"--"},plateCodeAndColor:function(e){return e.plateCode+"("+this.$filter.plateCodeColor(e.plateColor)+")"},driverStuas:function(e){return this.$filter.alarmStatus(e.fatigueDrive)},overStuas:function(e){return this.$filter.alarmStatus(e.tOversSpeed)},overHStuas:function(e){return this.$filter.alarmStatus(e.tOverSpeedH)},filterAlStuas:function(e){return this.$filter.alarmStatus(e.overSpeed)},filteralarmStuas:function(e){return this.$filter.alarmStatus(e.overSpeedH)},filterLStuas:function(e){return this.$filter.alarmStatus(e.forbid)},applyFlag:function(e){return this.$filter.applyFlag(e.applyFlag)},SEtime:function(e){return this.$filter.SEtime(e.StartTime,e.EndTime)},channelType:function(e){return this.$filter.channelType(e.Channel)},FileSize:function(e){return this.$filter.FileSize(e.fileSize||e.FileSize||0)},AlarmFilter:function(e){return this.$filter.AlarmFilter(e.Alarm)},MediaTypeFilter:function(e){return this.$filter.MediaTypeFilter(e.MediaType)},StreamTypeFilter:function(e){return this.$filter.StreamTypeFilter(e.StreamType)},StorageTypeFilter:function(e){return this.$filter.StorageTypeFilter(e.StorageType)},statusType:function(e){return this.$filter.statusType(e.Status)},fileSource:function(e){return this.$filter.fileSource(e.fileSource)}}}}}]);