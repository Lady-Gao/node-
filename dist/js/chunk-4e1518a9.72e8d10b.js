(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4e1518a9"],{"53aa":function(e,t,r){"use strict";r.r(t),r("386d");var a={mixins:[r("8369").a],data:function(){return{label:{},SEtime:[this.$filter.format(new Date,"yyyy-MM-dd start"),this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")],search:{enterpriseId:"",fleetId:"",plateCode:"",operationType:"",startTime:this.$filter.format(new Date,"yyyy-MM-dd start"),endTime:this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")},Oftype:[{id:"",name:"全部"},{id:"1",name:"添加"},{id:"2",name:"修改"},{id:"3",name:"删除"},{id:"4",name:"注销"},{id:"5",name:"下线"},{id:"6",name:"解绑"}]}},computed:{_table:function(){return this.$refs.table}},methods:{down:function(){this.search.enterpriseId||(this.search.enterpriseId="");var e=this.$service.winParams(this.$COMMON.baseUrl+"/videoController/exportTerminalOperationLog",this.search);window.location.href=e},load:function(){this._table.tableInitial(!0)},plateCodeF:function(e){return e.plateCode||"--"}},watch:{SEtime:function(e){this.search.startTime=e?e[0]:"",this.search.endTime=e?e[1]:""}}},l=r("2877"),i=Object(l.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"videolog"},[r("cv-operation",{attrs:{position:"left"}},[r("el-form-item",[r("cv-dropdown-tree",{attrs:{placeholder:"请选择公司/机构搜索",url:"/enterprise/findEnterpriseOrganizationTreeList ",label:e.label},on:{"update:label":function(t){e.label=t}},model:{value:e.search.enterpriseId,callback:function(t){e.$set(e.search,"enterpriseId",t)},expression:"search.enterpriseId"}})],1),r("el-form-item",[r("cv-dropdown-tree",{attrs:{placeholder:"请选择车组搜索",url:"/enterprise/findFleetTreeList","un-node-filter":["type",null],"is-initial":!1,"auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type}},model:{value:e.search.fleetId,callback:function(t){e.$set(e.search,"fleetId",t)},expression:"search.fleetId"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:"请输入车牌号码搜索",clearable:!0},model:{value:e.search.plateCode,callback:function(t){e.$set(e.search,"plateCode",t)},expression:"search.plateCode"}})],1),r("el-form-item",[r("el-select",{attrs:{placeholder:"请选择操作类型搜索"},model:{value:e.search.operationType,callback:function(t){e.$set(e.search,"operationType",t)},expression:"search.operationType"}},e._l(e.Oftype,function(e){return r("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})}),1)],1),r("el-form-item",[r("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss",clearable:!1},model:{value:e.SEtime,callback:function(t){e.SEtime=t},expression:"SEtime"}})],1),r("el-form-item",[r("cv-tool",{attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-add":!1,"is-remove":!1,"is-modify":!1},on:{search:e.load,export:e.down}})],1)],1),r("cv-content",{attrs:{fill:!0}},[r("cv-grid",{ref:"table",attrs:{params:e.search,url:"/videoController/getTerminalOperationLog"}},[r("el-table-column",{attrs:{prop:"plateCode",formatter:e.plateCodeF,label:"车牌号码"}}),r("el-table-column",{attrs:{prop:"terminalCode",label:"设备编号"}}),r("el-table-column",{attrs:{prop:"enterpriseName",label:"所属公司"}}),r("el-table-column",{attrs:{prop:"simCode",label:"SIM卡"}}),r("el-table-column",{attrs:{prop:"operationType",label:"操作"}}),r("el-table-column",{attrs:{prop:"fTime",label:"时间"}}),r("el-table-column",{attrs:{prop:"account",label:"用户"}})],1)],1)],1)},[],!1,null,null,null).exports;t.default=i},8369:function(e,t,r){"use strict";var a=r("cebc");t.a={data:function(){return{table:{size:10,total:0,current:1,flag:!1,loading:!1,data:[]}}},methods:{tableLoading:function(e,t,r,l){var i=this;r?(this.table.flag=!0,this.table.current=1):this.table.flag=!1,this.table.loading=!0;var n=Object(a.a)({current:this.table.current,size:this.table.size},t);this.$http(l?{url:e,data:n}:{url:e,params:n}).then(function(e){var t=e.data;e.flag&&0!=t.length?(i.table.data=t.records,i.table.total=t.total,i.table.current=t.current):(i.table.data=[],i.table.total=0),i.table.loading=!1}).catch(function(e){i.table.loading=!1})},tableFilterColor:function(e){return this.$filter.plateCodeColor(e.plateColor)},tableFilterIcType:function(e){return this.$filter.icType(e.state)},tableFilterIcResult:function(e){return this.$filter.icResult(e.readerresult)},tableFilterTiredAlarm:function(e){return this.$filter.tiredAlarmType(e.alarm)},tableFilterTiredAdas:function(e){return this.$filter.tiredAdasType(e.alarm)},tableFilterOrderTypeS:function(e){return this.$filter.orderTypeS(e.sendFlag)},tableFilterFormat:function(e){return this.$filter.format(e.orderTime||e.gpsTime)},tableFilterFormats:function(e){return this.$filter.format(e.backTime)},tableBusLineType:function(e){return this.$filter.lineType(e.lineType)},tableFilterAcc:function(e){return this.$filter.accStatus(e.accStatus)},tableSplitMobile:function(e){return e.mobileCode?e.mobileCode.slice(1,e.mobileCode.length):""},tableConfirm:function(e){return this.$filter.isConfirm(e.isnotarize)},tableUpkeep:function(e){return this.$filter.isConfirm(e.type)},tableRenewal:function(e){return this.$filter.renewal(e.state)},tableReMot:function(e){return this.$filter.reMot(e.state)},tableOil:function(e){return this.$filter.fixNumber(e.total,2)},tableSex:function(e){return this.$filter.sex(e.sex)},plateCodeF:function(e){return e.plateCode?e.plateCode:"--"},plateCodeAndColor:function(e){return e.plateCode+"("+this.$filter.plateCodeColor(e.plateColor)+")"},driverStuas:function(e){return this.$filter.alarmStatus(e.fatigueDrive)},overStuas:function(e){return this.$filter.alarmStatus(e.tOversSpeed)},overHStuas:function(e){return this.$filter.alarmStatus(e.tOverSpeedH)},filterAlStuas:function(e){return this.$filter.alarmStatus(e.overSpeed)},filteralarmStuas:function(e){return this.$filter.alarmStatus(e.overSpeedH)},filterLStuas:function(e){return this.$filter.alarmStatus(e.forbid)},applyFlag:function(e){return this.$filter.applyFlag(e.applyFlag)},SEtime:function(e){return this.$filter.SEtime(e.StartTime,e.EndTime)},channelType:function(e){return this.$filter.channelType(e.Channel)},FileSize:function(e){return this.$filter.FileSize(e.fileSize||e.FileSize||0)},AlarmFilter:function(e){return this.$filter.AlarmFilter(e.Alarm)},MediaTypeFilter:function(e){return this.$filter.MediaTypeFilter(e.MediaType)},StreamTypeFilter:function(e){return this.$filter.StreamTypeFilter(e.StreamType)},StorageTypeFilter:function(e){return this.$filter.StorageTypeFilter(e.StorageType)},statusType:function(e){return this.$filter.statusType(e.Status)},fileSource:function(e){return this.$filter.fileSource(e.fileSource)}}}}}]);