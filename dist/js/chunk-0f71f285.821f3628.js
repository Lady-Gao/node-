(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0f71f285"],{"04f8":function(t,e,i){"use strict";var n=i("cebc"),s=i("2f62"),a={mixins:[i("9add").a],props:{isCheck:{type:Boolean,default:function(){return!0}}},data:function(){return{peopletree:[],selection:[{label:"人员名称",value:"name"}],limit:200}},mounted:function(){this.treeInitialFinish()},methods:Object(n.a)({},Object(s.b)(["queryDustmanListInfoTree"]),{treeInitialFinish:function(){var t=this;this.queryDustmanListInfoTree().then(function(e){var i=e.data;t.peopletree=i})},handlerCheck:function(t){this.$emit("node-click",t)},handlerListsClick:function(t){3==t.type&&this.$emit("node-click",t)},iconsFilter:function(t){switch(t.manType){case"0":case"1":case"2":t.iconSkin="workerMan";break;case"4":case"5":case"6":t.iconSkin="inspectorMan"}},handlerLimitCheck:function(t){if(t.sumCount>this.limit)return this.$message.warning("该公司或车组下车辆超过".concat(this.limit,"辆车，不能一次性勾选!")),!1}})},o=(i("ff7e"),i("2877")),r=Object(o.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("cv-tabs",{staticClass:"cv-tabs-tree",attrs:{titles:["人员选择","人员列表"],isScrollbar:"",type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("cv-tree-search",{ref:"tree",attrs:{data:t.peopletree,lazy:"","is-check":t.isCheck,"node-filter":["type","3"],"limit-check":t.handlerLimitCheck},on:{"node-click":t.handlerListsClick}}),i("cv-tree-lists",{ref:"lists",attrs:{"search-api":"/manLocation/queryTdustmanInfoList","is-check":t.isCheck,params:{key:"types",result:"0,1,2,3,4,5"},selection:t.selection},on:{"node-click":t.handlerListsClick},scopedSlots:t._u([{key:"label",fn:function(e){return[i("cv-icon",{attrs:{name:"4"==e.row.manType||"5"==e.row.manType?"yunwei1":"renyuan"}}),i("span",[t._v(t._s(e.row.text))])]}}])},[i("template",{slot:"checkbox"},[i("el-checkbox",{attrs:{label:"0,1,2"}},[t._v("清洁工")]),i("el-checkbox",{attrs:{label:"4,5"}},[t._v("管理员")])],1)],2)],1)},[],!1,null,null,null);e.a=r.exports},"059c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUyMDE2RjZDOTFEQTExRTc4MEVBQjAxQjk2NTA5N0FDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUyMDE2RjZEOTFEQTExRTc4MEVBQjAxQjk2NTA5N0FDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTIwMTZGNkE5MURBMTFFNzgwRUFCMDFCOTY1MDk3QUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTIwMTZGNkI5MURBMTFFNzgwRUFCMDFCOTY1MDk3QUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tbwGjAAAFZklEQVR42sSZX2xTVRzHv/f23ts/21jXdl3btQ1sc5tOkgHd4EEjkGjigzNE2YghkmDixBAgMUZJFB4w4QkeHDhLzAQlAUFjwpxRIyAGIqEbPoAPLLKwsbE/AhO6rWu39vo73d2co7Tntqi/5pu0t79zzqe/c87v/KmgqiqyMJFUR1pDCpAqSaWkPO37cdIAqZvUSTpLCpESultigDrkJe0l9an6rU8r69XTJq+jnXSQFFVzt6hWl/1RATaS/lAfvbE6m3IBlEit6r9vrVpbugAtpHb1v7N2rc0HWIQUs1gifUVqyDTB4vE4+np6MDQwgPD9+zCaTFhUWAinywWn2w1ZUfTM11Okl0jT8x+mAvyY1JyupslIBO0nTuDMtx0YC4dT+hgMBiyuqEBN7TL4y5agoroa9mJnJsgg6Y10gE2k4+lqYJHa++47uHnjhq50JggCXmhswvpNmzK5vkI6Nj/hzpqddCBT6cMHWnTDzebbU18cx+WLFzO5MobiVIAfkBzpSg7fuoVL588jFzt/+nQmFxtpz0JAP+m1TCWvXO5CrtbfyxX9zRrTHOAWkpyp1ODAQM6AU7EYj5usMSUBmTbylIqMj2cNVlXpgctdAqPZzFuEMYmStivx8pQwWyz82x1RgKukEE9Ue7Cs1g9faRFa236BZLLxVsGY6hjgWt4SRfbUc0iWDPB4rPB7bXC7rShlos+KIv3Dr9hmQX7JEj2BX8NqWMHr7fH9HWizSUZgxWIsrfHisXInJWYxY3lfqRWOisf1AAYYYBVXHotH4bHNrEKr6suwrmF5ElKPVZTbYS0OIzE1BlHO5xq6bCW5rSXptDZ55zdEhrtwMdSDVXVlOc1ks3MZTI6lPK53WL8UcEUwMTUTvRzhZtY9A69ngcjrKZmdeFQmWfjrYoBhrsyZ76GKS3KGS9ZjdvC6h9kYvEJvnuTr5mnE/vwdE0OXsoLL960mQB/b2vAWucoieI176FBeN9qqYTDZs+pWucCvB47ZNQaoewdgtFXpBjQWVWUT9E5RO1Tra6ywDKJSwO1vMBZCWbQ4G8CzDJANqH59aUKExVXHn/dc9Xq7FhpTSNSuI47qn41erq422Wsg57mziR5jSszmwYOkmN4aLBQZQTI9PIdJZphLlmcDF9OY5jasLJyfZLEkUM8Z0g4F5pOFtc0Ou/kryS629uH/N8bwXqpDE/tiK/cpjV590T6EaZQkUkQpoYoYUw24Gb2pF3Db/EBxH9wT9Lpw/wI67nbg3L2fcXXiKsbj4/hQDqJSqEJUiOC22Ee/WIY97oECE35NdGHn9FvIM+ShNq8WTy96Cg32BqwsWMkGRyq4QwvbTgXI7itOzr/6+G70e+zo2YHuSPcDNT4jrsXb0k78mPgBX499A1VMYIPl5eTz3dM70Zl4cFmssdRgX9k+PGd9duHVx/qFk1V4yA0rO3x8GVNjz2+/vh3BoUPpEzdFK4pJOKJ+xIUYRpUhemKiJ5Npy73p3oL9ZfuhCEoHfWwkTaTazaQy5vhicPBQMBMcs6gGMibdxbh0b2aDmwGO2UeDrTg8fITdx6xLBZcugnP2+cjRDdS9LaPTo8k9UkCsR0Con/v+ZOI47iQ35YA15qIITiEsZ04GDtlxu6W8ZVuTo/FY2kTGc4k+MjXi2N27e0/b8KebBVVQFCjzQj2RnEDcK5Agx5pdr7ft8u96n0FmzLR6bvl7o73e4GBw65GRzzYOxgZL9eQOr9E7sMn56tFmV/MBes+99gvZ/A1BERND4VDdT/fOrQ2FL624PtlT2R/t90YSkeRRzSyax3xGX3+Fubw7kF/Xtca6+kwgPxCi1KL7b4i/BBgAC+lOdp3HQjwAAAAASUVORK5CYII="},"05d2":function(t,e,i){},"21f9":function(t,e,i){},"42f6d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH3QQKFy8BhDte+wAABcdJREFUSMeNlF1oXMcVx/9z79yP3bvajXclWWut3RVWoloRwau2qSE1IRQjt4nbCkqhAccPfsiLoPglBPLgl5ZC8UIg7UMpdSuKwS91MKUNriilJnVTXMtx3cpYaWXFsj5Wvruru3s/5t65M9MHRVKFcdDAvMwM/9/5nznnEHzOGh4eBqUUmqblMpnM9yzLOmWa5gClNKSULgD4C+f8A9u2m/l8Hrdu3cL8/PwuDf1p4qVSCbZtI03TvGmaF3Rdf0fTtDFN0yqapg3puj5OKX3NNM3n4zj+qxCiU6vV0O124brutg59GoAQAqUUlFKvcs7PEkJ0AFtnUEoBgEkp/ZZlWRbn/Nzy8vI9TdN26WifB8jlcuCcvxTHsR7HMbY2YwyMMURRBMYYDMOYKJfLb1+9elWzbXuXzlMdCCHw8OFDwzCMqpRyK2IU9+2DZVno7+vFsRe/jDQVaDab7vLq6jWllKzVansHKKVokiSOEAKpECj3FfGjt6Yw+IUq8rkelEr7IJVCGvorVvM/Hzyc+Q0IIXsDKKXAheQ6VHPyq1/EI3cDfYP78ZWhPpjFHBQIhN/ezHMa5xiLnb5Ctn379u29AQzDgIE4jYX63StHBr/9fP9z9DEtgjAP3OUgtrP1WwCPlQw9tZXGPX1ymqYIkxR+EL7/x9n5P+QsipcGMxCBB9FZh/TWoYINqKANGbQfC7/dlaG3d4DneVBK4dx3vtYpFQu/bHghT8MuxEYDivkQ3hqk70KGHmTk/bPn1XMd2XGf0HlqioaGhlCr1fDG16s43Ot0WLuZ+kFo5NoN0M/CklEXmmmnUPhTMPMzECu7NweTk5MolUool8t47d1rPT/5cO27SyGxCQE2mk0kzQZUEkElIdLO43+k3uM/p+01pM21J7R2jYqRkRGcP38ehUIBly5dwpUrV740NjL8rjKd11taj5YzCLKSwWu1wKMQUcwfBXH6g8WeI//6/TLFLz78BCdPnsSNGzeeBExOTmJ6ehqe5+H+/fuZhYWFNyuVynsDAwMvFov7NJrNo22WEOsZWIYGv9nGnaSo7tojJTeSThRFzXq93mm1Wjh9+jQuX768VWOb6/r16+CcY3l5uVKpVH5oWdbrmqYZW/edTgecc3AhoVYfoefq++i+MI6eEyeQzWSkEOITzvmvlpaW3jNNM5yamkKr1dp0cOjQIYyPj6PVauUOHjz4c8dxvp/P5/VCoQDHceA4DvL5PJRSyBcKII11ZP72d2TLZRSOHUOpVCK5XK7XcZyXDcO4U61W7zHGcPPmzc0qOnPmDKrVKoIgeDmTyXwzDEOEYYhcLgfH2WwoQgiy2SxYHOOZsTG09+9HoVBAxnGQpul2f1JKXxkbG/vt0tLSTpk2m00cP34cMzMz34jj2O52u4jjGK7rolgswjC2MwWlFMIkQdhowPr4Y4gTJ0BtG9pnMyhJkuGzZ89ahw8fjrcB1WoV9XrdGR0dfSFJEvi+D8/zkKYpPM9DqVTC/4+BlDGodhvWp5/Cn5uD3t8PquswTROMsf6BgYGMlHIHYJomKKUZxlgxSRJ0u110Oh0EQQApJZIk2ZmShEDEMZ5JUyjXRXt+HlxKQEoQQsAYi1zX3X5PAYAxBkopCYJAi+MYvu/D9/1dENM0N10QApkkyHIOjXN0HzxAu6cHRAhEUTTXaDTemZ6e3hgZGdkBuK4LIURHKXULwBHf9xEEAYIgQLfbhRACtm1DKQVCCCTnGOQcGgC2tobV3l4Vh+G19fX1tycmJu4QQjA6OrrTaBcuXMDdu3fF7OzsR4wxEobhAd/3zSAIVBiGaRAEMo5jLYoiEkURwjDE4OIi9ochHhjGvVld//H83Nz5oaGhB/V6HQcOHMDCwsKOg1OnTmFqagrZbHb14sWLbx09evSibdvPKqUczrmQUpqWZQ1TSsd1Xa8oKZkrxEoA/De3uPjrn05M/PuM64Jzjnw+j5WVle2C+B/zJBFZHHtS0gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNi0wOS0xN1QxNToxODo0MyswODowMI77Wn0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDQtMTBUMjM6NDc6MDErMDg6MDAx8G9RAAAATXRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA3LjAuMS02IFExNiB4ODZfNjQgMjAxNi0wOS0xNyBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ93ZpU4AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADUxMo+NU4EAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANTEyHHwD3AAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxMzY1NjA4ODIxhADUUgAAABB0RVh0VGh1bWI6OlNpemUANTNLQlDXikAAAABfdEVYdFRodW1iOjpVUkkAZmlsZTovLy9ob21lL3d3d3Jvb3Qvc2l0ZS93d3cuZWFzeWljb24ubmV0L2Nkbi1pbWcuZWFzeWljb24uY24vc3JjLzExMDEwLzExMDEwOTIucG5nxoLQYQAAAABJRU5ErkJggg=="},4875:function(t,e,i){"use strict";var n=i("b70a");i.n(n).a},"4af9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTU5N0UwODcxNUQ3MTFFN0EzOTk5ODQ2QTkyRjg5NDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTU5N0UwODgxNUQ3MTFFN0EzOTk5ODQ2QTkyRjg5NDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NTk3RTA4NTE1RDcxMUU3QTM5OTk4NDZBOTJGODk0OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5NTk3RTA4NjE1RDcxMUU3QTM5OTk4NDZBOTJGODk0OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvK9+BcAAAU/SURBVHjalFZZbFVVFF3n3OHNYwc60Ae1pUhVFFAKEVM1BAMhOCV+EE1IRPTHGSEmEPlB+VAxxg8SNcQIMTHBKX4g6AcfhESBUGgYArR0orS8176pd77nuu+rJYgU6kl27nk39+y199p7r/OY53nwF2Os8uy/dxaCAQ81K/JMOxlb7jjsJcOQHtENDt1kpy1HHLRdcZjOjSsSx4Tl4NFcDjevKZ8VvzcDnM80Ihx2kR2XefNs42VV8T5wBWu0LA7D5NAIxLQ83XLdP2xHbOEM51w6vzw7PYA8tTlZX4WSaYDLEtJx9zEh2C76ND0JPmkS98A5C3HB1pJzUCbrKbAS7rD41KYmBZ8CpVS2M4Zhv6JpIl0seiiXPOi6B8fx4AfmE8lQQXycnC/+h9lp140MbAft9VXieS8Yasa8zBqNMnEtG0IzIcoGPDI4NrgQFJUPwaLkvIWeR2YEEFTpXFn7Trz3WgZ1dc8Jeuc65Nwy4ZpkExpEvgxz4CqyR88i0V+iAjIZM83AEegObnkHvG3hMjkxK84kGa5LGbgWhGPRnsw2kBs4h6MDF9BUEnb7GEZdPkOAeJiK+MRqCL2Y5pJc6a7Js5Os+/wLx4XCOJI1aZyszQ0VVZwRfhFGZlDk5PEc8etAYpS464BR9FNGXFGRKBu9hJAawPIlixBOxbv2m7mBE7UeZtRFlR9+EcHGqJCiUkwy5htRBIM4JyBFUaEqqoiEQ7++uuZxK2LPkKIKgB8pvD4IoQl4UZ8Xj0D9Qkt+3yhB5GhqL/X2HRwaHjmQL5Rwt/XvEgnXt4tESa9EmUsE4D8VWYWihivT3n3+bPcvhw5vTSUT47FYBF8dyf0PAL+cXB6han7rOSQQBCCTc1kJUFI2DdyYaGqo2b3z/c3de37uwfC10btmIN/6wqMsGONfUItenShnP6T2zFhmCbZV9vvJqU6nrk0YJkpLf8TXp3uAJTHgxKaZZbCzqgO7l6zFmweyerDw4vdDg11XstcvQdNyvoKRDnHFdZ2WCyMXJe/PZxBaWIelT7VA7diL7T2jdwbY1ZcFJ463kn3TFW3t3PfJGyYLtSuyDFlSyLnkG5MVddupxLM/BDr3f2mZ1vrxvB57+9MnMVTUsOPK9ekBNGrHHs1Sfhovvb5q2exDQ2btxwUlVS0TIKfhqqgpBPLRWbVnyvXruAhtnNtav3fjWx376tuSD69srUPv2AS23ZLJDYDOZARrqqKrm1Xlo7pEvNkNVuN06n4UlSi5ZXCYhH4ljd8TizA0GqN5iKNjRbO6oDm9Lh1Q9w0WtMUPNiSnL/K6rn7pwANNL1DEEcEDSIcSUObOw2G9EUEjD5t0rRSpJsc1sHIjSKQlLFpaB5VutURQmV8w7M1/DY5tyCTD1m0B3s1Uxajl5+sko1IgSNPqoTWRgleXRpGU0KEiNygS+i7aKOZV3NMWQ9PcCCm456uq72JVYzy0kJ7Hb0uRwpmiuV6k7HoQ9L1uOOjpLyN3XSepJlSbkxwxXL7s0EwEcN9DKcgqh0Xx0r3tz2gVNcnKaSnK2W4+a7t7bMY3FLRCy2D/SHzH9lM0wQLBsIpwREWEJLdcrqY5NJFprYduTUboN4AjKqLb4cfq31//AYhK3N7UkPh810h+f+/gcFthfLDdsfRWOtTEOKv3BKpoH4/GteicebURFrbDZfojQOpbueQtp6KqeV9wpplkmoHLo6iJBnJ0HRyjaT7GFRmZBWnumk6oXDCjwhExw7iWTDZE5liK/XTB9jo5eDVJ4rAl3N9oGj8jP+7NAH8LMAB15XzA44F71QAAAABJRU5ErkJggg=="},7650:function(t,e,i){"use strict";e.a={methods:{mapChunkToMap:function(t,e,i){var n=this;Array.isArray(t)&&this.$service.chunk(t,function(t){"function"==typeof e&&e(t)},function(t){n.mapChunkToMap_addPoints("function"==typeof i&&i())},10)},createMarker:function(t,e){var i=this.$refs.map.mapMethods,n=i.mapAddpoint,s=i.addLabel,a=i.markerClustererAddMarker,o=n({longitude:t.positionBean?t.positionBean.longitude:t.mapLongitude,latitude:t.positionBean?t.positionBean.latitude:t.mapLatitude},e,{width:32,height:32});return o.id=t.id,o.label=s(o,t.text),a(o),o},mapChunkToMap_addPoints:function(t){this.$refs.map&&(0,this.$refs.map.mapMethods.getBestView)(t)}}}},"7c0f":function(t,e,i){"use strict";i.r(e),i("ac6a"),i("456d"),i("96cf");var n,s,a=i("3b8d"),o=(i("7f7f"),i("cebc")),r=i("4af9"),c=i.n(r),l=i("42f6d"),u=i.n(l),p=i("7650"),A=i("2f62"),h=i("059c"),m=i.n(h),d={props:{isShow:{default:function(){return{flag:!1}}},data:{}},data:function(){return{imageUrl:m.a,infoMsg:{}}},methods:{toggle:function(){this.isShow.flag=!this.isShow.flag}},watch:{data:function(t){t?(t.imgUrl?this.imageUrl=this.$COMMON.baseUrl+t.imgUrl:this.imageUrl=m.a,this.infoMsg=t):(this.infoMsg={},this.imageUrl=m.a)}}},f=(i("4875"),i("2877")),M=Object(f.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-badge",{staticClass:"iconreyuanBtn",nativeOn:{click:function(e){return t.toggle(e)}}},[i("cv-icon",{staticClass:"iconn",attrs:{name:"renyuan1",scale:"1.5"}})],1),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow.flag,expression:"isShow.flag"}],staticClass:"personMess"},[i("div",{staticClass:"messTool"},[i("div",{staticClass:"plateCode"},[t._v("\n                        当前人员:"+t._s(t.infoMsg.name||"--")+"\n                    ")]),i("cv-icon",{staticStyle:{float:"right"},attrs:{name:"remove",color:"#fff"},nativeOn:{click:function(e){t.isShow.flag=!1}}})],1),i("cv-scrollbar",{staticClass:"baseInfo"},[i("div",{staticStyle:{"border-bottom":"1px solid #ccc","margin-bottom":"10px",height:"100px"}},[i("el-row",{staticClass:"item",attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[t._v("GPS上报时间:")]),i("el-col",{attrs:{span:17}},[t._v(t._s(t._f("isValue")(t._f("format")(t.infoMsg.gpsTime,"yyyy-MM-dd HH:mm:ss"))))])],1),i("el-row",{staticClass:"item",attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[t._v("方向:")]),i("el-col",{attrs:{span:6}},[t._v(t._s(t._f("isValue")(t.infoMsg.direction)))]),i("el-col",{attrs:{span:6}},[t._v("海拔:")]),i("el-col",{attrs:{span:6}},[t._v(t._s(t._f("isValue")(t.infoMsg.height,"m")))])],1),i("el-row",{staticClass:"item",attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[t._v("地理位置:")]),i("el-col",{attrs:{span:17}},[t._v(t._s(t._f("isValue")(t.infoMsg.locationDescribe)))])],1)],1),i("div",[i("el-row",{staticClass:"item",attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[t._v("所属企业:")]),i("el-col",{attrs:{span:17}},[t._v(t._s(t.infoMsg.enterName))])],1),i("el-row",{staticClass:"item",attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[t._v("性别:")]),i("el-col",{attrs:{span:17}},[t._v(t._s(t.infoMsg.sex))])],1),i("el-row",{staticClass:"item",attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[t._v("年龄:")]),i("el-col",{attrs:{span:17}},[t._v(t._s(t.infoMsg.age))])],1),i("el-row",{staticClass:"item",attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[t._v("手机号:")]),i("el-col",{attrs:{span:17}},[t._v(t._s(t.infoMsg.tel))])],1),i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}})],1)])],1)])],1)},[],!1,null,"11b6d1f4",null).exports,g=i("04f8"),k={mixins:[p.a],components:{CvMaptool:function(){return i.e("chunk-451aee8a").then(i.bind(null,"e7c5"))},personMessage:M,peopleTree:g.a},data:function(){return{markers:{},isLook:!1,isMonitor:!0,personItem:{},isLoadMap:!1,loop:null,personAllData:[],points:[],bestViewFlg:!1,treeActive:!1,isShow:{flag:!1}}},computed:Object(o.a)({},Object(A.c)(["mapName","mapType"])),methods:Object(o.a)({},Object(A.b)(["queryDustmanLocationById"]),{handlerMonitor:function(t){var e=t.name,i=t.data;switch(e){case"check":return this.addVehicleToMap(i);case"cancel":return this.removeVehicleInMap(i)}},toggleTree:function(t){this.treeActive=t||!this.treeActive},handlerClick:function(t){var e=t.type,i=t.checked;3==e&&i&&this.marker_transferCenter(t)},marker_transferCenter:function(t){var e=t.id,i=t.text;this.markers[e]?(this.personItem=this.personAllData[e],this.$refs.map.mapMethods.moveToCenter(this.markers[e].point,17),this.bestViewFlg=!0):this.$message.warning("人员".concat(i,"暂无位置信息"))},bestView:function(){this.bestViewFlg=!1},addVehicleToMap:(s=Object(a.a)(regeneratorRuntime.mark(function t(e){var i,n,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.map(function(t){return t.id?t.id:t}),this.isLoadMap=!0,t.next=4,this.queryDustmanLocationById({mapType:this.mapType,userId:i.join(",")});case 4:n=t.sent,s=n.data,n.flag&&this.mapChunkToPeopleMap(s);case 8:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)}),mapChunkToPeopleMap:function(t){var e=this,i=this;this.setAllData(t),this.mapChunkToMap(t,function(t){var n=t.userId,s=t.longitude,a=t.latitude,o=t.name,r=t.type,c=e.createMarker({id:n,mapLongitude:s,mapLatitude:a,text:o},e.setPersonMapIcon(r));e.markers[c.id]=c,e.points[n]={lng:s,lat:a},e.$refs.map.mapMethods.addEventListener(c,"click",function(){i.personItem=i.personAllData[c.id],e.isShow.flag=!0,e.bestViewFlg=!0})},function(){e.isLoadMap=!1;var t=null,n=Object.keys(e.markers).map(function(e){return t=e,i.markers[e]});return i.personItem=i.personAllData[t],n})},setAllData:function(t){var e=this;t.forEach(function(t){e.personAllData[t.userId]=t})},setPersonMapIcon:function(t){return"4"==t||"5"==t?u.a:c.a},removeVehicleInMap:function(t){var e=this,i=this.$refs.map.mapMethods.markerClustererremoveMarkers,n=t.map(function(t){return t.id?e.markers[t.id]:e.markers[t]});n.forEach(function(t){t&&(delete e.markers[t.id],delete e.personAllData[t.id],delete e.points[t.id])});var s=Object.keys(e.personAllData).map(function(t){return e.personAllData[t]});this.personItem=s[s.length-1],i(n)},closeTimeout:function(){clearTimeout(this.setTime),this.setTime=null},moveMarker:function(t,e){var i=this.$refs.map.mapMethods,n=i.setIcon,s=i.point,a=i.setPointIcon,o=i.setPosition,r=i.setRotation;if(this.$refs.map.mapMethods&&t){var c=n(this.setPersonMapIcon(e.type),32,32),l=s({lng:e.longitude,lat:e.latitude});a(t,c),o(t,l),r(t,e.direction),t.point=l,this.markers[e.userId]=t,this.points[e.userId]={lng:e.longitude,lat:e.latitude}}},loopCar:function(){var t=this;this.isMonitor?this.changePoints(this.markers,function(){t.setTime=setTimeout(function(){t.loopCar()},5e3)}):this.closeTimeout()},changePoints:(n=Object(a.a)(regeneratorRuntime.mark(function t(e,i){var n,s,a,o,r,c=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(s in n=[],e)n.push(s);if(a=n.join(","),this.$service.isContext(a)){t.next=9;break}return t.next=6,this.queryDustmanLocationById({mapType:this.mapType,userId:n.join(",")});case 6:o=t.sent,r=o.data,this.$service.isArray(r)?this.$service.chunk(r,function(t){c.moveMarker(e[t.userId],t),c.personAllData[t.userId]=t},function(){if(c.personItem){var t=c.personItem.userId;c.personItem=c.personAllData[t],"function"==typeof i&&i()}},30):"function"==typeof i&&i();case 9:case"end":return t.stop()}},t,this)})),function(t,e){return n.apply(this,arguments)})}),watch:{isMonitor:function(t){t?this.loopCar():this.closeTimeout()},isLoadMap:function(t){var e=this;if(this.closeTimeout(),!t){if(this.loop)return!1;this.loop=setTimeout(function(){clearTimeout(e.loop),e.loop=null,e.loopCar()},500)}},markers:function(t){0==t.length&&(this.personItem={},this.markers={},this.personAllData=[],this.points=[])},personItem:function(t,e){var i=t&&this.markers[t.userId],n=e&&this.markers[e.userId];e&&n&&t.userId!=e.userId&&(n.label.setStyle({backgroundColor:"#f8f8f8",color:"#666"}),n.setTop(!1)),t&&i&&(i.label.setStyle({backgroundColor:"black",color:"#fff"}),i.setTop(!0))}},beforeDestroy:function(){this.isMonitor=!1}},b=(i("dd2e"),Object(f.a)(k,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"personalmonitor"},[i(t.mapName,{ref:"map",tag:"component",staticClass:"personalmonitor-map"}),i("cv-lazy-render",{attrs:{transition:"top"}},[i("cv-maptool",{staticClass:"multicar-monitor-tool",attrs:{"map-target":t.$refs.map,layout:["tool","search","bestview","fullscreen"],markers:t.markers},on:{"best-view":t.bestView}},[i("span",{staticClass:"maptool-default maptool-monitor",on:{click:function(e){t.isMonitor=!t.isMonitor}}},[i("cv-icon",{attrs:{name:"shexiangtou1",color:t.isMonitor?"#409eff":""}}),i("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.isMonitor?"监控":"未监控"))])],1)])],1),i("cv-lazy-render",{attrs:{transition:"left"}},[i("people-tree",{class:["multicar-monitor-tabs",t.treeActive?"monitor-tabs__active":""],attrs:{"node-monitor":t.handlerMonitor},on:{"node-click":t.handlerClick}})],1),i("cv-lazy-render",{attrs:{transition:"left"}},[i("person-message",{attrs:{data:t.personItem,"is-show":t.isShow}})],1)],1)},[],!1,null,null,null).exports);e.default=b},b70a:function(t,e,i){},dd2e:function(t,e,i){"use strict";var n=i("05d2");i.n(n).a},ff7e:function(t,e,i){"use strict";var n=i("21f9");i.n(n).a}}]);