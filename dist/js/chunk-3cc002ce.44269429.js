(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3cc002ce"],{"059c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUyMDE2RjZDOTFEQTExRTc4MEVBQjAxQjk2NTA5N0FDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUyMDE2RjZEOTFEQTExRTc4MEVBQjAxQjk2NTA5N0FDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTIwMTZGNkE5MURBMTFFNzgwRUFCMDFCOTY1MDk3QUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTIwMTZGNkI5MURBMTFFNzgwRUFCMDFCOTY1MDk3QUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4tbwGjAAAFZklEQVR42sSZX2xTVRzHv/f23ts/21jXdl3btQ1sc5tOkgHd4EEjkGjigzNE2YghkmDixBAgMUZJFB4w4QkeHDhLzAQlAUFjwpxRIyAGIqEbPoAPLLKwsbE/AhO6rWu39vo73d2co7Tntqi/5pu0t79zzqe/c87v/KmgqiqyMJFUR1pDCpAqSaWkPO37cdIAqZvUSTpLCpESultigDrkJe0l9an6rU8r69XTJq+jnXSQFFVzt6hWl/1RATaS/lAfvbE6m3IBlEit6r9vrVpbugAtpHb1v7N2rc0HWIQUs1gifUVqyDTB4vE4+np6MDQwgPD9+zCaTFhUWAinywWn2w1ZUfTM11Okl0jT8x+mAvyY1JyupslIBO0nTuDMtx0YC4dT+hgMBiyuqEBN7TL4y5agoroa9mJnJsgg6Y10gE2k4+lqYJHa++47uHnjhq50JggCXmhswvpNmzK5vkI6Nj/hzpqddCBT6cMHWnTDzebbU18cx+WLFzO5MobiVIAfkBzpSg7fuoVL588jFzt/+nQmFxtpz0JAP+m1TCWvXO5CrtbfyxX9zRrTHOAWkpyp1ODAQM6AU7EYj5usMSUBmTbylIqMj2cNVlXpgctdAqPZzFuEMYmStivx8pQwWyz82x1RgKukEE9Ue7Cs1g9faRFa236BZLLxVsGY6hjgWt4SRfbUc0iWDPB4rPB7bXC7rShlos+KIv3Dr9hmQX7JEj2BX8NqWMHr7fH9HWizSUZgxWIsrfHisXInJWYxY3lfqRWOisf1AAYYYBVXHotH4bHNrEKr6suwrmF5ElKPVZTbYS0OIzE1BlHO5xq6bCW5rSXptDZ55zdEhrtwMdSDVXVlOc1ks3MZTI6lPK53WL8UcEUwMTUTvRzhZtY9A69ngcjrKZmdeFQmWfjrYoBhrsyZ76GKS3KGS9ZjdvC6h9kYvEJvnuTr5mnE/vwdE0OXsoLL960mQB/b2vAWucoieI176FBeN9qqYTDZs+pWucCvB47ZNQaoewdgtFXpBjQWVWUT9E5RO1Tra6ywDKJSwO1vMBZCWbQ4G8CzDJANqH59aUKExVXHn/dc9Xq7FhpTSNSuI47qn41erq422Wsg57mziR5jSszmwYOkmN4aLBQZQTI9PIdJZphLlmcDF9OY5jasLJyfZLEkUM8Z0g4F5pOFtc0Ou/kryS629uH/N8bwXqpDE/tiK/cpjV590T6EaZQkUkQpoYoYUw24Gb2pF3Db/EBxH9wT9Lpw/wI67nbg3L2fcXXiKsbj4/hQDqJSqEJUiOC22Ee/WIY97oECE35NdGHn9FvIM+ShNq8WTy96Cg32BqwsWMkGRyq4QwvbTgXI7itOzr/6+G70e+zo2YHuSPcDNT4jrsXb0k78mPgBX499A1VMYIPl5eTz3dM70Zl4cFmssdRgX9k+PGd9duHVx/qFk1V4yA0rO3x8GVNjz2+/vh3BoUPpEzdFK4pJOKJ+xIUYRpUhemKiJ5Npy73p3oL9ZfuhCEoHfWwkTaTazaQy5vhicPBQMBMcs6gGMibdxbh0b2aDmwGO2UeDrTg8fITdx6xLBZcugnP2+cjRDdS9LaPTo8k9UkCsR0Con/v+ZOI47iQ35YA15qIITiEsZ04GDtlxu6W8ZVuTo/FY2kTGc4k+MjXi2N27e0/b8KebBVVQFCjzQj2RnEDcK5Agx5pdr7ft8u96n0FmzLR6bvl7o73e4GBw65GRzzYOxgZL9eQOr9E7sMn56tFmV/MBes+99gvZ/A1BERND4VDdT/fOrQ2FL624PtlT2R/t90YSkeRRzSyax3xGX3+Fubw7kF/Xtca6+kwgPxCi1KL7b4i/BBgAC+lOdp3HQjwAAAAASUVORK5CYII="},"0a9c":function(e,t,a){"use strict";var o=a("10b5");a.n(o).a},"0d31":function(e,t,a){"use strict";a.r(t),a("7f7f");var o=a("bd86"),n=(a("b0ad"),a("ac6a"),a("20d6"),a("059c")),r=a.n(n),i=a("ed08"),s={props:{options:{}},mixins:[{methods:{checkAge:function(e,t,a){t?i.e.isNumber(t)?a(new Error(this.$t("message.mustNum"))):100<t?a(new Error(this.$t("message.beyondLimit"))):t<18?a(new Error(this.$t("message.isNot18"))):a():a(new Error(this.$t("message.isAge")))},checkComapnyName:function(e,t,a){var o=this;t?200<=t.length||t.length<=2?a(new Error(this.$t("message.CompanyLength"))):i.e.http({url:i.a.baseUrl+"/enterprise/addEnterprise",params:{}}).then(function(e){!e.flag&&e.errorCode?o.$notify.error({message:o.$t("error."+e.errorCode)}):a()}):a(new Error(this.$t("message.isEmpty")))}}}],data:function(){return{label:"",label1:"",imageUrl:r.a,company:"",loadFlag:!1,enterpriseSelectReadonly:!1,filterText:"",companyForm:{text:"",id:"",pid:"",pEnterpriseName:"",pEnterpriseId:"",orgCode:"",account:"",simpleName:"",remark:"",identcode:"",legal:"",enterpriseName:"",enterpriseCode:"",enterZipcode:"",enterTel:"",enterFox:"",areaP:"",areaC:"",areaA:"",address:"",superiorPlatform:"",superiorPlatformId:0,consumerId:"",enterpriseMenus:"",enterpriseType:"",mapType:""},tokens:{Accept:"application/json, text/plain",token:localStorage.getItem("token")},rules:{pid:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"change"}],legal:[{message:this.$t("filter.notEmpty"),trigger:"blur,change"},{min:0,max:15,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:0,max:15})}],account:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,message:this.$t("filter.type4")},{validator:this.isRoleSame,trigger:"blur"}],enterpriseName:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^[a-zA-Z\u4e00-\u9fa5 ]{1,25}$/,message:this.$t("filter.type21")},{validator:this.isSame,trigger:"blur"}],orgCode:[{message:this.$t("filter.notEmpty"),trigger:"blur,change"},{min:8,max:9,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:8,max:9})},{pattern:/^[0-9a-zA-Z]*$/,message:this.$t("filter.type9")}],simpleName:[{pattern:/^[a-zA-Z\u4e00-\u9fa5 ]{1,20}$/,message:this.$t("filter.type5")}],identcode:[{message:this.$t("filter.notEmpty")},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:this.$t("companyManage.tipType1")}],consumerId:[],userName:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{pattern:/^[a-zA-Z\u4e00-\u9fa5 ]{1,20}$/,message:this.$t("filter.type5")}],enterFox:[{min:0,max:30,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:0,max:30}),trigger:"change"}],enterTel:[{min:0,max:30,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:0,max:30}),trigger:"blur,change"}],enterZipcode:[{min:0,max:6,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:0,max:6}),trigger:"blur,change"},{pattern:/^[0-9]/,message:this.$t("filter.type2"),trigger:"blur,change"}]},menuData:[],menuDataD:[],defaultProps:{children:"children",label:"label"},carType:"",carTypeList:[{name:this.$t("companyManage.freight"),id:"1"},{name:this.$t("companyManage.Waste"),id:"2"},{name:this.$t("companyManage.sanitation"),id:"3"},{name:this.$t("companyManage.passenger"),id:"4"},{name:this.$t("companyManage.Bridge"),id:"5"}],mapType:"1",mapTypeList:[{name:this.$t("action.baidu"),id:"1"},{name:this.$t("action.Scott"),id:"3"},{name:this.$t("action.Google"),id:"4"},{name:this.$t("action.tairui"),id:"5"}]}},methods:{del:function(e){e.preventDefault(),e.stopPropagation(),this.options.childDialog.superiorPlatformId="",this.options.childDialog.superiorPlatform="",this.companyForm.superiorPlatform="",this.companyForm.superiorPlatformId="",this.companyForm.consumerId="",this.rules.consumerId=[]},bindPt:function(){this.options.childDialog.title=this.$t("cL.platformMange"),this.options.childDialog.flag=!0,this.options.childDialog.name="sPlatform"},renderContent:function(e,t){var a=this,o=t.node,n=t.data,r=t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[" ",n.text," "])]),e("span",{style:"margin-left:200px"},[e("el-button",{attrs:{type:"text"},class:[1==n.type&&2==n.id||2==n.type?"show":"hide"],on:{click:function(){return a.nodeAddMenu(o,r,n)}}},[this.$t("companyManage.addMenu")]),e("el-button",{attrs:{type:"text"},class:[3==n.type||(o.parent.data.text==this.$t("mM.menuMessage")?1==o.parent.data.type:2==o.parent.data.type)?"hide":"show"],on:{click:function(){return a.nodeAddModule(o,r,n)}}},[this.$t("companyManage.addMenuGroup")]),e("el-button",{attrs:{type:"text"},class:[2!=n.type?"hide":"show"],on:{click:function(){return a.nodeEdit(o,r,n)}}},[this.$t("power.modify")]),e("el-button",{attrs:{type:"text",size:"mini"},class:[1==n.type?"hide":"show"],on:{click:function(){return a.nodeDel(o,n)}}},[this.$t("power.remove")])])])},nodeEdit:function(e,t,a){2==a.type&&(a.isModify=!0,this.moduleActionDialog(this.$t("companyManage.editMenu"),e,t,a))},nodeDel:function(e,t){if(2==t.type||3==t.type){var a=e.parent,o=a.data.children||a.data,n=o.findIndex(function(e){return e.id===t.id});if(this.$refs.tree.remove(t),o.splice(n,1),3==t.type){var r=this.options.childDialog.selectMenuID,i=r.findIndex(function(e){return e.id===t.id});r.splice(i,1)}else this.options.childDialog.selectMenuID=[]}},menuActionState:function(e,t){for(var a=e.children,o=0;o<a.length;o++)if(a[o].type===t)return!1;return!0},nodeAddMenu:function(e,t,a){1==a.type?this.menuActionDialog(this.$t("companyManage.addMenuM"),e,t,a):this.menuActionState(a,2)?this.menuActionDialog(this.$t("companyManage.addMenuM"),e,t,a):this.$message.error({message:this.$t("companyManage.tip4")})},nodeAddModule:function(e,t,a){if(1==a.type)a.isModify=!1,this.moduleActionDialog(this.$t("companyManage.addMenuGroup"),e,t,a);else{var o=this.menuActionState(a,3);1!=a.type&&2!=a.type||!o?this.$message.error({message:this.$t("companyManage.tip4")}):(a.isModify=!1,this.moduleActionDialog(this.$t("companyManage.addMenuGroup"),e,t,a))}},menuActionDialog:function(e,t,a,o){this.options.childDialog.title=e,this.options.childDialog.name="menuAction",this.options.childDialog.flag=!0,this.options.childDialog.action.node=t,this.options.childDialog.action.store=a,this.options.childDialog.action.data=o,this.options.childDialog.action.type=this.getParnetMenuId(t)},moduleActionDialog:function(e,t,a,o){this.options.childDialog.title=e,this.options.childDialog.name="moduleAction",this.options.childDialog.flag=!0,this.options.childDialog.action.node=t,this.options.childDialog.action.store=a,this.options.childDialog.action.data=o,this.options.childDialog.action.type=this.getParnetMenuId(t)},getParnetMenuId:function(e){return 1==e.data.type?e.data.id:2==e.parent.data.type?e.parent.parent.data.id:e.parent.data.id},resetForm:function(){this.options.flag=!1,this.companyForm.text=""},submitForm:function(){var e=this;this.$refs.companyForm.validate(function(t){if(!t)return!1;e.loadFlag=!0;var a=e.getData();0<e.$refs.upload.uploadFiles.length?/\"type\":3/.test(a.enterpriseMenus)?e.$refs.upload.submit():(e.$message.error({message:e.$t("companyManage.tip5")}),e.loadFlag=!1):""==e.companyForm.id?e.companyAction("/enterprise/addEnterpriseNofile"):e.companyAction("/enterprise/updateEnterpriseNoFile")})},handleAvatarSuccess:function(e,t){e.flag?(this.loadFlag=!1,this.options.flag=!1,this.options.isModify||(this.options.addId=e.data),this.$emit("confirm"),this.$message.success({message:this.$t("companyManage.operationSuccess")})):(this.$message.error({message:this.$t("error."+e.errorCode)}),this.loadFlag=!1)},handleChange:function(e,t){this.imageUrl=URL.createObjectURL(e.raw)},getData:function(){var e={id:this.companyForm.id,pId:this.companyForm.pid,enterpriseName:this.companyForm.enterpriseName,legal:this.companyForm.legal,identcode:this.companyForm.identcode,address:this.companyForm.address,enterTel:this.companyForm.enterTel,enterFox:this.companyForm.enterFox,enterZipcode:this.companyForm.enterZipcode,orgCode:this.companyForm.orgCode,remark:this.companyForm.remark,account:this.companyForm.account,simpleName:this.companyForm.simpleName,enterpriseMenus:JSON.stringify(this.menuData),enterpriseType:this.carType,mapType:this.mapType,superiorPlatformId:this.companyForm.superiorPlatformId,consumerId:this.companyForm.consumerId};return this.$service.extend(this.companyForm,e),e},companyAction:function(e){var t=this,a=this.getData();/\"type\":3/.test(a.enterpriseMenus)?this.$http({url:e,data:a}).then(function(e){!e.flag&&e.errorCode?(t.$message.error({message:t.$t("error."+e.errorCode)}),t.loadFlag=!1):(t.loadFlag=!1,t.options.flag=!1,t.options.isModify||(t.options.addId=e.data),t.$emit("confirm"),t.$message.success({message:t.$t("companyManage.operationSuccess")}))}):(this.$message.error({message:this.$t("companyManage.tip5")}),this.loadFlag=!1)},getParentMenu:function(){var e=this;Object(i.b)({url:"/enterprise/getMenuType"}).then(function(t){!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):(e.menuData=JSON.parse(JSON.stringify(t.data)),e.menuDataD=JSON.parse(JSON.stringify(t.data)))})},getEterPriseById:function(e){var t=this,a=this.$loading({text:this.$t("role.type1"),target:document.querySelector(".el-dialog")});this.$store.dispatch("getEnterpriseByID",{id:e}).then(function(e){if(!e.flag&&e.errorCode)t.$message.error({message:t.$t("error."+e.errorCode)});else{t.menuData=JSON.parse(JSON.stringify(e.data.entMenu)),t.menuDataD=JSON.parse(JSON.stringify(e.data.entMenu));var o=e.data.entInfo;for(var n in t.companyForm)"pEnterpriseName"==n?t.companyForm.pEnterpriseName=o.penterprisesName:t.companyForm[n]=o[n];t.companyForm.pid=o.pId,e.data.entInfo.enterpriseLogo?t.imageUrl=e.data.entInfo.enterpriseLogo:t.imageUrl=r.a,t.companyForm.consumerId&&t.rules.consumerId.push({required:!0,message:t.$t("filter.notEmpty"),trigger:"blur,change"}),t.mapType=t.companyForm.mapType+"",t.carType=t.companyForm.enterpriseType+"",a.close()}}).catch(function(e){a.close()})},getSeclectMenuId:function(e){var t=this;Object(i.b)({url:"/rolemenu/findEnterpriseDefaultMenu",params:{enterpriseId:e}}).then(function(e){e.flag&&(e.errorCode||e.data.forEach(function(e){t.options.childDialog.selectMenuID.push(e.id)}))})},isSame:function(e,t,a){var o=this;this.$service.isContext(t)||(t+""!=this.options.cn?this.$store.dispatch("isExistEnterpriseName",{enterpriseName:t}).then(function(e){e.flag?a():a(new Error(o.$t("companyManage.sameName")))}):a())},isRoleSame:function(e,t,a){var o=this;this.$service.isContext(t)||(t+""!=this.options.rn?this.$store.dispatch("checkEntUserIsAt",{account:t}).then(function(e){e.flag?a():a(new Error(o.$t("companyManage.sameRoleName")))}):a())}},watch:{"options.flag":function(e){e||(this.options.name="",this.options.enterpriseId="",this.options.pEnterpriseId="",this.options.pEnterpriseName="",this.$refs.companyForm.resetFields())},"options.childDialog.superiorPlatformId":function(e){e&&(this.companyForm.superiorPlatformId=e,this.rules.consumerId.push({required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}))},"options.childDialog.superiorPlatform":function(e,t){e&&(this.companyForm.superiorPlatform=e)},"companyForm.pid":function(e){this.options.childDialog.menuUseEnterPriseId=e},"options.company":function(e){var t=this;e?(this.$emit("change",!0),this.$store.dispatch("getEntMenuTreeById",{id:e}).then(function(e){t.menuData=JSON.parse(JSON.stringify(e.data.entMenu))}),this.getSeclectMenuId(e)):this.menuData=JSON.parse(JSON.stringify(this.menuDataD))}},mounted:function(){""==this.options.enterpriseId?(this.getParentMenu(),this.enterpriseSelectReadonly=!1,this.companyForm.pid=this.options.nowId,this.companyForm.pEnterpriseName=this.options.nowName):(this.getEterPriseById(this.options.enterpriseId),this.getSeclectMenuId(this.options.enterpriseId),this.companyForm.id=this.options.enterpriseId,this.companyForm.pEnterpriseName=this.options.pname,this.enterpriseSelectReadonly=!0)}},l=(a("3e98"),a("2877")),c=Object(l.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"companyManageAction"},[a("cv-tabs",{attrs:{titles:[e.$t("companyManage.baseInfo"),e.$t("companyManage.menuManage")]}},[a("el-form",{ref:"companyForm",staticClass:"addAndModify",attrs:{model:e.companyForm,rules:e.rules,"label-width":"130px",inline:!0}},[a("el-form-item",{attrs:{label:e.$t("companyManage.parentCompany"),prop:"pid"}},[a("cv-dropdown-tree",{staticStyle:{width:"217px"},attrs:{disabled:e.enterpriseSelectReadonly,label:e.label,data:e.options.childTreeData,text:e.companyForm.pEnterpriseName},on:{"update:label":function(t){e.label=t},"update:text":function(t){return e.$set(e.companyForm,"pEnterpriseName",t)}},model:{value:e.companyForm.pid,callback:function(t){e.$set(e.companyForm,"pid",t)},expression:"companyForm.pid"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.ename"),prop:"enterpriseName"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.enterpriseName,callback:function(t){e.$set(e.companyForm,"enterpriseName",t)},expression:"companyForm.enterpriseName"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.gmaccount"),prop:"account"}},[a("el-input",{attrs:{disabled:e.enterpriseSelectReadonly,placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.account,callback:function(t){e.$set(e.companyForm,"account",t)},expression:"companyForm.account"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.eshortName"),prop:"simpleName"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.simpleName,callback:function(t){e.$set(e.companyForm,"simpleName",t)},expression:"companyForm.simpleName"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.orgCode"),prop:"orgCode"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.orgCode,callback:function(t){e.$set(e.companyForm,"orgCode",t)},expression:"companyForm.orgCode"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.fid"),prop:"identcode"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.identcode,callback:function(t){e.$set(e.companyForm,"identcode",t)},expression:"companyForm.identcode"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.fname"),prop:"legal"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.legal,callback:function(t){e.$set(e.companyForm,"legal",t)},expression:"companyForm.legal"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.efox"),prop:"enterFox"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.enterFox,callback:function(t){e.$set(e.companyForm,"enterFox",t)},expression:"companyForm.enterFox"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.ephone"),prop:"enterTel"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.enterTel,callback:function(t){e.$set(e.companyForm,"enterTel",t)},expression:"companyForm.enterTel"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.email"),prop:"enterZipcode"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.enterZipcode,callback:function(t){e.$set(e.companyForm,"enterZipcode",t)},expression:"companyForm.enterZipcode"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.eaddress"),prop:"address"}},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.address,callback:function(t){e.$set(e.companyForm,"address",t)},expression:"companyForm.address"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.ecarType"),prop:""}},[a("el-select",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.carType,callback:function(t){e.carType=t},expression:"carType"}},e._l(e.carTypeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:e.$t("companyManage.mapType")}},[a("el-select",{attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.mapType,callback:function(t){e.mapType=t},expression:"mapType"}},e._l(e.mapTypeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:e.$t("companyManage.superPlatform")}},[a("el-input",{staticStyle:{width:"217px"},attrs:{readonly:!0,icon:""==e.companyForm.superiorPlatform||null==e.companyForm.superiorPlatform?"":"circle-close","on-icon-click":e.del,placeholder:e.$t("companyManage.ph1")},nativeOn:{click:function(t){return e.bindPt(t)}},model:{value:e.companyForm.superiorPlatform,callback:function(t){e.$set(e.companyForm,"superiorPlatform",t)},expression:"companyForm.superiorPlatform"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.yhm"),prop:"consumerId"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{placeholder:e.$t("companyManage.ph1")},model:{value:e.companyForm.consumerId,callback:function(t){e.$set(e.companyForm,"consumerId",t)},expression:"companyForm.consumerId"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.logo")}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:e.$COMMON.baseUrl+(""==e.companyForm.id?"/enterprise/addEnterprise":"/enterprise/updateEnterprise"),"show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-change":e.handleChange,"auto-upload":!1,headers:e.tokens,data:e.companyForm,accept:".png,.jpg,.jpeg"}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("div",[a("cv-dropdown-tree",{directives:[{name:"show",rawName:"v-show",value:""!=this.companyForm.pid,expression:"this.companyForm.pid !=''"}],staticClass:"dislocation",staticStyle:{width:"240px"},attrs:{placeholder:e.$t("cvtsp.companyCheck"),url:"/enterprise/findEntTreesByEntId",readonly:!1,autoParams:{enterpriseId:e.companyForm.pid},label:e.label1,"is-default":!1},on:{"update:label":function(t){e.label1=t}},model:{value:e.options.company,callback:function(t){e.$set(e.options,"company",t)},expression:"options.company"}}),a("cv-scrollbar",{staticStyle:{height:"300px"}},[a("el-tree",{ref:"tree",staticClass:"mt10",attrs:{data:e.menuData,"node-key":"id","expand-on-click-node":!1,"default-expand-all":!0,"render-content":e.renderContent}})],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"dialog-footer",staticStyle:{"padding-top":"20px"},attrs:{span:24}},[a("el-button",{attrs:{loading:e.loadFlag,type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("companyManage.cf")))]),a("el-button",{on:{click:e.resetForm}},[e._v(e._s(e.$t("companyManage.cc")))])],1)],1)],1)},[],!1,null,null,null).exports,m={props:{options:{}},data:function(){return{moduleForm:{name:"",icon:""},grid:{table:[],loading:!1},tableSelection:[]}},methods:{loadGrid:function(){var e=this;this.grid.loading=!0,this.$store.dispatch("addEnterpriseMenu",{menuType:this.options.action.type,enterpriseId:this.options.menuUseEnterPriseId}).then(function(t){if(!t.flag&&t.errorCode)e.grid.loading=!1;else{var a=e.options.selectMenuID;0<a.length&&a.forEach(function(a){e.spliceData(t.data,a)}),e.grid.table=t.data,e.grid.loading=!1}})},spliceData:function(e,t){return 0!=e.length&&e.map(function(a,o){a.id===t&&e.splice(o,1)}),e},submitForm:function(){var e=this;this.tableSelection.forEach(function(t){e.options.action.data.children.push({id:t.id,text:t.title,icon:"edit",type:t.type,children:[]}),e.options.selectMenuID.push(t.id)}),this.options.flag=!1},resetForm:function(){var e=this;this.tableSelection?this.tableSelection.forEach(function(t){e.$refs.menuTable.toggleRowSelection(t)}):this.$refs.menuTable.clearSelection(),this.tableSelection.length=0,this.options.flag=!1},handleSelectionChange:function(e){this.tableSelection=e}},mounted:function(){this.loadGrid()}},p=Object(l.a)(m,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.grid.loading,expression:"grid.loading"}],ref:"menuTable",attrs:{border:"",stripe:"",height:"300",data:e.grid.table},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{label:e.$t("companyManage.menuName"),prop:"title"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cv-icon",{staticStyle:{"font-size":"18px","margin-top":"5px"},attrs:{name:t.row.icon}}),a("span",[e._v(e._s(t.row.title))])]}}])})],1)],1),a("el-col",{staticClass:"dialog-footer",staticStyle:{"padding-top":"20px"},attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v(e._s(e.$t("action.save")))]),a("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)},[],!1,null,null,null).exports,d={components:{photoGroup:a("c427").a},props:{options:{}},data:function(){return{moduleForm:{name:"",icon:""},rules:{name:[{required:!0,message:this.$t("companyManage.fk"),trigger:"blur,change"},{min:2,max:15,message:this.$t("companyManage.length")}],icon:[{required:!0,message:this.$t("companyManage.fk"),trigger:"blur,change"}]}}},methods:{showIconName:function(e){this.moduleForm.icon=e},submitForm:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return!1;var o=++t.options.num;2==t.options.action.data.type&&t.options.action.data.isModify?(t.options.action.data.text=t.moduleForm.name,t.options.action.data.icon=t.moduleForm.icon,t.options.flag=!1):(t.options.action.data.children.push({id:o,text:t.moduleForm.name,icon:t.moduleForm.icon,type:2,children:[]}),t.options.flag=!1,t.$refs[e].resetFields())})},resetForm:function(e){this.$refs[e].resetFields(),this.options.flag=!1}},watch:{"options.flag":function(e){e||(this.options.name="")}},mounted:function(){1!=this.options.action.data.type&&this.options.action.data.isModify&&(this.moduleForm.name=this.options.action.data.text,this.moduleForm.icon=this.options.action.data.icon)}},u={props:{options:{}},computed:{_table:function(){return this.$refs.table}},data:function(){return{selectRows:[]}},methods:{rclick:function(e){this.options.flag=!1,this.options.superiorPlatformId=e.id,this.options.superiorPlatform=e.superiorPlatform}},watch:{"options.flag":function(e){e||(this.options.name="",this.options.superiorPlatformId="",this.options.superiorPlatform="")}}},g={components:{menuAction:p,moduleAction:Object(l.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("el-col",{attrs:{span:24}},[a("el-popover",{ref:"photo",attrs:{placement:"top",width:"400",trigger:"hover"}},[a("photo-group",{on:{"show-name":e.showIconName}})],1),a("el-form",{ref:"moduleForm",attrs:{model:e.moduleForm,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"name",label:e.$t("companyManage.n")}},[a("el-input",{model:{value:e.moduleForm.name,callback:function(t){e.$set(e.moduleForm,"name",t)},expression:"moduleForm.name"}})],1),a("el-form-item",{attrs:{prop:"icon",label:e.$t("companyManage.icon")}},[a("el-input",{directives:[{name:"popover",rawName:"v-popover:photo",arg:"photo"}],model:{value:e.moduleForm.icon,callback:function(t){e.$set(e.moduleForm,"icon",t)},expression:"moduleForm.icon"}})],1)],1)],1),a("el-col",{staticClass:"dialog-footer",staticStyle:{"padding-top":"20px"},attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("moduleForm")}}},[e._v(e._s(e.$t("action.save")))]),a("el-button",{on:{click:function(t){return e.resetForm("moduleForm")}}},[e._v(e._s(e.$t("action.cancel")))])],1)],1)},[],!1,null,null,null).exports,companyAction:c,sPlatform:Object(l.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{overflow:"auto"}},[a("cv-grid",{ref:"table",attrs:{params:{},url:"/transfer/findProtocolTransferGroupPageInfo"},on:{"row-click":e.rclick}},[a("el-table-column",{attrs:{label:e.$t("companyManage.agreement"),prop:"protocolName"}}),a("el-table-column",{attrs:{label:e.$t("companyManage.platform"),prop:"superiorPlatform"}})],1)],1)},[],!1,null,null,null).exports},data:function(){var e;return{treeLoadFlag:!0,treeId:"",isSelf:!0,treeFlag:!0,companyTree:[],filterText:"",menuData:[],dialog:(e={company:"",flag:!1,title:this.$t("companyManage.eManage"),size:"dialog-large",name:"companyAction",actionType:"",childTreeData:[],pid:"",pname:"",childDialog:{flag:!1,title:"--",size:"dialog-small",name:"moduleAction",selectMenuID:[],menuUseEnterPriseId:"",enterpriseId:"",action:{store:"",node:"",data:"",type:""},num:0,superiorPlatformId:"",superiorPlatform:""},enterpriseId:""},Object(o.a)(e,"pid",""),Object(o.a)(e,"pname",""),e),companyForm:{pid:"",penterprisesName:"",orgCode:"",userName:"",simpleName:"",remark:"",identcode:"",legal:"",enterpriseName:"",id:"",enterpriseCode:"",enterZipcode:"",enterTel:"",enterFox:"",areaP:"",areaC:"",areaA:"",address:"",superiorPlatform:"",consumerId:""},defaultProps:{children:"children",label:"text"}}},methods:{treeLoaded:function(){this.treeLoadFlag=!1},renderContent:function(e,t){t.node;var a=t.data;return t.store,e("span",[e("span",{style:"font-size:14px;"},[" ",a.text," "])," "])},handleCheckChange:function(e){var t=this;this.$store.getters.user.enterpriseId==e.id?this.isSelf=!1:this.isSelf=!0,this.companyForm.id=e.id,this.$store.dispatch("getEnterpriseByID",{id:e.id}).then(function(e){!e.flag&&e.errorCode?t.$message.error({message:t.$t("error."+e.errorCode)}):!e.flag&&e.errorCode?t.$message.error({message:t.$t("error."+e.errorCode)}):e.flag&&e.errorCode?t.$message.error({message:t.$t("error."+e.errorCode)}):(t.menuData=[],t.menuData=e.data.length=e.data.entMenu,e.data.entInfo.mapType=t.$filter.mapType(e.data.entInfo.mapType),null!=e.data.entInfo.enterpriseType&&(e.data.entInfo.enterpriseType=t.$filter.enterpriseType(e.data.entInfo.enterpriseType)),t.$service.extend(t.companyForm,e.data.entInfo))}).catch(function(e){})},companyChange:function(){this.dialog.childDialog.selectMenuID=[]},choseCompany:function(e){var t=this;""!=e&&this.$store.dispatch("getEnterpriseByID",{id:e}).then(function(e){!e.flag&&e.errorCode?t.$message.error({message:t.$t("error."+e.errorCode)}):!e.flag&&e.errorCode?t.$message.error({message:t.$t("error."+e.errorCode)}):e.flag&&e.errorCode?t.$message.error({message:t.$t("error."+e.errorCode)}):(t.menuData=[],t.menuData=e.data.entMenu,t.$service.extend(t.companyForm,e.data.entInfo))}).catch(function(e){})},filterNode:function(e,t){return!e||-1!==t.text.indexOf(e)},addCompany:function(){this.companyForm.id?(this.dialog.flag=!0,this.dialog.name="companyAction",this.dialog.title=this.$t("companyManage.addC"),this.dialog.actionType="add",this.dialog.pname=this.companyForm.penterprisesName,this.dialog.enterpriseId="",this.dialog.pid=this.companyForm.pid,this.dialog.nowName=this.companyForm.enterpriseName,this.dialog.nowId=this.companyForm.id,this.dialog.childDialog.menuUseEnterPriseId=this.companyForm.id,this.dialog.isModify=!1):this.$message.error(this.$t("companyManage.checkCompany"))},modifyCompany:function(e){this.companyForm.id?this.companyForm.id==this.$store.getters.user.id?this.$message.error({message:this.$t("companyManage.tip")}):(this.dialog.flag=!0,this.dialog.title=this.$t("companyManage.editC"),this.dialog.name="companyAction",this.dialog.actionType="modify",this.dialog.enterpriseId=this.companyForm.id,this.dialog.pid=this.companyForm.pid,this.dialog.pname=this.companyForm.penterprisesName,this.dialog.childDialog.enterpriseId=this.companyForm.id,this.dialog.childDialog.menuUseEnterPriseId=this.companyForm.pId,this.dialog.cn=this.companyForm.enterpriseName,this.dialog.rn=this.companyForm.userName,this.dialog.isModify=!0):this.$message.error({message:this.$t("companyManage.tip1")})},removeCompany:function(){var e=this;""==this.companyForm.id?this.$message.error({message:this.$t("companyManage.tip1")}):this.$confirm(this.$t("companyManage.tip2"),this.$t("companyManage.tip3"),{confirmButtonText:this.$t("companyManage.cf"),cancelButtonText:this.$t("companyManage.cc"),type:"warning"}).then(function(){e.$http({url:"/enterprise/deleteEnterprise",params:{id:e.companyForm.id}}).then(function(t){!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):(e.companyForm.id="",e.loadTree(),e.$refs.companyForm.resetFields(),e.menuData=[],e.$message.success({message:e.$t("action.removeSuccess")}))})})},loadTree:function(){var e=this;this.filterText="",null!=this.dialog.addId?(this.treeId=this.dialog.addId,this.$store.dispatch("getEnterpriseByID",{id:this.dialog.addId}).then(function(t){!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):(e.menuData=[],e.menuData=t.data.entMenu,t.data.entInfo.mapType=e.$filter.mapType(t.data.entInfo.mapType),null!=t.data.entInfo.enterpriseType&&(t.data.entInfo.enterpriseType=e.$filter.enterpriseType(t.data.entInfo.enterpriseType)),e.$service.extend(e.companyForm,t.data.entInfo),e.dialog.addId=void 0)}).catch(function(e){})):""!=this.companyForm.id&&(this.treeId=this.companyForm.id,this.$store.dispatch("getEnterpriseByID",{id:this.companyForm.id}).then(function(t){!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):(e.menuData=[],e.menuData=t.data.entMenu,t.data.entInfo.mapType=e.$filter.mapType(t.data.entInfo.mapType),t.data.entInfo.enterpriseType&&(t.data.entInfo.enterpriseType=e.$filter.enterpriseType(t.data.entInfo.enterpriseType)),e.$service.extend(e.companyForm,t.data.entInfo))}).catch(function(e){})),this.$refs.companyForm.resetFields(),this.$http({url:"/enterprise/getEnterpriseTreeList"}).then(function(t){!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):(e.companyTree=t.data,e.dialog.childTreeData=t.data,e.treeFlag=!1)})}},watch:{"dialog.flag":function(e){e||(this.dialog.name="",this.dialog.childDialog.selectMenuID=[])},"dialog.childDialog.flag":function(e){e||(this.dialog.childDialog.name="")},filterText:function(e){this.$refs.companyTree.filterNodes(e)}},mounted:function(){this.loadTree()}},h=(a("0a9c"),Object(l.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"companyManage"},[a("cv-operation",[a("el-form-item",[a("cv-tool",{attrs:{name:e.$route.name,data:e.$store.getters.manageMenus,"is-search":!1,"is-modify":e.isSelf,"is-export":!1,"is-remove":e.isSelf},on:{add:e.addCompany,remove:e.removeCompany,modify:e.modifyCompany}})],1)],1),a("cv-content",[a("div",{attrs:{slot:"aside"},slot:"aside"},[a("el-input",{attrs:{placeholder:e.$t("companyManage.ph")},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("cv-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoadFlag,expression:"treeLoadFlag"}],class:[e.treeLoadFlag?"scrollW1":"scrollW2"]},[a("cv-tree",{ref:"companyTree",staticStyle:{height:"100%"},attrs:{data:e.companyTree,"tree-loaded":e.treeLoaded},on:{"node-click":e.handleCheckChange}})],1)],1),a("cv-tabs",{staticStyle:{height:"90%"},attrs:{titles:[e.$t("companyManage.baseInfo"),e.$t("companyManage.emenu")]}},[a("el-form",{ref:"companyForm",attrs:{model:e.companyForm,"label-width":"125px",inline:!0}},[a("el-form-item",{attrs:{label:e.$t("companyManage.ename"),prop:"enterpriseName"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:""==e.companyForm.enterpriseName,content:e.companyForm.enterpriseName,enterable:!1,placement:"right"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.enterpriseName,callback:function(t){e.$set(e.companyForm,"enterpriseName",t)},expression:"companyForm.enterpriseName"}})],1)],1),a("el-form-item",{attrs:{label:e.$t("companyManage.gmaccount"),prop:"userName"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.userName,callback:function(t){e.$set(e.companyForm,"userName",t)},expression:"companyForm.userName"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.ecode"),prop:"enterpriseCode"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.enterpriseCode,callback:function(t){e.$set(e.companyForm,"enterpriseCode",t)},expression:"companyForm.enterpriseCode"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.eshortName"),prop:"simpleName"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.simpleName,callback:function(t){e.$set(e.companyForm,"simpleName",t)},expression:"companyForm.simpleName"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.orgCode"),prop:"orgCode"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.orgCode,callback:function(t){e.$set(e.companyForm,"orgCode",t)},expression:"companyForm.orgCode"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.fid"),prop:"identcode"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.identcode,callback:function(t){e.$set(e.companyForm,"identcode",t)},expression:"companyForm.identcode"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.fname"),prop:"legal"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.legal,callback:function(t){e.$set(e.companyForm,"legal",t)},expression:"companyForm.legal"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.efox"),prop:"enterFox"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.enterFox,callback:function(t){e.$set(e.companyForm,"enterFox",t)},expression:"companyForm.enterFox"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.ephone"),prop:"enterTel"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.enterTel,callback:function(t){e.$set(e.companyForm,"enterTel",t)},expression:"companyForm.enterTel"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.email"),prop:"enterZipcode"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.enterZipcode,callback:function(t){e.$set(e.companyForm,"enterZipcode",t)},expression:"companyForm.enterZipcode"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.eaddress"),prop:"address"}},[a("el-tooltip",{staticClass:"item",attrs:{disabled:""==e.companyForm.address,effect:"dark",content:e.companyForm.address,enterable:!1,placement:"right"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.address,callback:function(t){e.$set(e.companyForm,"address",t)},expression:"companyForm.address"}})],1)],1),a("el-form-item",{attrs:{label:e.$t("companyManage.ecarType"),prop:"enterpriseType"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.enterpriseType,callback:function(t){e.$set(e.companyForm,"enterpriseType",t)},expression:"companyForm.enterpriseType"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.mapType"),prop:"mapType"}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.mapType,callback:function(t){e.$set(e.companyForm,"mapType",t)},expression:"companyForm.mapType"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.superPlatform")}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.superiorPlatform,callback:function(t){e.$set(e.companyForm,"superiorPlatform",t)},expression:"companyForm.superiorPlatform"}})],1),a("el-form-item",{attrs:{label:e.$t("companyManage.yhm")}},[a("el-input",{attrs:{readonly:""},model:{value:e.companyForm.consumerId,callback:function(t){e.$set(e.companyForm,"consumerId",t)},expression:"companyForm.consumerId"}})],1)],1),a("cv-tree",{ref:"menuData",attrs:{data:e.menuData}})],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.dialog.flag,title:e.dialog.title,"custom-class":e.dialog.size},on:{"update:visible":function(t){return e.$set(e.dialog,"flag",t)}}},[a(e.dialog.name,{tag:"component",attrs:{options:e.dialog},on:{confirm:e.loadTree,change:e.companyChange}})],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.dialog.childDialog.flag,title:e.dialog.childDialog.title,"custom-class":e.dialog.childDialog.size},on:{"update:visible":function(t){return e.$set(e.dialog.childDialog,"flag",t)}}},[a(e.dialog.childDialog.name,{tag:"component",attrs:{options:e.dialog.childDialog},on:{confirm:e.loadTree}})],1)],1)},[],!1,null,null,null).exports);h.install=function(e){e.component(h.name,h)},t.default=h},"10b5":function(e,t,a){},"3e98":function(e,t,a){"use strict";var o=a("9c43");a.n(o).a},"419f":function(e,t,a){"use strict";var o=a("6d69");a.n(o).a},"6d69":function(e,t,a){},"9c43":function(e,t,a){},b0ad:function(e,t,a){"use strict";(function(e){a("7f7f"),t.a={methods:{confirmPrompt:function(e,t){var a=this,o=e||this.$t("action.confirmIsRemove");return new Promise(function(e,n){a.$confirm(o,a.$t("action.tip"),{confirmButtonText:a.$t("action.confirm"),cancelButtonText:a.$t("action.cancel"),type:"warning"}).then(function(){e()}).catch(function(){"function"==typeof t&&t()})})},timeLimitFunc:function(e,t,a){if(e&&t)return((new Date(t)-new Date(e))/864e5).toFixed(1)<=a||this.$message.error({message:this.$t("请选择时间范围在"+a+"天内")});this.$message.error({message:this.$t("请选择时间范围")})},addRemoveUnique:function(e,t,a){var o=e.length,n=t.length;return n<o?{name:"add",data:this.$service.isUnique(e,t,a)}:o<n?{name:"remove",data:this.$service.isUnique(t,e,a)}:o==n?{name:"equal",data:this.$service.isUnique(e,t,a)}:void 0},showTooltip:function(e,t){var a=e.target,o=this.$refs[t];o.referenceElm=a,o.$refs.popper.style.display="none",o.doDestroy(),o.setExpectedState(!0),o.handleShowPopper()},mouseenterShowTip:function(e,t,a){var o=e.target;if(o.scrollWidth>o.offsetWidth||a)return this.showTooltip(e,t),a?a.startTime+"~"+a.endTime:o.innerText},mouseenterShowToolTip:function(e,t,a){var o=e.target;return this.showTooltip(e,t),!a&&o.innerText},mouseoverHideTip:function(e){var t=this.$refs[e];t&&(t.setExpectedState(!1),t.handleClosePopper())},asyncDownloadScript:function(t,a){var o=this,n=0<arguments.length&&void 0!==t?t:"Baidu",r=1<arguments.length?a:void 0;return e[n]?e[n]._preloader?e[n]._preloader:Promise.resolve(e[n]):(e[n]={},e[n]._preloader=new Promise(function(t,a){var i=document.createElement("script");i.src=r,e.document.body.appendChild(i),o.$service.isIe()&&o.$service.IE_VERSION<11?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(t(e[n]),e[n]._preloader=null)}:i.onload=function(){t(e[n]),e[n]._preloader=null}}),e[n]._preloader)}}}}).call(this,a("c8ba"))},c427:function(e,t,a){"use strict";var o=["icon1","fullscreen","fullscreen-exit","monitor1","jikediancanicon44","msnui-alarm-triangle","xitong","guijihuifang","order","baojing","baobiao","alarm","guiji","yuyan","vehicle-group","cheliangguanli","wenben","guiji1","200","baobiao1","yuyan1-copy","baojing1","52d72adc69438zhuanhuan","renyuan","baobiao2","yunwei","langnoround","yunweiguanli","baobiao3","anquan1","yuyan1","yuyan2","xitong1","unif010","renyuanjiankong","cheliang","organization","gjcx","aguiji","vehicle","icon","jigou2","zuzhi","yunwei1","xitong2","duobianxing","jiankong","people","baobiao4","xitong3","baobiao5","monitor","yunwei2","baobiao6","yuanxing","zuzhi1","chart","hangcheguiji","ef--shijian","line","xitong4","cheliang1","baobiao7","dunpai","circle","polygon","Refresh","xitong5","PDF--","xitong6","shijian","yuyan3","clgj","pdf","jiankong-","home","renyuanjiankong1","list","xitong7","yunweiguanli1","ccgl-baobiao-4","dunpai1","yuyan4","icon-test","guiji2","huodongguiji","baobiao8","wenben2","baobiao9","yuyan5","jiankong1","shijianzhuizong","xitong8","dunpai2","rectangle","draw-polyline","xitong9","yuyan6","yunweitiaoshi","zuzhi2","baobiao10","company","tubiao-","icon-test1","fence","zhexian","shijian1","gengxinguiji","big-car","map-marker","shouye","cheliangjiankong","fenxitongji","xitongguanli","hangshijilu","anquan","qita","rizhiguanli","weilan","gengduo"],n=a("ed08"),r={data:function(){return{photo:o}},mounted:function(){var e=this;n.c.on(this.$refs.photoGroup,"click",function(t){for(var a=window.event||t,o=a.target||a.srcElement;o;)if("string"==typeof o.className){if("photo-item"===o.className){var r=n.c.attr(o,"name");return e.$emit("show-name",r),n.c.hide(e.$parent.$refs.popper)}o=o.parentNode}else o=o.parentNode})}},i=(a("419f"),a("2877")),s=Object(i.a)(r,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cv-photo-group"},[t("cv-scrollbar",{staticClass:"slider-area",attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t("li",{ref:"photoGroup"},this._l(this.photo,function(e){return t("div",{key:e,staticClass:"photo-item",attrs:{name:e}},[t("cv-icon",{attrs:{name:e,size:"24"}})],1)}),0)])],1)},[],!1,null,null,null);t.a=s.exports}}]);