(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-641372b1"],{"056e":function(e,t,a){"use strict";a.r(t),a("c5f6"),a("ac6a");var n=a("cebc"),s=a("2f62"),i={props:{options:{}},computed:Object(n.a)({},Object(s.c)(["mapName"]),{_table:function(){return this.$refs.table},_mapMethods:function(){return this.$refs.map.mapMethods}}),data:function(){return{height:500,fence:{ruleName:"",ruleType:"",type:101},items:[{value:null,label:this.$t("action.all")},{value:"1",label:this.$t("common.fence.circle")},{value:"2",label:this.$t("common.fence.rectangle")},{value:"3",label:this.$t("common.fence.polygon")},{value:"4",label:this.$t("common.fence.line")}],overlay:null,infoWindow:null}},methods:{rowRender:function(e){switch(e.ruleType){case 1:return this.$t("common.fence.circle");case 2:return this.$t("common.fence.rectangle");case 3:return this.$t("common.fence.polygon");case 4:return this.$t("common.fence.line")}},searchClickLoadGrid:function(){this._table.tableInitial()},selectFence:function(e){var t=this;this.overlay&&this._mapMethods.removeOverlay(this.overlay),this.infoWindow&&this._mapMethods.closeInfoWindow(this.infoWindow);var a={id:e.row.id,mapType:this.$store.getters.mapType,type:e.row.type};this.$store.dispatch("queryGetFenceRule",a).then(function(e){if(e.flag){var a="",n={},s=t,i=function(e){s.infoWindow=e};switch(e.data.ruleType){case 1:var o=e.data.requestPoint[0],r={lat:o.latitude,lng:o.longitude},l=e.data.radius;t.overlay=t._mapMethods.mapAddcircle(r,l),a=t.tContent(e.data),n=t._mapMethods.point(r),t._mapMethods.overlayClickOpenInfoWindow(t.overlay,n,a,i,{}),t._mapMethods.openInfoWindow(a,t.overlay,n);break;case 2:var c=[],p=[],d=[],m={};0<e.data.requestPoint.length&&(e.data.requestPoint.forEach(function(e){p.push(Number(e.latitude)),d.push(Number(e.longitude)),c.push({lat:e.latitude,lng:e.longitude})}),m.minLng=Math.min.apply(Math,d),m.minLat=Math.min.apply(Math,p),m.maxLng=Math.max.apply(Math,d),m.maxLat=Math.max.apply(Math,p),t.overlay=t._mapMethods.mapAddrectangle(m,{}),a=t.tContent(e.data),n=t._mapMethods.point(c[0]),t._mapMethods.getBestView(c),t._mapMethods.overlayClickOpenInfoWindow(t.overlay,t.overlay.getBounds().getCenter(),a,i,{}),t._mapMethods.openInfoWindow(a,t.overlay,t.overlay.getBounds().getCenter()));break;case 3:var f=[];0<e.data.requestPoint.length&&(e.data.requestPoint.forEach(function(e){f.push({lat:e.latitude,lng:e.longitude})}),t.overlay=t._mapMethods.mapAddpolygon(f,{}),a=t.tContent(e.data),n=t._mapMethods.point(f[0]),t._mapMethods.getBestView(f),t._mapMethods.overlayClickOpenInfoWindow(t.overlay,t.overlay.getBounds().getCenter(),a,i,{}),t._mapMethods.openInfoWindow(a,t.overlay,t.overlay.getBounds().getCenter()));break;case 4:if(0<e.data.requestPoint.length){var u=[];e.data.requestPoint.forEach(function(e){u.push({lat:e.latitude,lng:e.longitude})}),t.overlay=t._mapMethods.mapAddline(u,{}),a=t.tContent(e.data),n=t._mapMethods.point(u[0]),t._mapMethods.getBestView(u),t._mapMethods.overlayClickOpenInfoWindow(t.overlay,n,a,i,{}),t._mapMethods.openInfoWindow(a,t.overlay,n)}}}})},tContent:function(e){var t='<div style="padding-top:5px;padding-bottom:5px;">';if(t+="<div style='font-size:16px;'><span>"+this.$t("fenceManage.ruleName")+"：</span><span>".concat(e.ruleName,"</span></div>"),e.area&&(t+="<div style='font-size:16px;'><span>"+this.$t("fenceManage.area")+"：</span><span>".concat(this.filterArea(e.area),"</span></div>")),t+="<div style='font-size:16px;'><span>"+this.$t("fenceManage.areaType")+"：",0<e.areaNameAndType.length)for(var a=e.areaNameAndType,n=0;n<a.length;n++)switch(e.areaNameAndType[n].areaType){case 2:t+="<div style='text-indent:20px;font-size:14px;'><span>".concat(a[n].areaName," :</span></div>"),t+="<div style='text-indent:40px;font-size:12px;'><span>"+this.$t("fenceManage.aseconds")+"：</span><span>".concat(a[n].aseconds," (s)</span></div>"),t+="<div style='text-indent:40px;font-size:12px;'><span>"+this.$t("fenceManage.aspeed")+"：</span><span>".concat(a[n].aspeed," (km/h)</span></div>");break;case 1:t+="<div style='text-indent:20px;font-size:14px;'><span>".concat(a[n].areaName," :</span></div>"),t+="<div style='text-indent:40px;font-size:12px;'><span>"+this.$t("fenceManage.sTime")+"：</span><span>".concat(a[n].startTime,"</span></br><span style='margin-left:40px'>")+this.$t("fenceManage.eTime")+"：</span><span>".concat(a[n].endTime,"</span></span></div>");break;default:t+="<div style='text-indent:20px;font-size:14px;'><span>".concat(a[n].areaName,"</div>")}return t+"</div>"},addFence:function(){this.options.name="fenceAction",this.options.id="",this.options.isModify=!1,this.options.type=101},updateFence:function(e){this.options.name="fenceAction",this.options.id=e.row.id,this.options.isModify=!0,this.options.type=e.row.type},removeFence:function(e){var t=this;this.$confirm(this.$t("action.confirmIsRemove"),this.$t("action.tip"),{confirmButtonText:this.$t("action.confirm"),cancelButtonText:this.$t("action.cancel"),type:"warning"}).then(function(){t.$http({url:"/fenece/deletefencerule",params:{id:e.row.id,type:e.row.type}}).then(function(e){e.flag?(t.$message.success({message:t.$t("action.actionSuccess")}),t._table.tableInitial(),t.overlay&&t._mapMethods.removeOverlay(t.overlay),t._mapMethods.clearOverlays()):t.$message.error({message:t.$t("error."+e.errorCode)})})}).catch(function(){t.$message.info({message:t.$t("action.cancelRemove")})})},filterArea:function(e){switch(e){case 1:return"装货区";case 2:return"禁区";case 3:return"倾倒区"}}},mounted:function(){}},o=(a("0c1d"),a("2877")),r=Object(o.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("cv-operation",{attrs:{position:"left"}},[a("el-form-item",{attrs:{label:e.$t("fenceManage.ruleName"),prop:"ruleName"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{size:"small",placeholder:e.$t("placeholder.inputValue")},model:{value:e.fence.ruleName,callback:function(t){e.$set(e.fence,"ruleName",t)},expression:"fence.ruleName"}})],1),a("el-form-item",{attrs:{label:e.$t("fenceManage.ruleType"),prop:"ruleType"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:e.$t("placeholder.selectValue")},model:{value:e.fence.ruleType,callback:function(t){e.$set(e.fence,"ruleType",t)},expression:"fence.ruleType"}},e._l(e.items,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("cv-tool",{attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-modify":!1,"is-remove":!1,"is-export":!1},on:{add:e.addFence,search:e.searchClickLoadGrid}})],1)],1),a("cv-content",[a("cv-grid",{ref:"table",staticClass:"left",attrs:{params:e.fence,url:"/fenece/queryfencerulepage"}},[a("el-table-column",{attrs:{label:e.$t("fenceManage.ruleName"),prop:"ruleName"}}),a("el-table-column",{attrs:{label:e.$t("fenceManage.ruleType"),prop:"ruleType",formatter:e.rowRender}}),a("el-table-column",{attrs:{label:e.$t("fenceManage.remark"),prop:"remarksss"}}),a("el-table-column",{attrs:{label:e.$t("fenceManage.options")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cv-span",{staticStyle:{float:"left","padding-right":"10px"},attrs:{type:"info"},nativeOn:{click:function(a){return e.selectFence(t)}}},[e._v(e._s(e.$t("power.look")))]),a("cv-table-tool",{staticStyle:{float:"left"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu},on:{modify:function(a){return e.updateFence(t)},remove:function(a){return e.removeFence(t)}}})]}}])})],1),a("div",{staticClass:"right"},[a("el-row",{staticStyle:{height:"100%"}},[a(e.mapName,{ref:"map",tag:"component",staticStyle:{width:"100%",height:"100%",overflow:"hidden",margin:"0"},attrs:{id:"fenceMain"}})],1)],1)],1)],1)},[],!1,null,"60208cf3",null).exports,l=(a("6b54"),a("20d6"),{props:{options:{}},data:function(){var e=this;return{subStatus:!1,selectDisabled:!0,radius:0,disBtn:!1,fenceForm:{id:"",fenceName:"",fenceType:[],ruleType:"",remarksss:"",date:[],time:[],speed:"0",speedTime:"0",limitSpeed:"",dateType:0},rules:{fenceName:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{min:2,max:15,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:2,max:15})},{pattern:/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,message:this.$t("filter.type4")}],remarks:[{min:0,max:150,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:0,max:150})}],date:[{type:"array",required:!1,message:this.$t("el.datepicker.selectDate"),trigger:"change"},{validator:function(t,a,n){-1<e.fenceForm.fenceType.findIndex(function(e){return"1"==e})&&0==e.fenceForm.dateType?0==a.length?n(new Error("请选择日期")):null==a[0]||null==a[1]?n(new Error("请选择日期")):n():n()},trigger:"blur,change"}],time:[{type:"array",required:!1,message:this.$t("el.datepicker.selectTime"),trigger:"change"},{validator:function(t,a,n){-1<e.fenceForm.fenceType.findIndex(function(e){return"1"==e})&&1==e.fenceForm.dateType?0==a.length?n(new Error("请选择时间")):null==a[0]||null==a[1]?n(new Error("请选择时间")):n():n()},trigger:"blur,change"}],speed:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{validator:function(e,t,a){0<=t&&t-100<=0?a():a(new Error("限速范围0(km/h)-100(km/h)"))},trigger:"blur,change"},{pattern:/^[0-9]*$/,message:this.$t("filter.type2")}],speedTime:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{validator:function(e,t,a){0<=t&&t-100<=0?a():a(new Error("限速时长范围0(s)-100(s)"))},trigger:"blur,change"},{pattern:/^[0-9]*$/,message:this.$t("filter.type2")}],fenceType:[{type:"array",required:!0,message:"请选择围栏属性",trigger:"change"}]},areaTypeItems:[],items:[{value:"1",label:this.$t("common.fence.1"),disabled:!0},{value:"2",label:this.$t("common.fence.2"),disabled:!0},{value:"4",label:this.$t("common.fence.4"),disabled:!0},{value:"8",label:this.$t("common.fence.8"),disabled:!0},{value:"16",label:this.$t("common.fence.16"),disabled:!0},{value:"32",label:this.$t("common.fence.32"),disabled:!0},{value:"256",label:this.$t("common.fence.256"),disabled:!0},{value:"16384",label:this.$t("common.fence.16384"),disabled:!0},{value:"32768",label:this.$t("common.fence.32768"),disabled:!0}],isShow:!0,overlay:null}},computed:Object(n.a)({},Object(s.c)(["mapName"]),{_mapMethods:function(){return this.$refs.map.mapMethods},isShowDateTime:function(){return-1<this.fenceForm.fenceType.findIndex(function(e){return"1"==e})?(this.options.isModify&&0==this.fenceForm.time.length&&(this.fenceForm.time=[new Date(2016,9,10,0,0),new Date(2016,9,10,23,59)]),!0):(this.rules.date[0].required=!1,this.rules.time[0].required=!1)},isShowDateInput:function(){return-1<this.fenceForm.fenceType.findIndex(function(e){return"1"==e})&&0==this.fenceForm.dateType?this.rules.date[0].required=!0:(this.rules.date[0].required=!1,!(this.fenceForm.date=[]))},isShowTimeInput:function(){return-1<this.fenceForm.fenceType.findIndex(function(e){return"1"==e})&&1==this.fenceForm.dateType?(this.rules.time[0].required=!0,this.options.isModify||(this.fenceForm.time=[new Date(2016,9,10,0,0),new Date(2016,9,10,23,59)]),!0):this.rules.time[0].required=!1},isShowLimitSpeed:function(){return-1<this.fenceForm.fenceType.findIndex(function(e){return"2"==e})}}),methods:{readyLoad:function(){""!=this.options.id?(this.getFenceToUpdate(this.options.id,this.options.type),this.fenceForm.id=this.options.id,this.disBtn=!0):this.disBtn=!1},typeChange:function(e){var t=e.length-1;"512"==e[t]||"1024"==e[t]||e[t]},comeBack:function(){this.options.name="fenceMain",this.options.id="",this.$refs.fenceForm.resetFields()},Addcircle:function(){var e=this;this.isShow=!1,this.clearOverlay(),this.fenceForm.ruleType=1,this._mapMethods.onclickCircle(function(t){e.overlay=t.overlay,e.isShow=!0})},Addrectangle:function(){var e=this;this.isShow=!1,this.clearOverlay(),this.fenceForm.ruleType=2,this._mapMethods.onclickRectangle(function(t){e.overlay=t.overlay,e.isShow=!0})},Addpolygon:function(){var e=this;this.isShow=!1,this.clearOverlay(),this.fenceForm.ruleType=3,this._mapMethods.onclickPolygon(function(t){e.overlay=t.overlay,e.isShow=!0})},Addline:function(){var e=this;this.clearOverlay(),this.isShow=!1,this.fenceForm.ruleType=4,this._mapMethods.onclickLine(function(t){e.overlay=t.overlay,e.isShow=!0})},clearOverlay:function(){this.clearMap()},clearMap:function(){this.overlay&&(this._mapMethods.removeOverlay(this.overlay),this.overlay=null,this.fenceForm.ruleType="")},submitFence:function(){var e=this;this.$refs.fenceForm.validate(function(t){if(!t)return!1;if(e.overlay){var a=e.getParmas();if(1==e.fenceForm.ruleType&&0==e.radius)return e.$message.error({message:"圆形半径不能为0"}),!1;""!=e.fenceForm.id?e.fenceAction("/fenece/updatefencerule",a):e.fenceAction("/fenece/insertfencerule",a)}else e.$message.error({message:e.$t("action.addOverlay")})})},fenceAction:function(e,t){var a=this;this.subStatus=!0,this.$http({url:e,data:JSON.stringify(t)}).then(function(e){!e.flag&&e.errorCode?a.$message.error({message:a.$t("error."+e.errorCode)}):(a.$refs.fenceForm.resetFields(),a.options.id="",a.options.name="fenceMain",a.$message.success({message:a.$t("action.actionSuccess")})),a.subStatus=!1}).catch(function(){a.subStatus=!1})},getParmas:function(){var e=this,t=[],a=[],n={};switch(this.fenceForm.fenceType.forEach(function(a){switch(a){case"1":0==e.fenceForm.dateType?t.push({areaType:a,startTime:e.fenceForm.date[0],endTime:e.fenceForm.date[1],dataType:e.fenceForm.dateType}):t.push({areaType:a,startTime:e.fenceForm.time[0],endTime:e.fenceForm.time[1],dataType:e.fenceForm.dateType});break;case"2":t.push({areaType:a,aseconds:e.fenceForm.speedTime+"",aspeed:e.fenceForm.speed+""});break;default:t.push({areaType:a})}}),this.fenceForm.ruleType){case 1:n=this._mapMethods.getCircleOptions(this.overlay),a.push({latitude:n.center.lat,longitude:n.center.lng}),this.radius=parseInt(n.radius);break;case 2:n=this._mapMethods.getPolygonOptions(this.overlay);var s=[],i=[],o={},r={};n.points.forEach(function(e){s.push(e.lng),i.push(e.lat)}),o.longitude=Math.max.apply(Math,s),o.latitude=Math.max.apply(Math,i),r.longitude=Math.min.apply(Math,s),r.latitude=Math.min.apply(Math,i),a.push(o,r);break;case 3:(n=this._mapMethods.getPolygonOptions(this.overlay)).points.forEach(function(e){a.push({latitude:e.lat,longitude:e.lng})});break;case 4:(n=this._mapMethods.getLineOptions(this.overlay)).points.forEach(function(e){a.push({latitude:e.lat,longitude:e.lng})})}return{id:this.fenceForm.id,mapType:this.$store.getters.mapType,ruleName:this.fenceForm.fenceName,ruleType:this.fenceForm.ruleType,fenceType:1,requestPoint:a,radius:this.radius,remarksss:this.fenceForm.remarksss,areaNameAndType:t,type:this.options.type}},getFenceToUpdate:function(e,t){var a=this,n={id:e,mapType:this.$store.getters.mapType,type:t},s=this.$loading({text:"正在拼命加载中",target:document.querySelector(".el-card")});this.$store.dispatch("queryGetFenceRule",n).then(function(e){switch(a.fenceForm.ruleType=e.data.ruleType,e.data.areaNameAndType.forEach(function(e){e.aspeed&&(a.fenceForm.speed=e.aspeed+""),e.aseconds&&(a.fenceForm.speedTime=e.aseconds+"")}),e.data.ruleType){case 1:var t=e.data.requestPoint[0],n={lat:t.latitude,lng:t.longitude};a.radius=e.data.radius;var i=a._mapMethods.point(n);a.overlay=a._mapMethods.mapAddcircle(i,a.radius);break;case 2:var o=[],r=[],l=[],c={};0<e.data.requestPoint.length&&(e.data.requestPoint.forEach(function(e){r.push(Number(e.latitude)),l.push(Number(e.longitude)),o.push({latitude:e.latitude,longitude:e.longitude})}),c.minLng=Math.min.apply(Math,l),c.minLat=Math.min.apply(Math,r),c.maxLng=Math.max.apply(Math,l),c.maxLat=Math.max.apply(Math,r),a.overlay=a._mapMethods.mapAddrectangle(c,{}));break;case 3:var p=[];e.data.requestPoint.forEach(function(e){p.push({lat:e.latitude,lng:e.longitude})}),a.overlay=a._mapMethods.mapAddpolygon(p,{});break;case 4:var d=[];e.data.requestPoint.forEach(function(e){d.push({lat:e.latitude,lng:e.longitude})}),a.overlay=a._mapMethods.mapAddline(d,{})}a._mapMethods.overlayEdit(a.overlay,!0),a.areaTypeSetVal(e.data),s.close()})},areaTypeSetVal:function(e){var t=this;this.fenceForm.fenceName=e.ruleName,this.fenceForm.remarksss=e.remarksss,e.areaNameAndType.forEach(function(e){switch(t.fenceForm.fenceType.push(e.areaType.toString()),e.areaType){case 1:t.fenceForm.dateType=parseInt(e.dataType),0==t.fenceForm.dateType?t.fenceForm.date=[e.startTime,e.endTime]:t.fenceForm.time=[e.startTime,e.endTime];break;case 2:t.fenceForm.speedTime=e.aseconds+"",t.fenceForm.speed=e.aspeed+"",t.isSpeed=!0}})},getIndexSplice:function(e){for(var t=this,a=function(a){var n=t.fenceForm.fenceType.findIndex(function(t){return t==e[a]});-1<n&&t.fenceForm.fenceType.splice(n,1)},n=0;n<e.length;n++)a(n)},removeRuleType:function(e){"1"==e.value&&(this.fenceForm.time=[new Date(2016,9,10,0,0),new Date(2016,9,10,23,59)],this.fenceForm.date=[],this.fenceForm.dateType=0,this.rules.date[0].required=!1,this.rules.time[0].required=!1)},tContent:function(e){var t='<div style="padding-top:5px;padding-bottom:5px;">';if(t+="<div style='font-size:16px;'><span>"+this.$t("fenceManage.ruleName")+"：</span><span>".concat(e.ruleName,"</span></div>"),e.area&&(t+="<div style='font-size:16px;'><span>"+this.$t("fenceManage.area")+"：</span><span>".concat(this.filterArea(e.area),"</span></div>")),t+="<div style='font-size:16px;'><span>"+this.$t("fenceManage.areaType")+"：",0<e.areaNameAndType.length)for(var a=e.areaNameAndType,n=0;n<a.length;n++)switch(e.areaNameAndType[n].areaType){case 2:t+="<div style='text-indent:20px;font-size:14px;'><span>".concat(a[n].areaName," :</span></div>"),t+="<div style='text-indent:40px;font-size:12px;'><span>"+this.$t("fenceManage.aseconds")+"：</span><span>".concat(a[n].aseconds," (s)</span></div>"),t+="<div style='text-indent:40px;font-size:12px;'><span>"+this.$t("fenceManage.aspeed")+"：</span><span>".concat(a[n].aspeed," (km/h)</span></div>");break;case 1:t+="<div style='text-indent:20px;font-size:14px;'><span>".concat(a[n].areaName," :</span></div>"),t+="<div style='text-indent:40px;font-size:12px;'><span>"+this.$t("fenceManage.sTime")+"：</span><span>".concat(a[n].startTime,"</span></br><span style='margin-left:40px'>")+this.$t("fenceManage.eTime")+"：</span><span>".concat(a[n].endTime,"</span></span></div>");break;default:t+="<div style='text-indent:20px;font-size:14px;'><span>".concat(a[n].areaName,"</div>")}return t+"</div>"}},watch:{overlay:function(e){e?this.selectDisabled=!1:(this.selectDisabled=!0,this.fenceForm.fenceType=[])},"fenceForm.ruleType":function(e){var t=[];if(4==e){var a=["1","4","8","16","32"];this.items.forEach(function(e){e.disabled=-1==a.indexOf(e.value),t.push(e)})}else{var n=this.$store.getters.user.enterpriseType;if(n)if(-1==n.indexOf("2")){var s=["1","2","4","8","16","32","256","16384","32768"];this.items.forEach(function(e){e.disabled=-1==s.indexOf(e.value),t.push(e)})}else this.items.forEach(function(e){e.disabled=!1,t.push(e)});else this.items.forEach(function(e){e.disabled=!1,t.push(e)})}this.areaTypeItems=t}}}),c=(a("7cc1"),{components:{fenceMain:r,fenceAction:Object(o.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a(e.mapName,{ref:"map",tag:"component",staticStyle:{width:"100%",height:"100%",overflow:"hidden",margin:"0"},attrs:{id:"fenceAction",mapLoaded:e.readyLoad}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"formAction"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"line-height":"1","font-size":"18px"}},[e._v(e._s(e.$t("fenceManage.fenceManage")))]),a("el-button-group",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.subStatus},on:{click:e.submitFence}},[e._v(e._s(e.$t("action.save")))]),a("el-button",{attrs:{size:"small"},on:{click:e.comeBack}},[e._v(e._s(e.$t("action.back")))])],1)],1),a("cv-scrollbar",{staticClass:"formClass"},[a("el-form",{ref:"fenceForm",attrs:{model:e.fenceForm,rules:e.rules,inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:e.$t("fenceManage.ruleType")}},[a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.fence.circle"),placement:"top-start"}},[a("el-button",{style:e.options.isModify&&1==e.fenceForm.ruleType?"background-color:#20a0ff;color:#fff":1==e.fenceForm.ruleType?"background-color:#20a0ff;color:#fff":"",attrs:{disabled:e.disBtn,icon:"el-icon-tsp-yuanxing"},on:{click:e.Addcircle}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.fence.rectangle"),placement:"top-start"}},[a("el-button",{style:e.options.isModify&&2==e.fenceForm.ruleType?"background-color:#20a0ff;color:#fff":2==e.fenceForm.ruleType?"background-color:#20a0ff;color:#fff":"",attrs:{disabled:e.disBtn,icon:"el-icon-tsp-rectangle"},on:{click:e.Addrectangle}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.fence.polygon"),placement:"top-start"}},[a("el-button",{style:e.options.isModify&&3==e.fenceForm.ruleType?"background-color:#20a0ff;color:#fff":3==e.fenceForm.ruleType?"background-color:#20a0ff;color:#fff":"",attrs:{disabled:e.disBtn,icon:"el-icon-tsp-duobianxing"},on:{click:e.Addpolygon}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("common.fence.line"),placement:"top-start"}},[a("el-button",{style:e.options.isModify&&4==e.fenceForm.ruleType?"background-color:#20a0ff;color:#fff":4==e.fenceForm.ruleType?"background-color:#20a0ff;color:#fff":"",attrs:{disabled:e.disBtn,icon:"el-icon-tsp-draw-polyline"},on:{click:e.Addline}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("action.reset"),placement:"top-start"}},[a("el-button",{attrs:{disabled:e.disBtn,icon:"el-icon-delete"},on:{click:e.clearOverlay}})],1)],1)],1),a("el-form-item",{attrs:{label:e.$t("fenceManage.ruleName"),prop:"fenceName"}},[a("el-input",{staticClass:"inputStype",staticStyle:{width:"335px"},attrs:{size:"small",placeholder:e.$t("placeholder.inputValue")},model:{value:e.fenceForm.fenceName,callback:function(t){e.$set(e.fenceForm,"fenceName",t)},expression:"fenceForm.fenceName"}})],1),a("el-form-item",{attrs:{label:e.$t("fenceManage.areaType"),prop:"fenceType"}},[a("el-select",{staticStyle:{width:"335px"},attrs:{"collapse-tags":"",disabled:e.selectDisabled,multiple:"",size:"small",placeholder:e.$t("placeholder.selectValue")},on:{change:e.typeChange,"remove-tag":e.removeRuleType},model:{value:e.fenceForm.fenceType,callback:function(t){e.$set(e.fenceForm,"fenceType",t)},expression:"fenceForm.fenceType"}},e._l(e.areaTypeItems,function(e){return a("el-option",{key:e.value,attrs:{disabled:e.disabled,label:e.label,value:e.value}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowDateTime,expression:"isShowDateTime"}],attrs:{label:e.$t("fenceManage.dateTimeTYpe"),prop:"dateType"}},[a("el-radio-group",{model:{value:e.fenceForm.dateType,callback:function(t){e.$set(e.fenceForm,"dateType",t)},expression:"fenceForm.dateType"}},[a("el-radio",{attrs:{label:0,size:"small"}},[e._v(e._s(e.$t("fenceManage.selectDate")))]),a("el-radio",{attrs:{label:1,size:"small"}},[e._v(e._s(e.$t("fenceManage.selectTime")))])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowDateInput,expression:"isShowDateInput"}],attrs:{label:e.$t("fenceManage.date"),prop:"date"}},[a("el-date-picker",{staticStyle:{width:"335px"},attrs:{size:"small",align:"right",type:"datetimerange",clearable:!1,editable:!1,"value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:e.fenceForm.date,callback:function(t){e.$set(e.fenceForm,"date",t)},expression:"fenceForm.date"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowTimeInput,expression:"isShowTimeInput"}],attrs:{label:e.$t("fenceManage.time"),prop:"time"}},[a("el-time-picker",{staticStyle:{width:"335px"},attrs:{"is-range":"","value-format":"HH:mm:ss","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",editable:!1,clearable:!1,placeholder:e.$t("el.datepicker.selectTime")},model:{value:e.fenceForm.time,callback:function(t){e.$set(e.fenceForm,"time",t)},expression:"fenceForm.time"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowLimitSpeed,expression:"isShowLimitSpeed"}],attrs:{label:e.$t("fenceManage.aspeed"),prop:"speed"}},[a("el-input",{attrs:{maxlength:3,type:"text",size:"small"},model:{value:e.fenceForm.speed,callback:function(t){e.$set(e.fenceForm,"speed",t)},expression:"fenceForm.speed"}}),a("span",{staticStyle:{position:"absolute"}},[e._v(" (km/h)")])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowLimitSpeed,expression:"isShowLimitSpeed"}],attrs:{label:e.$t("fenceManage.aseconds"),prop:"speedTime"}},[a("el-input",{attrs:{maxlength:3,type:"text",size:"small"},model:{value:e.fenceForm.speedTime,callback:function(t){e.$set(e.fenceForm,"speedTime",t)},expression:"fenceForm.speedTime"}}),a("span",{staticStyle:{position:"absolute"}},[e._v(" (s)")])],1),a("el-form-item",{attrs:{label:e.$t("fenceManage.remark"),prop:"remarks"}},[a("el-input",{staticClass:"inputStype",staticStyle:{width:"335px"},attrs:{type:"textarea",rows:3,size:"small",placeholder:e.$t("placeholder.inputValue")},model:{value:e.fenceForm.remarksss,callback:function(t){e.$set(e.fenceForm,"remarksss",t)},expression:"fenceForm.remarksss"}})],1)],1)],1)],1)],1)],1)},[],!1,null,"d52b2c8c",null).exports},data:function(){return{options:{name:"fenceMain",power:[],id:""}}}}),p=Object(o.a)(c,function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.options.name,{tag:"component",attrs:{options:e.options}})},[],!1,null,null,null).exports;t.default=p},"0c1d":function(e,t,a){"use strict";var n=a("6c78");a.n(n).a},"6c78":function(e,t,a){},"7cc1":function(e,t,a){"use strict";var n=a("f108");a.n(n).a},f108:function(e,t,a){}}]);