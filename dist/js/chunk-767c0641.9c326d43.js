(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-767c0641"],{"6b98":function(e,t,a){"use strict";var r={props:{options:{}},data:function(){return{loadFlag:!1,manufacturerList:[],formData:{id:"",manufacturerId:"",model:"",manufacturerNumber:"",remark:""},rules:{manufacturerId:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"}],model:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{min:0,max:15,message:this.$t("deviceManage.rule2")}]}}},mixins:[],methods:{resetForm:function(){this.$refs.formItem.resetFields()},changeNum:function(e){this.formData.manufacturerNumber=e.manufacturerNumber},save:function(){var e=this;this.$refs.formItem.validate(function(t){if(!t)return!1;var a={manufacturerId:e.formData.manufacturerId,model:e.formData.model,remark:e.formData.remark};e.options.isModify?(a.id=e.options.rowInfo.id,e.loadFlag=!0,e.$store.dispatch("updateTerminalModel",a).then(function(t){t.flag?(e.$message.success(e.$t("action.updateSuccess")),e.loadFlag=!1,e.options.flag=!1,e.$emit("update:search",!0)):(e.$message.error(e.$t("error."+t.errorCode)),e.loadFlag=!1)}).catch(function(t){e.loadFlag=!1})):(e.loadFlag=!0,e.$store.dispatch("insertTerminalModel",a).then(function(t){t.flag?(e.$message.success(e.$t("action.addSuccess")),e.loadFlag=!1,e.options.flag=!1,e.options.insterMode=!0,e.$emit("update:search",!0)):(e.$message.error(e.$t("error."+t.errorCode)),e.loadFlag=!1,e.options.insterMode=!1)}).catch(function(t){e.loadFlag=!1}))})},getList:function(){var e=this;this.$store.dispatch("findTerminalManufacturerList").then(function(t){t.flag&&(e.manufacturerList=t.data)})}},watch:{"options.flag":function(e){e||(this.options.name="")}},mounted:function(){this.getList(),this.options.isModify&&(this.options.rowInfo.id,this.formData.manufacturerId=this.options.rowInfo.manufacturerId+"",this.formData.model=this.options.rowInfo.model+"",this.formData.manufacturerNumber=this.options.rowInfo.manufacturerNumber+"",this.formData.remark=this.options.rowInfo.remark)}},i=(a("7bca"),a("2877")),n=Object(i.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"deviceType"},[a("el-row",{},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"formItem",attrs:{model:e.formData,"label-position":"right","label-width":"200px",inline:!0,rules:e.rules}},[a("el-form-item",{attrs:{label:e.$t("action.terminalCode"),prop:"manufacturerId"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.placeholder")},model:{value:e.formData.manufacturerId,callback:function(t){e.$set(e.formData,"manufacturerId",t)},expression:"formData.manufacturerId"}},e._l(e.manufacturerList,function(e){return a("el-option",{key:e.id+"",attrs:{label:e.manufacturerNumber?e.name+"/"+e.manufacturerNumber:e.name,value:e.id+""}})}),1)],1),a("el-form-item",{attrs:{label:e.$t("action.deviceType"),prop:"model"}},[a("el-input",{attrs:{maxlength:15,placeholder:e.$t("companyManage.ph1")},model:{value:e.formData.model,callback:function(t){e.$set(e.formData,"model","string"==typeof t?t.trim():t)},expression:"formData.model"}})],1),a("el-form-item",{attrs:{label:e.$t("terminalProM.remark"),prop:"remark"}},[a("el-input",{attrs:{maxlength:50,placeholder:e.$t("companyManage.ph1")},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark","string"==typeof t?t.trim():t)},expression:"formData.remark"}})],1)],1)],1),a("el-col",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{span:24}},[a("el-button",{attrs:{loading:e.loadFlag,type:"primary"},on:{click:e.save}},[e._v(e._s(e.$t("action.save")))]),a("el-button",{on:{click:e.resetForm}},[e._v(e._s(e.$t("action.reset")))])],1)],1)],1)},[],!1,null,null,null);t.a=n.exports},"7bca":function(e,t,a){"use strict";var r=a("eaa1");a.n(r).a},8369:function(e,t,a){"use strict";var r=a("cebc");t.a={data:function(){return{table:{size:10,total:0,current:1,flag:!1,loading:!1,data:[]}}},methods:{tableLoading:function(e,t,a,i){var n=this;a?(this.table.flag=!0,this.table.current=1):this.table.flag=!1,this.table.loading=!0;var o=Object(r.a)({current:this.table.current,size:this.table.size},t);this.$http(i?{url:e,data:o}:{url:e,params:o}).then(function(e){var t=e.data;e.flag&&0!=t.length?(n.table.data=t.records,n.table.total=t.total,n.table.current=t.current):(n.table.data=[],n.table.total=0),n.table.loading=!1}).catch(function(e){n.table.loading=!1})},tableFilterColor:function(e){return this.$filter.plateCodeColor(e.plateColor)},tableFilterIcType:function(e){return this.$filter.icType(e.state)},tableFilterIcResult:function(e){return this.$filter.icResult(e.readerresult)},tableFilterTiredAlarm:function(e){return this.$filter.tiredAlarmType(e.alarm)},tableFilterTiredAdas:function(e){return this.$filter.tiredAdasType(e.alarm)},tableFilterOrderTypeS:function(e){return this.$filter.orderTypeS(e.sendFlag)},tableFilterFormat:function(e){return this.$filter.format(e.orderTime||e.gpsTime)},tableFilterFormats:function(e){return this.$filter.format(e.backTime)},tableBusLineType:function(e){return this.$filter.lineType(e.lineType)},tableFilterAcc:function(e){return this.$filter.accStatus(e.accStatus)},tableSplitMobile:function(e){return e.mobileCode?e.mobileCode.slice(1,e.mobileCode.length):""},tableConfirm:function(e){return this.$filter.isConfirm(e.isnotarize)},tableUpkeep:function(e){return this.$filter.isConfirm(e.type)},tableRenewal:function(e){return this.$filter.renewal(e.state)},tableReMot:function(e){return this.$filter.reMot(e.state)},tableOil:function(e){return this.$filter.fixNumber(e.total,2)},tableSex:function(e){return this.$filter.sex(e.sex)},plateCodeF:function(e){return e.plateCode?e.plateCode:"--"},plateCodeAndColor:function(e){return e.plateCode+"("+this.$filter.plateCodeColor(e.plateColor)+")"},driverStuas:function(e){return this.$filter.alarmStatus(e.fatigueDrive)},overStuas:function(e){return this.$filter.alarmStatus(e.tOversSpeed)},overHStuas:function(e){return this.$filter.alarmStatus(e.tOverSpeedH)},filterAlStuas:function(e){return this.$filter.alarmStatus(e.overSpeed)},filteralarmStuas:function(e){return this.$filter.alarmStatus(e.overSpeedH)},filterLStuas:function(e){return this.$filter.alarmStatus(e.forbid)},applyFlag:function(e){return this.$filter.applyFlag(e.applyFlag)},SEtime:function(e){return this.$filter.SEtime(e.StartTime,e.EndTime)},channelType:function(e){return this.$filter.channelType(e.Channel)},FileSize:function(e){return this.$filter.FileSize(e.fileSize||e.FileSize||0)},AlarmFilter:function(e){return this.$filter.AlarmFilter(e.Alarm)},MediaTypeFilter:function(e){return this.$filter.MediaTypeFilter(e.MediaType)},StreamTypeFilter:function(e){return this.$filter.StreamTypeFilter(e.StreamType)},StorageTypeFilter:function(e){return this.$filter.StorageTypeFilter(e.StorageType)},statusType:function(e){return this.$filter.statusType(e.Status)},fileSource:function(e){return this.$filter.fileSource(e.fileSource)}}}},b0ad:function(e,t,a){"use strict";(function(e){a("7f7f"),t.a={methods:{confirmPrompt:function(e,t){var a=this,r=e||this.$t("action.confirmIsRemove");return new Promise(function(e,i){a.$confirm(r,a.$t("action.tip"),{confirmButtonText:a.$t("action.confirm"),cancelButtonText:a.$t("action.cancel"),type:"warning"}).then(function(){e()}).catch(function(){"function"==typeof t&&t()})})},timeLimitFunc:function(e,t,a){if(e&&t)return((new Date(t)-new Date(e))/864e5).toFixed(1)<=a||this.$message.error({message:this.$t("请选择时间范围在"+a+"天内")});this.$message.error({message:this.$t("请选择时间范围")})},addRemoveUnique:function(e,t,a){var r=e.length,i=t.length;return i<r?{name:"add",data:this.$service.isUnique(e,t,a)}:r<i?{name:"remove",data:this.$service.isUnique(t,e,a)}:r==i?{name:"equal",data:this.$service.isUnique(e,t,a)}:void 0},showTooltip:function(e,t){var a=e.target,r=this.$refs[t];r.referenceElm=a,r.$refs.popper.style.display="none",r.doDestroy(),r.setExpectedState(!0),r.handleShowPopper()},mouseenterShowTip:function(e,t,a){var r=e.target;if(r.scrollWidth>r.offsetWidth||a)return this.showTooltip(e,t),a?a.startTime+"~"+a.endTime:r.innerText},mouseenterShowToolTip:function(e,t,a){var r=e.target;return this.showTooltip(e,t),!a&&r.innerText},mouseoverHideTip:function(e){var t=this.$refs[e];t&&(t.setExpectedState(!1),t.handleClosePopper())},asyncDownloadScript:function(t,a){var r=this,i=0<arguments.length&&void 0!==t?t:"Baidu",n=1<arguments.length?a:void 0;return e[i]?e[i]._preloader?e[i]._preloader:Promise.resolve(e[i]):(e[i]={},e[i]._preloader=new Promise(function(t,a){var o=document.createElement("script");o.src=n,e.document.body.appendChild(o),r.$service.isIe()&&r.$service.IE_VERSION<11?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(t(e[i]),e[i]._preloader=null)}:o.onload=function(){t(e[i]),e[i]._preloader=null}}),e[i]._preloader)}}}}).call(this,a("c8ba"))},b4b5:function(e,t,a){"use strict";var r=a("b566");a.n(r).a},b566:function(e,t,a){},c5fa:function(e,t,a){"use strict";a.r(t),a("8369");var r=a("b0ad"),i=a("6b98"),n={props:{searchParams:{}},methods:{cancelDialog:function(){this.$emit("update:visible",!1)},confirm:function(){this.$emit("update:search",!0),this.$emit("update:visible",!1)}}},o=(a("b4b5"),a("2877")),l=Object(o.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-position":"right","label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:e.$t("cvtsp.manufacturerName")}},[a("el-input",{attrs:{clearable:""},model:{value:e.searchParams.manufacturerName,callback:function(t){e.$set(e.searchParams,"manufacturerName","string"==typeof t?t.trim():t)},expression:"searchParams.manufacturerName"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:e.$t("cvtsp.deviceType")}},[a("el-input",{attrs:{clearable:""},model:{value:e.searchParams.model,callback:function(t){e.$set(e.searchParams,"model","string"==typeof t?t.trim():t)},expression:"searchParams.model"}})],1)],1)],1),a("el-row",{staticStyle:{"text-align":"center"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v(e._s(this.$t("cvtsp.confirm")))]),a("el-button",{on:{click:e.cancelDialog}},[e._v(e._s(this.$t("cvtsp.cancle")))])],1)],1)],1)},[],!1,null,"ed6e9944",null).exports,s={components:{addOrEdit:i.a,search:l},computed:{_table:function(){return this.$refs.deviceTypeMTable}},mixins:[r.a],data:function(){return{grid:{model:"",manufacturerName:""},dialog:{flag:!1,name:"addOrEdit",size:"dialog-small",title:"--",isModify:!1,rowInfo:[]},searchFlag:!1}},methods:{add:function(e){this.dialog.title=e.title,this.dialog.size="dialog-small",this.dialog.name="addOrEdit",this.dialog.flag=!0,this.dialog.isModify=!1},modify:function(e){this.dialog.title=this.$t("power.modify"),this.dialog.size="dialog-small",this.dialog.name="addOrEdit",this.dialog.flag=!0,this.dialog.isModify=!0,this.dialog.rowInfo=e.row},remove:function(e){var t=this;this.confirmPrompt().then(function(){t.grid.loading=!0;var a={id:e.row.id};t.$store.dispatch("deleteTerminalModelById",a).then(function(e){e.flag?(t.$message.success(t.$t("action.removeSuccess")),t.searchFlag=!0):(t.$message.error(t.$t("error."+e.errorCode)),t.grid.loading=!1)})})},searchTable:function(){this._table.tableInitial()}},watch:{searchFlag:function(e){e&&(this._table.tableInitial(),this.searchFlag=!1)}}},c=Object(o.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"deviceType"},[a("cv-operation",[a("el-form-item",[a("el-input",{attrs:{placeholder:e.$t("deviceManage.manufacturerSearch"),clearable:""},model:{value:e.grid.manufacturerName,callback:function(t){e.$set(e.grid,"manufacturerName","string"==typeof t?t.trim():t)},expression:"grid.manufacturerName"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:e.$t("deviceManage.deviceTypeSearch"),clearable:""},model:{value:e.grid.model,callback:function(t){e.$set(e.grid,"model","string"==typeof t?t.trim():t)},expression:"grid.model"}})],1),a("el-form-item",[a("cv-tool",{staticClass:"cv-tool",attrs:{name:e.$route.name,data:e.$store.getters.manageMenus,"is-export":!1,"is-remove":!1,"is-modify":!1},on:{search:e.searchTable,add:e.add}})],1)],1),a("cv-content",[a("cv-grid",{ref:"deviceTypeMTable",attrs:{params:e.grid,url:"/terminalModel/findTerminalModelPage"}},[a("el-table-column",{attrs:{label:e.$t("deviceManage.manufacturerName"),prop:"manufacturerName"}}),a("el-table-column",{attrs:{label:e.$t("deviceManage.deviceType"),prop:"model"}}),a("el-table-column",{attrs:{label:e.$t("terminalProM.remark"),prop:"remark"}}),a("el-table-column",{attrs:{label:e.$t("action.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cv-table-tool",{attrs:{name:e.$route.name,data:e.$store.getters.manageMenus},on:{remove:function(a){return e.remove(t)},modify:function(a){return e.modify(t)}}})]}}])})],1)],1),a("el-dialog",{attrs:{visible:e.dialog.flag,title:e.dialog.title,"custom-class":e.dialog.size},on:{"update:visible":function(t){return e.$set(e.dialog,"flag",t)}}},[a(e.dialog.name,{tag:"component",attrs:{visible:e.dialog.flag,options:e.dialog,searchParams:e.grid,search:e.searchFlag},on:{"update:visible":function(t){return e.$set(e.dialog,"flag",t)},confirm:e.listShow,"update:searchParams":function(t){e.grid=t},"update:search-params":function(t){e.grid=t},"update:search":function(t){e.searchFlag=t}}})],1)],1)},[],!1,null,null,null).exports;t.default=c},eaa1:function(e,t,a){}}]);