(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c6453934"],{"0d45":function(e,t,n){"use strict";var i=n("9add"),r=n("3b6f"),a=n("cd33"),o={mixins:[i.a,a.a,r.a],data:function(){return{energeList:"/monitor/getVehicleListByPlate?onlineStatus",energe:null,treeReady:!0,popover:{alias:"",id:""},listCH:[]}},computed:{_popoverMethods:function(){return this.$refs.popover},_listsMethods:function(){return this.$refs.lists}},methods:{chClick:function(e){var t={text:e,pId:this.listCH.id,plateCode:this.listCH.plateCode,enterpriseId:this.listCH.enterpriseId};this.$store.dispatch("ptSinglePass",t),this.handlerCollectionDestory(),this.$emit("confirm",e)},treeOperation:function(e){var t="",n=this,i=e.type,r=e.isAttention;return 4==i&&(t=1==r?'<i id="tree-collection" class="cv-icon-font el-icon-tsp-shoucang" style="color:#f3aa4e"></i>':'<i id="tree-collection" class="cv-icon-font el-icon-tsp-shoucang1"></i>'),{template:t,methods:function(){var t=document.getElementById("tree-collection");t&&(t.onclick=function(t){n.handlerCollection(t,e)})}}},handlerCollectionDestory:function(){this.mixins_hidePopover(this._popoverMethods)},attentionEditHandler:function(e,t){e.stopPropagation(),this.listCH=t,this.mixins_showPopover(this._popoverMethods,e.target)}},mounted:function(){var e=this;this.$http({url:"/monitor/findVehicleTreeInfoList",params:{flag:!1,carCategory:1}}).then(function(t){t.flag&&(e.energe=t.data,e.treeReady=!1)})}},c=n("2877"),l=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cv-tabs-vehiclelists"},[n("cv-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.treeReady,expression:"treeReady"}],staticClass:"cv-tabs-tree",attrs:{titles:["车辆选择","车辆列表"],isScrollbar:"",type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("cv-tree-search",{ref:"tree",attrs:{data:e.energe,"icons-filter":e.treeIconsFilter,"node-filter":e.nodeFilter,operation:e.isOperation&&e.treeOperation,"limit-check":e.handlerLimitCheck}}),n("cv-tree-lists",{ref:"lists",attrs:{"is-check":!1,"search-api":e.energeList,autoParams:{carCategory:1}},on:{"node-click":e.handlerListsClick},scopedSlots:e._u([{key:"label",fn:function(t){return[n("cv-icon",{attrs:{name:"2"==t.row.deviceTypeCode?"shipinyuan":"cheliang1",color:"1"==t.row.onlineStatus?"#1bca22":""}}),n("span",[e._v(e._s(t.row.plateCode||t.row.text))])]}},{key:"operation",fn:function(t){return[0<t.row.channelInfos.length?n("cv-icon",{attrs:{name:"shijian1"},on:{click:function(n){return e.attentionEditHandler(n,t.row)}}}):e._e()]}}])},[n("template",{slot:"checkbox"},[n("el-checkbox",{attrs:{label:"1"}},[e._v("在线")]),n("el-checkbox",{attrs:{label:"0"}},[e._v("离线")])],1)],2)],1),n("el-popover",{ref:"popover",attrs:{placement:"bottom",width:"160"}},[n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handlerCollectionDestory,expression:"handlerCollectionDestory"}]},e._l(e.listCH.channelInfos,function(t){return n("li",{key:t.id,staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(n){return e.chClick(t.channelName)}}},[e._v(e._s(t.channelName))])}),0)])],1)},[],!1,null,null,null);t.a=l.exports},2443:function(e,t,n){"use strict";var i=n("50e6");n.n(i).a},"50e6":function(e,t,n){},cc5e:function(e,t,n){"use strict";n.r(t);var i=n("0d45"),r={props:{vehicle:{id:""}},data:function(){return{arrays:[{icon:"pdf",name:"终端关机",direct:!0,url:"/sendEvOrder/vehicleControl",command:"终端关机",type:"2"},{icon:"pdf",name:"终端复位",direct:!0,url:"/sendEvOrder/vehicleControl",command:"终端复位",type:"3"},{icon:"pdf",name:"报警/预警",template:"energeAlarm",size:"dialog-tiny"},{icon:"pdf",name:"断开数据通信链路",direct:!0,url:"/sendEvOrder/vehicleControl",command:"断开数据通信链路",type:"5"},{icon:"pdf",name:"恢复出厂设置",direct:!0,url:"/sendEvOrder/vehicleControl",command:"恢复出厂设置",type:"4"},{icon:"pdf",name:"开启抽样检测链路",direct:!0,url:"/sendEvOrder/vehicleControl",command:"开启抽样检测链路",type:"7"}]}},methods:{}},a=n("2877"),o=Object(a.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.arrays,function(t){return n("li",{directives:[{name:"instruction",rawName:"v-instruction",value:{title:t.name,id:e.vehicle.id,size:t.size,enterpriseId:e.vehicle.enterpriseId,router:t.routerUrl,energe:1,name:t.template,direct:t.direct,url:t.url,params:{vehicleId:e.vehicle.id,cmdid:t.type}},expression:"{\n\t\ttitle: arr.name,\n\t\tid: vehicle.id,\t\n\t\tsize: arr.size,\n\t\tenterpriseId: vehicle.enterpriseId,\n\t\trouter:arr.routerUrl,\n\t\tenerge:1,\n\t\tname: arr.template, \n\t\tdirect:arr.direct, \n\t\turl: arr.url, \n\t\tparams:{vehicleId:vehicle.id,cmdid:arr.type}}"}],key:t.name,staticClass:"instruction-item"},[n("cv-icon",{staticClass:"cv-instruction-icon",attrs:{name:t.icon,size:"24"}}),n("span",{staticClass:"cv-instruction-span"},[e._v(e._s(t.name))])],1)}),0)},[],!1,null,null,null).exports,c={components:{energeTree:i.a,collectionCreat:o},data:function(){return{treeLoading:!1,energeTree:null,vehicle:{id:""},activeName:["1","2","3","4","5"]}},methods:{handler:function(e){this.vehicle.id=e.data[0].id}},mounted:function(){}},l=(n("2443"),Object(a.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cv-instruction-group"},[n("cv-operation",{attrs:{position:"left"}},[n("el-form-item",[n("cv-span",[e._v(e._s(e.vehicle.plateCode||"--"))])],1)],1),n("cv-content",[n("energe-tree",{staticClass:"vehiclemaster-tree",attrs:{slot:"aside","node-monitor":e.handler},slot:"aside"}),n("el-collapse",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-collapse-item",{attrs:{title:"新能源车辆控制",name:"1"}},[n("collection-creat",{attrs:{vehicle:e.vehicle}})],1)],1)],1)],1)},[],!1,null,null,null).exports);t.default=l}}]);