(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0dab22"],{"6d64":function(t,e,a){"use strict";a.r(e),a("7f7f"),a("386d");var s={computed:{_table:function(){return this.$refs.logTable}},data:function(){return{alarmList:[],alarmStr:[],pickerOptions0:{disabledDate:function(t){return t.getTime()>Date.now()}},time:[this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd start")),this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss"))],search:{plateCode:"",status:"",alarmTypeId:"",handlePeople:"",startTime:/NAN/gi.test(this.$filter.format(this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd start"))))?this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd start")):this.$filter.format(this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd start")),"yyyy-MM-dd HH:mm:ss"),endTime:/NAN/gi.test(this.$filter.format(this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss"))))?this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")):this.$filter.format(this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss")),"yyyy-MM-dd HH:mm:ss")},status:[{val:"0",name:"未处理"},{val:"1",name:"处理完毕"},{val:"2",name:"不做处理"},{val:"3",name:"将来处理"}],loading:!1}},mounted:function(){this.alarmLoad()},watch:{alarmStr:function(t){this.search.alarmTypeId=t?t.join(","):""}},methods:{alarmLoad:function(){var t=this;this.$store.dispatch("frinAlarmTypeInfoList").then(function(e){t.alarmList=e.data.children})},load:function(){return this.search.startTime=this.$filter.format(new Date(this.time[0]),"yyyy-MM-dd HH:mm:ss"),this.search.endTime=this.$filter.format(new Date(this.time[1]),"yyyy-MM-dd HH:mm:ss"),this.time?1<this.$filter.timeRange(this.search.startTime,this.search.endTime)?(this.$message.warning("查询范围不能超过一天!"),!1):void this._table.tableInitial():(this.$message.warning("请选择时间!"),!1)},down:function(){if(this.search.startTime=this.$filter.format(new Date(this.time[0]),"yyyy-MM-dd HH:mm:ss"),this.search.endTime=this.$filter.format(new Date(this.time[1]),"yyyy-MM-dd HH:mm:ss"),!this.time)return this.$message.warning("请选择时间!"),!1;if(1<this.$filter.timeRange(this.search.endTime,this.search.startTime))return this.$message.warning("查询范围不能超过一天!"),!1;var t=this.$service.winParams(this.$COMMON.baseUrl+"/alarmInfo/exportAlarmHandleCount",this.search);window.location.href=t},plateCodeAndColor:function(t){return this.$filter.plateCodeColor(t.carPlateColor)},statusFun:function(t){return this.$filter.alarmTp(parseInt(t.status))}}},i=a("2877"),r=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"behavior"},[a("cv-operation",{attrs:{position:"left"}},[a("el-form-item",{attrs:{label:t.$t("systemLog.systemLog")}},[a("cv-dropdown-tree",{staticStyle:{display:"inline-block"},attrs:{isCheck:!0,data:t.alarmList},model:{value:t.alarmStr,callback:function(e){t.alarmStr=e},expression:"alarmStr"}})],1),a("el-form-item",{attrs:{label:t.$t("cL.carNumber"),prop:"plateCode"}},[a("el-input",{attrs:{size:"small",maxlength:10},model:{value:t.search.plateCode,callback:function(e){t.$set(t.search,"plateCode","string"==typeof e?e.trim():e)},expression:"search.plateCode"}})],1),a("el-form-item",{attrs:{label:t.$t("reportForm.overSpeed.selectTime")}},[a("el-date-picker",{staticClass:"picker",attrs:{"picker-options":t.pickerOptions0,size:"small",clearable:!1,editable:!1,type:"datetimerange",placeholder:t.$t("el.datepicker.Choicetimerange"),prop:"time"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("el-form-item",{attrs:{label:t.$t("processing.processPeople")}},[a("el-input",{attrs:{size:"small",maxlength:10},model:{value:t.search.handlePeople,callback:function(e){t.$set(t.search,"handlePeople","string"==typeof e?e.trim():e)},expression:"search.handlePeople"}})],1),a("el-form-item",{attrs:{label:t.$t("processing.ProcessingSate")}},[a("el-select",{attrs:{placeholder:t.$t("placeholder.selectValue"),size:"small",clearable:""},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},t._l(t.status,function(t){return a("el-option",{key:t.val,attrs:{label:t.name,value:t.val}})}),1)],1),a("el-form-item",{staticStyle:{float:"right"}},[a("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:t.$route.name,data:t.$store.getters.monitorMenu,"is-modify":!1,"is-remove":!1,"is-add":!1},on:{export:t.down,search:t.load}})],1)],1),a("cv-content",[a("cv-grid",{ref:"logTable",attrs:{url:"/alarmInfo/alarmHandleCount",params:t.search}},[a("el-table-column",{attrs:{label:t.$t("processing.alramNumber"),"min-width":"150",prop:"plateCode"}}),a("el-table-column",{attrs:{label:t.$t("processing.color"),"min-width":"100",prop:"carPlateColor"}}),a("el-table-column",{attrs:{label:t.$t("processing.type"),"min-width":"100",prop:"alarmTypeName"}}),a("el-table-column",{attrs:{label:t.$t("reportForm.osCount.asTime"),"min-width":"150",prop:"startTime"}}),a("el-table-column",{attrs:{label:t.$t("reportForm.osCount.aeTime"),"min-width":"150",prop:"endTime"}}),a("el-table-column",{attrs:{label:t.$t("processing.alarmTimes"),"min-width":"150",prop:"alarmCount"}}),a("el-table-column",{attrs:{label:t.$t("processing.processPeople"),"min-width":"100",prop:"handlePeople"}}),a("el-table-column",{attrs:{label:t.$t("processing.ProcessingSate"),"min-width":"100",prop:"status",formatter:t.statusFun}}),a("el-table-column",{attrs:{label:t.$t("processing.ProcessingTime"),"min-width":"150",prop:"handleTime"}}),a("el-table-column",{attrs:{label:t.$t("processing.ProcessingWay"),"min-width":"100",prop:"handleWay"}})],1)],1)],1)},[],!1,null,null,null).exports;r.install=function(t){t.component(r.name,r)},e.default=r}}]);