(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-394785d0"],{"4ebb":function(a,e,t){},6000:function(a,e,t){"use strict";t.r(e);var s={data:function(){return{saveParams:{alarmThreshold:0,beyondFlag:1,disconnectTime:0},saveFlag:!1,dataItem:null}},methods:{save:function(){var a=this;this.saveFlag=!0,this.$http({url:"/sendVideoOrder/setStorageSettings",params:this.saveParams}).then(function(e){e.flag&&setTimeout(function(e){a.$message.warning("修改成功"),a.getServerData()},1e3),e.flag||(a.$message.error({message:a.$t("error."+e.errorCode)}),a.saveFlag=!1)}).catch(function(e){a.saveFlag=!1})},getServerData:function(){var a=this;this.$http({url:"/sendVideoOrder/getStorageSettings"}).then(function(e){var t=[];t.push({value:e.data.availableStorageSize,name:"可用"},{value:e.data.unavailableStorageSize,name:"不可用"}),a.setOptions(t),Object.assign(a.saveParams,e.data),delete a.saveParams.unavailableStorageSize,delete a.saveParams.availableStorageSize,delete a.saveParams.totalStorageSize,a.saveFlag=!1}).catch(function(e){a.saveFlag=!1})},setOptions:function(a){var e={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",bottom:20,data:["可用","不可用"]},series:[{name:"磁盘容量",type:"pie",radius:"55%",center:["50%","40%"],data:a||[{value:0,name:"可用"},{value:0,name:"不可用"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.dataItem=e}},mounted:function(){this.getServerData()}},r=(t("620d"),t("2877")),n=Object(r.a)(s,function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"serverStorage"},[t("div",{staticClass:"chartStyle"},[t("cv-echart",{attrs:{name:"pie",data:a.dataItem}})],1),t("el-form",{staticClass:"serverSetting"},[t("el-form-item",{attrs:{label:"存储报警阈值"}},[t("el-input-number",{attrs:{"controls-position":"right",min:0,max:100},model:{value:a.saveParams.alarmThreshold,callback:function(e){a.$set(a.saveParams,"alarmThreshold",e)},expression:"saveParams.alarmThreshold"}}),a._v(" %\n        ")],1),t("el-form-item",{attrs:{label:"超出阈值后"}},[t("el-radio",{attrs:{label:1},model:{value:a.saveParams.beyondFlag,callback:function(e){a.$set(a.saveParams,"beyondFlag",e)},expression:"saveParams.beyondFlag"}},[a._v("自动覆盖")]),t("el-radio",{attrs:{label:0},model:{value:a.saveParams.beyondFlag,callback:function(e){a.$set(a.saveParams,"beyondFlag",e)},expression:"saveParams.beyondFlag"}},[a._v("停止存储")])],1),t("el-form-item",{attrs:{label:"媒体未收到码流自动断开时间阈值"}},[t("el-input-number",{attrs:{"controls-position":"right",min:0,max:120},model:{value:a.saveParams.disconnectTime,callback:function(e){a.$set(a.saveParams,"disconnectTime",e)},expression:"saveParams.disconnectTime"}}),a._v(" S\n        ")],1),t("el-form-item",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary",loading:a.saveFlag},nativeOn:{click:function(e){return a.save(e)}}},[a._v("保存")])],1)],1)],1)},[],!1,null,null,null).exports;e.default=n},"620d":function(a,e,t){"use strict";var s=t("4ebb");t.n(s).a}}]);