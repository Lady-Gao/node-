(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0d488ef2"],{"05c0":function(e,t,i){"use strict";i("7f7f"),i("20d6"),i("ac6a");var o=i("cebc"),n=i("3f4e"),r=i("2f62"),a={name:"CvPublictreeContent",components:{CvContent:n.a},props:{model:String,vehicleMonitor:Function,loading:Boolean,noresize:{default:!1,type:Boolean}},data:function(){return{entryList:[],condition:""}},computed:Object(o.a)({},Object(r.c)(["onlineList","isAttention","socketEnterprise","socketVehicle","vehicle_data","vehicleCondition"]),{isCheck:function(){switch(this.model){case"multi":return!0;case"single":default:return!1}},_treeMethods:function(){return this.$refs.tabs},_contentMethods:function(){return this.$refs.content}}),beforeDestroy:function(){var e=this._treeMethods.getAllNodes;this.setStoreVehicleSearchCondition(this.condition),this.setStoreVehicleData(e())},mounted:function(){var e=this._treeMethods.$refs.tree.reference().ztreeApi;e()&&e().checkAllNodes(!1)},methods:Object(o.a)({},Object(r.b)(["setStoreVehicleData","setStoreVehicleSearchCondition"]),{handlerVehicleSearch:function(e){this.condition=e},vehicle_Monitor:function(e){var t=e.data;if(e.name,"function"==typeof this.vehicleMonitor)switch(this.model){case"multi":return this.vehicle_Monitor_multi(e);case"single":return this.vehicleMonitor(t[0])}},vehicle_Monitor_multi:function(e){var t=this,i=e.data;switch(e.name){case"check":this.entryList=this.entryList.concat(i);break;case"cancel":i.forEach(function(e){var i=t.entryList.findIndex(function(t){return t.id==e.id});0<=i&&t.entryList.splice(i,1)})}this.vehicleMonitor(this.entryList)}})},s=(i("45d7"),i("2877")),c=Object(s.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("cv-content",{ref:"content",attrs:{loading:e.loading,noresize:e.noresize}},[e.model?i("cv-tabs-tree",{ref:"tabs",staticClass:"vehiclemaster-tree",attrs:{slot:"aside","vehicle-search":e.vehicleCondition,"is-checked":e.isCheck,"tree-data":e.vehicle_data,"online-monitor":e.onlineList,"vehicle-monitor":e.socketVehicle,"attention-monitor":e.isAttention,"enterprise-fleet-monitor":e.socketEnterprise,"node-monitor":e.vehicle_Monitor},on:{"vehicle-choose-search":e.handlerVehicleSearch},slot:"aside"}):e._e(),e._t("default")],2)},[],!1,null,"2dfdf41b",null).exports;c.install=function(e){e.component(c.name,c)},t.a=c},"45d7":function(e,t,i){"use strict";var o=i("6e18");i.n(o).a},"6e18":function(e,t,i){},9199:function(e,t,i){"use strict";i.r(t),i("7f7f");var o={components:{CvPublictreeContent:i("05c0").a},computed:{_leftGauge:function(){return this.$refs.leftGauge}},data:function(){return{loading:!1,maxReportTime:"",setTimeOil:null,vehicleId:"",option:{title:{text:this.$t("multiCar.fuelcurve"),padding:5},tooltip:{trigger:"axis"},legend:{data:[this.$t("multiCar.timeOilquantity"),this.$t("multiCar.Oil")],x:"center",top:30},grid:{left:"10%",right:"4%",top:80,width:"80%"},xAxis:{type:"category",boundaryGap:!1,axisLine:{onZero:!1},data:[]},yAxis:[{name:this.$t("multiCar.oilquantityL"),type:"value",max:1e3},{name:this.$t("multiCar.percentage"),nameLocation:"start",max:100,type:"value",inverse:!0}],series:[{name:this.$t("multiCar.timeOilquantity"),type:"line",stack:this.$t("multiCar.oiltotal"),data:[],itemStyle:{normal:{color:"#00F5FF",shadowBlur:8,shadowColor:"#25d5f0",borderColor:"#00F5FF",borderWidth:2,backgroundColor:"transparent"}},areaStyle:{normal:{color:""}}},{name:this.$t("multiCar.Oil"),type:"line",yAxisIndex:1,data:[],itemStyle:{normal:{color:"#f79f27",shadowBlur:8,shadowColor:"#25d5f0",borderColor:"#f79f27",borderWidth:2,backgroundColor:"transparent"}},areaStyle:{normal:{color:""}}}]}}},methods:{VehicleMonitor:function(e){this.vehicleId=e.id,this.maxReportTime="",this.getOilData(),this.oilTime()},clearTime:function(){clearInterval(this.setTimeOil),this._leftGauge.data={},this.setTimeOil=null},oilTime:function(){var e=this;this.clearTime(),this.setTimeOil=setInterval(function(){e.getOilData()},1e4)},setColor:function(e,t,i,o){9<e.data.length&&(e.data.shift(),t.data.shift(),i.data.shift()),i.data.push(o.oilMassx),e.data.push(o.oilMassy),t.data.push(o.oilPercenty),t.areaStyle.normal.color=new window.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0,0,0,0)"},{offset:1,color:"#f79f27"}]),e.areaStyle.normal.color=new window.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0,0,0,0)"},{offset:1,color:"#00F5FF"}])},getOilData:function(){var e=this,t={vehicleId:this.vehicleId,reportTime:this.maxReportTime};this.$store.dispatch("findRealTimeOil",t).then(function(t){var i=e,o=t.data;t.flag?o&&(i.maxReportTime=o.maxReportTime,i.setColor(i.option.series[0],i.option.series[1],i.option.xAxis,o),i._leftGauge.getEchart().setOption(i.option)):(e.$message.error({message:e.$t("error."+t.errorCode)}),e.clearTime())}).catch(function(){e.clearTime(),e.$message.error(e.$t("error.3013"))})}},beforeDestroy:function(){this.clearTime()}},n=(i("cfc8"),i("2877")),r=Object(n.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fuelGa"},[i("cv-operation",{staticStyle:{"min-height":"0"}}),i("cv-publictree-content",{attrs:{model:"single","vehicle-monitor":e.VehicleMonitor,loading:e.loading}},[i("div",{staticStyle:{width:"100%"}},[i("cv-echart",{ref:"leftGauge",staticStyle:{width:"100%",height:"400px"},attrs:{name:"line",data:e.option}})],1)])],1)},[],!1,null,null,null).exports;r.install=function(e){e.component(r.name,r)},t.default=r},cfc8:function(e,t,i){"use strict";var o=i("f341");i.n(o).a},f341:function(e,t,i){}}]);