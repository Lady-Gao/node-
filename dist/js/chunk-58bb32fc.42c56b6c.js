(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-58bb32fc"],{"05c0":function(e,t,i){"use strict";i("7f7f"),i("20d6"),i("ac6a");var a=i("cebc"),l=i("3f4e"),n=i("2f62"),r={name:"CvPublictreeContent",components:{CvContent:l.a},props:{model:String,vehicleMonitor:Function,loading:Boolean,noresize:{default:!1,type:Boolean}},data:function(){return{entryList:[],condition:""}},computed:Object(a.a)({},Object(n.c)(["onlineList","isAttention","socketEnterprise","socketVehicle","vehicle_data","vehicleCondition"]),{isCheck:function(){switch(this.model){case"multi":return!0;case"single":default:return!1}},_treeMethods:function(){return this.$refs.tabs},_contentMethods:function(){return this.$refs.content}}),beforeDestroy:function(){var e=this._treeMethods.getAllNodes;this.setStoreVehicleSearchCondition(this.condition),this.setStoreVehicleData(e())},mounted:function(){var e=this._treeMethods.$refs.tree.reference().ztreeApi;e()&&e().checkAllNodes(!1)},methods:Object(a.a)({},Object(n.b)(["setStoreVehicleData","setStoreVehicleSearchCondition"]),{handlerVehicleSearch:function(e){this.condition=e},vehicle_Monitor:function(e){var t=e.data;if(e.name,"function"==typeof this.vehicleMonitor)switch(this.model){case"multi":return this.vehicle_Monitor_multi(e);case"single":return this.vehicleMonitor(t[0])}},vehicle_Monitor_multi:function(e){var t=this,i=e.data;switch(e.name){case"check":this.entryList=this.entryList.concat(i);break;case"cancel":i.forEach(function(e){var i=t.entryList.findIndex(function(t){return t.id==e.id});0<=i&&t.entryList.splice(i,1)})}this.vehicleMonitor(this.entryList)}})},o=(i("45d7"),i("2877")),d=Object(o.a)(r,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("cv-content",{ref:"content",attrs:{loading:e.loading,noresize:e.noresize}},[e.model?i("cv-tabs-tree",{ref:"tabs",staticClass:"vehiclemaster-tree",attrs:{slot:"aside","vehicle-search":e.vehicleCondition,"is-checked":e.isCheck,"tree-data":e.vehicle_data,"online-monitor":e.onlineList,"vehicle-monitor":e.socketVehicle,"attention-monitor":e.isAttention,"enterprise-fleet-monitor":e.socketEnterprise,"node-monitor":e.vehicle_Monitor},on:{"vehicle-choose-search":e.handlerVehicleSearch},slot:"aside"}):e._e(),e._t("default")],2)},[],!1,null,"2dfdf41b",null).exports;d.install=function(e){e.component(d.name,d)},t.a=d},"073a":function(e,t,i){"use strict";i.r(t),i("7f7f"),i("386d");var a=i("8369"),l={mixins:[],props:{options:{}},data:function(){return{htmlText:""}},watch:{"options.flag":function(e){e||(this.options.name="")}},mounted:function(){this.htmlText=this.options.html}},n=i("2877"),r=Object(n.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"information-detail"},[i("div",{ref:"content_detail",staticClass:"pushHtml",domProps:{innerHTML:e._s(e.htmlText)}},[e._v("\n            "+e._s(e.htmlText)+"\n        ")]),i("div",{staticClass:"dialog-footer"},[i("el-button",{on:{click:function(t){e.options.flag=!1}}},[e._v("关闭")])],1)])},[],!1,null,null,null).exports,o=i("05c0"),d={mixins:[a.a],components:{informationDetail:r,CvPublictreeContent:o.a},data:function(){return{grid:{},sendOrderArray:[{val:"GB2012采集记录仪执行标准版本",name:"采集记录仪执行标准版本"},{val:"GB2012采集当前驾驶人信息",name:"采集当前驾驶人信息"},{val:"GB2012采集记录仪实时时间",name:"采集记录仪实时时间"},{val:"GB2012采集累计行驶里程",name:"采集累计行驶里程"},{val:"GB2012采集记录仪脉冲系数",name:"采集记录仪脉冲系数"},{val:"GB2012采集车辆信息",name:"采集车辆信息"},{val:"GB2012采集记录仪状态信号配置信息",name:"采集记录仪状态信号配置信息"},{val:"GB2012采集记录仪唯一性编号",name:"采集记录仪唯一性编号"}],dialog:{title:"",name:"",size:"dialog-tiny",flag:!1,data:[]},search:{orderName:"",vehicleId:"",time:[this.$filter.timeStamp(this.$filter.format(new Date(new Date-864e5),"yyyy-MM-dd start")),this.$filter.timeStamp(this.$filter.format(new Date,"yyyy-MM-dd HH:mm:ss"))]}}},computed:{_table:function(){return this.$refs.table}},methods:{handlerVehicleMonitor:function(e){this.grid.vehicleId=e.id},loadTable:function(){return this.grid.vehicleId?this.search.time?(this.grid.startTime=this.$filter.format(this.search.time[0],"yyyy-MM-dd HH:mm:ss"),this.grid.orderName=this.search.orderName,void this._table.tableInitial()):(this.$message.warning("请选择时间"),!1):(this.$message.warning("请选择车辆!"),!1)},cellHandler:function(e){switch(e.orderName){case"采集记录仪执行标准版本":this.collection(e.orderName,e.id);break;case"采集当前驾驶人信息":this.device(e.orderName,e.id);break;case"采集记录仪实时时间":this.monitorTime(e.orderName,e.id);break;case"采集累计行驶里程":this.totalMileage(e.orderName,e.id);break;case"采集记录仪脉冲系数":this.recordInfo(e.orderName,e.id);break;case"采集车辆信息":this.vehicleInfo(e.orderName,e.id);break;case"采集记录仪状态信号配置信息":this.configInfo(e.orderName,e.id);break;case"采集记录仪唯一性编号":this.drUniqueIdInfo(e.orderName,e.id)}},collection:function(e,t){var i=this;this.$store.dispatch("queryOperativeNorm",{id:t}).then(function(t){t.flag&&(i.dialog.flag=!0,i.dialog.name="informationDetail",i.dialog.title=e,t.data?i.dialog.html="<div><label>执行标准年号:</label>".concat(t.data.versionCode||" /","</div><div><label>修改单号:</label>").concat(t.data.modifyDocumentCode||" /","</div>"):i.dialog.html="<div><label>执行标准年号:</label>/</div><div><label>修改单号:</label>/</div>")})},device:function(e,t){var i=this;this.$store.dispatch("queryDriverInfo",{id:t}).then(function(t){t.flag&&(i.dialog.flag=!0,i.dialog.name="informationDetail",i.dialog.title=e,t.data?i.dialog.html="<div><label>机动车驾驶证号码:</label>".concat(t.data.driverLicenseCode||" /","</div>"):i.dialog.html="<div><label>机动车驾驶证号码:</label>/</div>")})},monitorTime:function(e,t){var i=this;this.$store.dispatch("queryCurrentTime",{id:t}).then(function(t){t.flag&&(i.dialog.flag=!0,i.dialog.name="informationDetail",i.dialog.title=e,t.data?i.dialog.html="<div><label>采集时间:</label>".concat(t.data.currentTime||" /","</div>"):i.dialog.html="<div><label>采集时间:</label>/</div>")})},totalMileage:function(e,t){var i=this;this.$store.dispatch("queryTotalMileage",{id:t}).then(function(t){t.flag&&(i.dialog.flag=!0,i.dialog.name="informationDetail",i.dialog.title=e,t.data?i.dialog.html="<div><label>实时时间:</label>".concat(t.data.drTime||" /","</div><div><label>初次安装时间:</label>").concat(t.data.drStartTime||" /","</div><div><label>初始里程:</label>").concat(t.data.startMileage||" /","</div><div><label>累计行驶里程:</label>").concat(t.data.totalMileage||" /","</div>"):i.dialog.html="<div><label>实时时间:</label>/</div><div><label>初次安装时间:</label>/</div><div><label>初始里程:</label>/</div><div><label>累计行驶里程:</label>/</div>")})},recordInfo:function(e,t){var i=this;this.$store.dispatch("queryImpulseRatioRecordInfo",{id:t}).then(function(t){t.flag&&(i.dialog.flag=!0,i.dialog.name="informationDetail",i.dialog.title=e,t.data?i.dialog.html="<div><label>实时时间:</label>".concat(t.data.drTime||" /","</div><div><label>脉冲系数:</label>").concat(t.data.impulseRratio||" /","</div>"):i.dialog.html="<div><label>实时时间:</label>/</div><div><label>脉冲系数:</label>/</div>")})},vehicleInfo:function(e,t){var i=this;this.$store.dispatch("queryVehicleInfo",{id:t}).then(function(t){t.flag&&(i.dialog.flag=!0,i.dialog.name="informationDetail",i.dialog.title=e,t.data?i.dialog.html="<div><label>车辆识别码:</label>".concat(t.data.vehicleIdCode||" /","</div><div><label>机动车车牌号码:</label>").concat(t.data.plateCodes||" /","</div><div><label>机动车车牌分类:</label>").concat(t.data.plateType||" /","</div>"):i.dialog.html="<div><label>车辆识别码:</label>/</div><div><label>机动车车牌号码:</label>/</div><div><label>机动车车牌分类:</label>/</div>")})},configInfo:function(e,t){var i=this;this.$store.dispatch("querySignalConfigInfoById",{id:t}).then(function(t){t.flag&&(i.dialog.flag=!0,i.dialog.name="informationDetail",i.dialog.title=e,t.data?i.dialog.html="<div><label>实时时间:</label>".concat(t.data.drTime||" /","</div><div><label>状态信号字节个数:</label>").concat(t.data.configurationCount||" /","</div><div><label>D0的状态信号名称:</label>").concat(t.data.n0||" /","</div><div><label>D1的状态信号名称:</label>").concat(t.data.n1||" /","</div><div><label>D2的状态信号名称:</label>").concat(t.data.n2||" /","</div>")+"<div><label>D3的状态信号名称:</label>".concat(t.data.n3||" /","</div><div><label>D4的状态信号名称:</label>").concat(t.data.n4||" /","</div><div><label>D5的状态信号名称:</label>").concat(t.data.n5||" /","</div><div><label>D6的状态信号名称:</label>").concat(t.data.n6||" /","</div><div><label>D7的状态信号名称:</label>").concat(t.data.n7||" /","</div>"):i.dialog.html="<div><label>实时时间:</label>/</div><div><label>状态信号字节个数:</label>/}</div><div><label>D0的状态信号名称:</label>/</div><div><label>D1的状态信号名称:</label>/</div><div><label>D2的状态信号名称:</label>/</div><div><label>D3的状态信号名称:</label>/</div><div><label>D4的状态信号名称:</label>/</div><div><label>D5的状态信号名称:</label>/</div><div><label>D6的状态信号名称:</label>/</div><div><label>D7的状态信号名称:</label>/</div>")})},drUniqueIdInfo:function(e,t){var i=this;this.$store.dispatch("queryDrUniqueIdInfo",{id:t}).then(function(t){t.flag&&(i.dialog.flag=!0,i.dialog.name="informationDetail",i.dialog.title=e,t.data?i.dialog.html="<div><label>生产厂CCC认证编码:</label>".concat(t.data.cccAuthenticationCode||" /","</div><div><label>认证产品型号:</label>").concat(t.data.modifyDocumentCode||" /","</div><div><label>生产日期:</label>").concat(t.data.drProductionTime||" /","</div><div><label>产品生产流水号:</label>").concat(t.data.productionSerialCode||" /","</div>"):i.dialog.html="<div><label>生产厂CCC认证编码:</label>/</div><div><label>认证产品型号:</label>/</div><div><label>生产日期:</label>/</div><div><label>产品生产流水号:</label>/</div>")})}},watch:{"$store.getters.ptSingleCar":function(e){this.search.vehicleId=e.id}}},c=Object(n.a)(d,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"information_acquisition"},[i("cv-operation",{staticClass:"header",attrs:{position:"left"}},[i("el-form-item",{attrs:{label:"指令名称:"}},[i("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.search.orderName,callback:function(t){e.$set(e.search,"orderName",t)},expression:"search.orderName"}},e._l(e.sendOrderArray,function(e){return i("el-option",{key:e.val,attrs:{label:e.name,value:e.val}})}),1)],1),i("el-form-item",{attrs:{label:"查询时间:"}},[i("el-date-picker",{attrs:{editable:!1,clearable:!1,size:"small",type:"datetimerange",placeholder:"请选择时间"},model:{value:e.search.time,callback:function(t){e.$set(e.search,"time",t)},expression:"search.time"}})],1),i("el-form-item",{staticStyle:{float:"right"}},[i("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-modify":!1,"is-remove":!1,"is-export":!1,"is-add":!1},on:{search:function(t){return e.loadTable(!1)}}})],1)],1),i("cv-content",[i("cv-publictree-content",{attrs:{model:"single","vehicle-monitor":e.handlerVehicleMonitor}},[i("cv-grid",{ref:"table",attrs:{url:"/grapher/list",params:e.grid}},[i("el-table-column",{attrs:{label:"指令名称",prop:"orderName"}}),i("el-table-column",{attrs:{label:"发送时间",prop:"orderTime",formatter:e.tableFilterFormat}}),i("el-table-column",{attrs:{label:"反馈状态",prop:"sendFlag",formatter:e.tableFilterOrderTypeS}}),i("el-table-column",{attrs:{label:"反馈时间",prop:"backTime",formatter:e.tableFilterFormats}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("cv-span",{directives:[{name:"show",rawName:"v-show",value:"1"==t.row.sendFlag,expression:'scope.row.sendFlag=="1" ?true :false'}],attrs:{type:"success"},nativeOn:{click:function(i){return e.cellHandler(t.row)}}},[e._v("详细信息")])]}}])})],1)],1)],1),i("el-dialog",{attrs:{visible:e.dialog.flag,title:e.dialog.title,"custom-class":e.dialog.size},on:{"update:visible":function(t){return e.$set(e.dialog,"flag",t)}}},[i(e.dialog.name,{tag:"component",attrs:{options:e.dialog},on:{confirm:function(t){return e.loadTable()}}})],1)],1)},[],!1,null,null,null).exports;c.install=function(e){e.component(c.name,c)},t.default=c},"45d7":function(e,t,i){"use strict";var a=i("6e18");i.n(a).a},"6e18":function(e,t,i){},8369:function(e,t,i){"use strict";var a=i("cebc");t.a={data:function(){return{table:{size:10,total:0,current:1,flag:!1,loading:!1,data:[]}}},methods:{tableLoading:function(e,t,i,l){var n=this;i?(this.table.flag=!0,this.table.current=1):this.table.flag=!1,this.table.loading=!0;var r=Object(a.a)({current:this.table.current,size:this.table.size},t);this.$http(l?{url:e,data:r}:{url:e,params:r}).then(function(e){var t=e.data;e.flag&&0!=t.length?(n.table.data=t.records,n.table.total=t.total,n.table.current=t.current):(n.table.data=[],n.table.total=0),n.table.loading=!1}).catch(function(e){n.table.loading=!1})},tableFilterColor:function(e){return this.$filter.plateCodeColor(e.plateColor)},tableFilterIcType:function(e){return this.$filter.icType(e.state)},tableFilterIcResult:function(e){return this.$filter.icResult(e.readerresult)},tableFilterTiredAlarm:function(e){return this.$filter.tiredAlarmType(e.alarm)},tableFilterTiredAdas:function(e){return this.$filter.tiredAdasType(e.alarm)},tableFilterOrderTypeS:function(e){return this.$filter.orderTypeS(e.sendFlag)},tableFilterFormat:function(e){return this.$filter.format(e.orderTime||e.gpsTime)},tableFilterFormats:function(e){return this.$filter.format(e.backTime)},tableBusLineType:function(e){return this.$filter.lineType(e.lineType)},tableFilterAcc:function(e){return this.$filter.accStatus(e.accStatus)},tableSplitMobile:function(e){return e.mobileCode?e.mobileCode.slice(1,e.mobileCode.length):""},tableConfirm:function(e){return this.$filter.isConfirm(e.isnotarize)},tableUpkeep:function(e){return this.$filter.isConfirm(e.type)},tableRenewal:function(e){return this.$filter.renewal(e.state)},tableReMot:function(e){return this.$filter.reMot(e.state)},tableOil:function(e){return this.$filter.fixNumber(e.total,2)},tableSex:function(e){return this.$filter.sex(e.sex)},plateCodeF:function(e){return e.plateCode?e.plateCode:"--"},plateCodeAndColor:function(e){return e.plateCode+"("+this.$filter.plateCodeColor(e.plateColor)+")"},driverStuas:function(e){return this.$filter.alarmStatus(e.fatigueDrive)},overStuas:function(e){return this.$filter.alarmStatus(e.tOversSpeed)},overHStuas:function(e){return this.$filter.alarmStatus(e.tOverSpeedH)},filterAlStuas:function(e){return this.$filter.alarmStatus(e.overSpeed)},filteralarmStuas:function(e){return this.$filter.alarmStatus(e.overSpeedH)},filterLStuas:function(e){return this.$filter.alarmStatus(e.forbid)},applyFlag:function(e){return this.$filter.applyFlag(e.applyFlag)},SEtime:function(e){return this.$filter.SEtime(e.StartTime,e.EndTime)},channelType:function(e){return this.$filter.channelType(e.Channel)},FileSize:function(e){return this.$filter.FileSize(e.fileSize||e.FileSize||0)},AlarmFilter:function(e){return this.$filter.AlarmFilter(e.Alarm)},MediaTypeFilter:function(e){return this.$filter.MediaTypeFilter(e.MediaType)},StreamTypeFilter:function(e){return this.$filter.StreamTypeFilter(e.StreamType)},StorageTypeFilter:function(e){return this.$filter.StorageTypeFilter(e.StorageType)},statusType:function(e){return this.$filter.statusType(e.Status)},fileSource:function(e){return this.$filter.fileSource(e.fileSource)}}}}}]);