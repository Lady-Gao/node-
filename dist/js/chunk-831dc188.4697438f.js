(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-831dc188"],{"05c0":function(e,t,i){"use strict";i("7f7f"),i("20d6"),i("ac6a");var n=i("cebc"),a=i("3f4e"),l=i("2f62"),r={name:"CvPublictreeContent",components:{CvContent:a.a},props:{model:String,vehicleMonitor:Function,loading:Boolean,noresize:{default:!1,type:Boolean}},data:function(){return{entryList:[],condition:""}},computed:Object(n.a)({},Object(l.c)(["onlineList","isAttention","socketEnterprise","socketVehicle","vehicle_data","vehicleCondition"]),{isCheck:function(){switch(this.model){case"multi":return!0;case"single":default:return!1}},_treeMethods:function(){return this.$refs.tabs},_contentMethods:function(){return this.$refs.content}}),beforeDestroy:function(){var e=this._treeMethods.getAllNodes;this.setStoreVehicleSearchCondition(this.condition),this.setStoreVehicleData(e())},mounted:function(){var e=this._treeMethods.$refs.tree.reference().ztreeApi;e()&&e().checkAllNodes(!1)},methods:Object(n.a)({},Object(l.b)(["setStoreVehicleData","setStoreVehicleSearchCondition"]),{handlerVehicleSearch:function(e){this.condition=e},vehicle_Monitor:function(e){var t=e.data;if(e.name,"function"==typeof this.vehicleMonitor)switch(this.model){case"multi":return this.vehicle_Monitor_multi(e);case"single":return this.vehicleMonitor(t[0])}},vehicle_Monitor_multi:function(e){var t=this,i=e.data;switch(e.name){case"check":this.entryList=this.entryList.concat(i);break;case"cancel":i.forEach(function(e){var i=t.entryList.findIndex(function(t){return t.id==e.id});0<=i&&t.entryList.splice(i,1)})}this.vehicleMonitor(this.entryList)}})},o=(i("45d7"),i("2877")),c=Object(o.a)(r,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("cv-content",{ref:"content",attrs:{loading:e.loading,noresize:e.noresize}},[e.model?i("cv-tabs-tree",{ref:"tabs",staticClass:"vehiclemaster-tree",attrs:{slot:"aside","vehicle-search":e.vehicleCondition,"is-checked":e.isCheck,"tree-data":e.vehicle_data,"online-monitor":e.onlineList,"vehicle-monitor":e.socketVehicle,"attention-monitor":e.isAttention,"enterprise-fleet-monitor":e.socketEnterprise,"node-monitor":e.vehicle_Monitor},on:{"vehicle-choose-search":e.handlerVehicleSearch},slot:"aside"}):e._e(),e._t("default")],2)},[],!1,null,"2dfdf41b",null).exports;c.install=function(e){e.component(c.name,c)},t.a=c},"30b7":function(e,t,i){"use strict";var n=i("baad");i.n(n).a},"45d7":function(e,t,i){"use strict";var n=i("6e18");i.n(n).a},"6e18":function(e,t,i){},"9ac6":function(e,t,i){"use strict";i.r(t),i("386d"),i("ac6a");var n=i("cebc"),a=i("05c0"),l=i("2f62"),r={components:{CvPublictreeContent:a.a},computed:{_table:function(){return this.$refs.table1}},data:function(){return{table1Data:{},table2Data:{},search:{startDate:this.$filter.format(new Date-1728e5,"yyyy-MM-dd"),endDate:this.$filter.format(new Date-864e5,"yyyy-MM-dd"),vehicleId:""},activeName:"tabs0",vehicleSigId:"",SEtime:[this.$filter.format(new Date-1728e5,"yyyy-MM-dd"),this.$filter.format(new Date-864e5,"yyyy-MM-dd")],pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()-864e5}},loading:!1}},methods:Object(n.a)({},Object(l.b)(["findVehicleBasicsInfo"]),{handlerVehicleMonitor:function(e){var t=[];e.forEach(function(e){t.push(e.id)}),this.search.vehicleId=0==t.length?"":t.join(",")},linkTo:function(e){this.activeName="tabs1",this.vehicleSigId=e.row.id,e.row.detail&&this.detailDataTranslate(e.row.detail)},detailDataTranslate:function(e){this.table2Data=[],0<e.length?this.table2Data=e:this.table2Data=[]},searchVDO:function(){var e=this;if(!this.search.vehicleId)return this.$message.warning("请选择车辆"),!1;this.activeName="tabs0",this.loading=!0,this.findVehicleBasicsInfo(this.search).then(function(t){var i=t.flag,n=t.errorCode;e.table1Data=i&&!n?t.data:[],e.loading=!1})},down:function(){if(!this.search.vehicleId)return this.$message.warning("请选择车辆"),!1;if(null!=this.SEtime){if(null!=this.SEtime[0]||null!=this.SEtime[1]){var e=0;"tabs0"==this.activeName&&(e=0),"tabs1"==this.activeName&&(e=1);var t=Object(n.a)({},this.search,{type:e,vehicleId:"tabs1"==this.activeName&&this.vehicleSigId?this.vehicleSigId:this.search.vehicleId}),i=this.$service.winParams(this.$COMMON.baseUrl+"/report/exportVehicleBasicsInfo",t);window.location.href=i}}else this.$message.warning("请选择时间")},dataForm:function(e){return this.$filter.toFixed(e.endEngineFuel,2)}}),watch:{SEtime:function(e){this.search.startDate=e[0],this.search.endDate=e[1]}}},o=(i("30b7"),i("2877")),c=Object(o.a)(r,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vehicleDriveOperation"},[i("cv-operation",{attrs:{position:"left"}},[i("el-form-item",{attrs:{label:"起止时间"}},[i("el-date-picker",{attrs:{editable:!1,clearable:!1,"value-format":"yyyy-MM-dd",type:"daterange",placeholder:"选择时间范围","picker-options":e.pickerOption},model:{value:e.SEtime,callback:function(t){e.SEtime=t},expression:"SEtime"}})],1),i("el-form-item",{staticStyle:{float:"right"}},[i("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-modify":!1,"is-remove":!1,"is-add":!1},on:{search:e.searchVDO,export:e.down}})],1)],1),i("cv-publictree-content",{attrs:{model:"multi","vehicle-monitor":e.handlerVehicleMonitor,loading:e.loading}},[i("cv-tabs",{attrs:{titles:["车辆运行总表","车辆运行明细"]},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("cv-grid",{ref:"table1",attrs:{data:e.table1Data}},[i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.vehicleJia"),align:"center",prop:"carVin"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.vehiclePlateCode"),align:"center",prop:"plateCode","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("cv-span",{attrs:{type:"primary"},nativeOn:{click:function(i){return i.preventDefault(),e.linkTo(t)}}},[e._v(e._s(t.row.plateCode))])]}}])}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.shebei"),align:"center",prop:"terminalCode","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("cv-span",{attrs:{type:"primary"},nativeOn:{click:function(i){return i.preventDefault(),e.linkTo(t)}}},[e._v(e._s(t.row.terminalCode))])]}}])}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.operateTime"),align:"center"}},[i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.operateDays"),align:"center","min-width":"100px",prop:"runningDays"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.operateHours"),align:"center","min-width":"100px",prop:"runningHours"}})],1),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.OilWear"),align:"center"}},[i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.begin"),align:"center","min-width":"100px",prop:"initialyEngineFuel"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.end"),align:"center","min-width":"100px",prop:"endEngineFuel"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.self"),align:"center","min-width":"100px",prop:"thisSectionEngineFuel"}})],1),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.meter"),align:"center"}},[i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.begin"),align:"center",prop:"initialyDistance"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.end"),align:"center",prop:"endDistance"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.self"),align:"center",prop:"thisSectionDistance"}})],1),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.averageOil"),align:"center",prop:"thisSectionAvgEngineFuel","min-width":"200px"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.gpsMeter"),align:"center",prop:"distanceGPS","min-width":"200px"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.sliderMeter"),align:"center",prop:"taxiedDistance","min-width":"200px"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.sliderPro"),align:"center",prop:"taxiedScale","min-width":"100px"}}),i("el-table-column",{attrs:{label:e.$t("el.datepicker.startTime"),align:"center",prop:"startTime","min-width":"100px"}}),i("el-table-column",{attrs:{label:e.$t("el.datepicker.endTime"),align:"center",prop:"endTime","min-width":"100px"}}),i("el-table-column",{attrs:{label:e.$t("action.operation"),align:"center",prop:"accountType","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("cv-span",{attrs:{type:"primary"},nativeOn:{click:function(i){return i.preventDefault(),e.linkTo(t)}}},[e._v("查看详情")])]}}])})],1),i("cv-grid",{attrs:{data:e.table2Data}},[i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.vehicleJia"),align:"center",prop:"carVin"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.vehiclePlateCode"),"min-width":"120px",align:"center",prop:"plateCode"}}),i("el-table-column",{attrs:{label:e.$t("fenceManage.date"),align:"center",sortable:"","min-width":"180px",prop:"startTime"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.operateHours"),align:"center","min-width":"100px",prop:"runningHours"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.OilWear"),align:"center"}},[i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.begin"),align:"center","min-width":"100px",prop:"initialyEngineFuel"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.end"),align:"center","min-width":"100px",prop:"endEngineFuel"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.self"),align:"center","min-width":"100px",prop:"thisSectionEngineFuel"}})],1),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.meter"),align:"center"}},[i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.begin"),align:"center",prop:"initialyDistance"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.end"),align:"center",prop:"endDistance"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.self"),align:"center",prop:"thisSectionDistance"}})],1),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.averageOil"),align:"center","min-width":"200px",prop:"thisSectionAvgEngineFuel"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.gpsMeter"),align:"center","min-width":"200px",prop:"distanceGPS"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.sliderMeter"),align:"center","min-width":"200px",prop:"taxiedDistance"}}),i("el-table-column",{attrs:{label:e.$t("reportForm.vehicleOpt.sliderPro"),align:"center","min-width":"100px",prop:"taxiedScale"}})],1)],1)],1)],1)},[],!1,null,null,null).exports;t.default=c},baad:function(e,t,i){}}]);