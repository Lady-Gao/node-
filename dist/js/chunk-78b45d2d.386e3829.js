(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-78b45d2d"],{"11c4":function(t,a,e){"use strict";var i=e("dc09");e.n(i).a},"130a":function(t,a,e){"use strict";e.r(a),e("7f7f");var i={mixins:[],props:{options:{}},data:function(){return{formData:{name:"",alias:"",remark:""},loading:!1,rules:{name:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{min:1,max:45,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:1,max:45})}],alias:[{required:!0,message:this.$t("filter.notEmpty"),trigger:"blur,change"},{min:1,max:45,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:1,max:45})}],remark:[{min:1,max:120,message:this.$filter.lanReplace(this.$t("filter.Length"),{min:1,max:120})}]}}},methods:{dataAction:function(t,a){var e=this;this.$http({methods:"POST",url:t,params:a}).then(function(t){!t.flag&&t.errorCode?e.$message.error({message:e.$t("error."+t.errorCode)}):(e.$emit("update:loadTable",!0),e.options.flag=!1,e.$message.success(e.$t("UserManage.actionSuccess"))),e.loading=!1}).catch(function(){e.loading=!1})},saveEvent:function(){var t=this;this.$refs.formItem.validate(function(a){if(a){var e={name:t.formData.name,alias:t.formData.alias,remark:t.formData.remark};t.loading=!0,t.options.isModify&&(e.id=t.options.modify.id),t.dataAction("/terminalAbility/insertTerminalAbility",e)}})}},watch:{"options.flag":function(t){t||(this.options.name="")}},mounted:function(){""!=this.options.modify.id&&(this.formData=this.options.modify)}},o=(e("11c4"),e("2877")),n={components:{modify:Object(o.a)(i,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-form",{ref:"formItem",attrs:{inline:!1,"label-position":"top",model:t.options.modify,rules:t.rules}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:t.$t("companyManage.n"),prop:"name"}},[e("el-input",{attrs:{size:"small"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:t.$t("dM.shortName"),prop:"alias"}},[e("el-input",{attrs:{size:"small"},model:{value:t.formData.alias,callback:function(a){t.$set(t.formData,"alias",a)},expression:"formData.alias"}})],1)],1),e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:t.$t("dM.remark"),prop:"remark"}},[e("el-input",{attrs:{type:"textarea",rows:3,resize:"none",placeholder:"请输入内容",size:"small"},model:{value:t.formData.remark,callback:function(a){t.$set(t.formData,"remark",a)},expression:"formData.remark"}})],1)],1)],1)],1),e("div",{staticClass:"dialog-footer"},[e("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.saveEvent}},[t._v(t._s(t.$t("action.confirm")))]),e("el-button",{on:{click:function(a){t.options.flag=!1}}},[t._v(t._s(t.$t("action.cancel")))])],1)],1)},[],!1,null,"1fe3f0a8",null).exports},data:function(){return{table:[],loading:!1,tableFlag:!1,dialog:{flag:!1,title:"--",size:"dialog-small",name:"search",modify:{},isModify:!1}}},methods:{temList:function(){var t=this;this.loading=!0,this.$store.dispatch("findTerminalAbilityList",{}).then(function(a){if(a.flag)if(0!=a.data.length){for(var e=[],i=0;i<a.data.length;i++)e.push(a.data[i]);t.table=e}else t.table=[];else t.table=[];t.loading=!1}).catch(function(){t.loading=!1})},load:function(){this.temList()},remove:function(t){var a=this;this.confirmPrompt().then(function(){a.$store.dispatch("deleteAbilityById",{id:t.row.id}).then(function(t){!t.flag&&t.errorCode?a.$message.error({message:a.$t("error."+t.errorCode)}):(a.load(),a.$message.success(a.$t("action.removeSuccess")))})})},modify:function(t){this.$service.mapParams(this.dialog,{title:this.$t("power.modify"),name:"modify",size:"dialog-small",flag:!0}),this.dialog.modify=t,this.dialog.isModify=!0},add:function(t){this.$service.mapParams(this.dialog,{title:t.title,name:"modify",size:"dialog-small",flag:!0}),this.dialog.modify={}}},created:function(){this.temList()},watch:{tableFlag:function(t){var a=this;t&&setTimeout(function(t){a.temList(),a.tableFlag=!1},200)}}},l=Object(o.a)(n,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"power"},[e("cv-operation",[e("el-form-item",[e("cv-tool",{attrs:{name:t.$route.name,data:t.$store.getters.manageMenus,"is-modify":!1,"is-remove":!1,"is-search":!1,"is-export":!1},on:{add:t.add}})],1)],1),e("cv-content",[e("cv-grid",{ref:"table",attrs:{data:t.table,url:"/terminalAbility/findTerminalAbilityList"}},[e("el-table-column",{attrs:{label:t.$t("companyManage.n"),prop:"name"}}),e("el-table-column",{attrs:{label:t.$t("dM.shortName"),prop:"alias"}}),e("el-table-column",{attrs:{label:t.$t("dM.remark"),prop:"remark"}}),e("el-table-column",{attrs:{label:t.$t("UserManage.operation")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("cv-span",{staticClass:"cv-span-success",nativeOn:{click:function(e){return t.modify(a.row)}}},[t._v(t._s(t.$t("power.modify")))]),e("cv-span",{staticClass:"cv-span-danger",nativeOn:{click:function(e){return t.remove(a)}}},[t._v(t._s(t.$t("power.remove")))])]}}])})],1)],1),e("el-dialog",{attrs:{visible:t.dialog.flag,title:t.dialog.title,"custom-class":t.dialog.size},on:{"update:visible":function(a){return t.$set(t.dialog,"flag",a)}}},[e(t.dialog.name,{tag:"component",attrs:{options:t.dialog,loadTable:t.tableFlag},on:{confirm:t.load,"update:loadTable":function(a){t.tableFlag=a},"update:load-table":function(a){t.tableFlag=a}}})],1)],1)},[],!1,null,null,null).exports;l.install=function(t){t.component(l.name,l)},a.default=l},dc09:function(t,a,e){}}]);