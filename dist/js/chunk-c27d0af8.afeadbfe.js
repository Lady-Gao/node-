(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c27d0af8"],{"588d":function(e,t,r){"use strict";r.r(t),r("7f7f"),r("96cf");var a=r("3b8d"),n=(r("386d"),r("cebc")),i=r("2f62"),s=r("b0ad"),o={name:"VehicleInsuranceNotice",inject:["store"],mixins:[s.a],props:{refresh:{}},computed:{_table:function(){return this.$refs.noticeTable}},methods:Object(n.a)({},Object(i.b)(["unGoOnVehicleInsurance"]),{renewal:function(e){this.$emit("update:renewal",e),this.$emit("update:renewalFlag",!0)},norenewal:function(e){var t=this;this.confirmPrompt("是否确定不续保?").then(function(){Object(a.a)(regeneratorRuntime.mark(function r(){var a,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.unGoOnVehicleInsurance({id:e.id});case 2:a=r.sent,a.data,n=a.flag,a.errorCode,n&&t._table.tableInitial();case 7:case"end":return r.stop()}},r)}))()})}}),watch:{refresh:function(e){var t=this;e&&(setTimeout(function(){t._table.tableInitial()},100),this.$emit("update:refresh",!1))}}},l=r("2877"),c=Object(l.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("cv-grid",{ref:"noticeTable",attrs:{params:e.store.search,url:"/vehicleInsurance/getExpirePage"}},[r("el-table-column",{attrs:{label:e.$t("common.vehicle.plateCode"),prop:"plateCode"}}),e._v(">\n    "),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.contractNo"),prop:"contractNo"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insurancePremium"),prop:"insurancePremium"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuredAmount"),prop:"insuredAmount"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.typeName"),prop:"typeName"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuranceCompany"),prop:"insuranceCompany"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuredCreateTime"),prop:"insuredCreateTime"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuranceStartTime"),prop:"insuranceStartTime"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuranceEndTime"),prop:"insuranceEndTime"}}),r("el-table-column",{attrs:{label:e.$t("action.operation"),width:"120",prop:"operate"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("cv-span",{attrs:{type:"success"},nativeOn:{click:function(r){return e.renewal(t.row)}}},[e._v("续保")]),r("cv-span",{attrs:{type:"danger"},nativeOn:{click:function(r){return e.norenewal(t.row)}}},[e._v("不续保")])]}}])})],1)},[],!1,null,null,null).exports,u={name:"VehicleInsuranceList",props:{refreshY:{}},inject:["store"],mixins:[r("8369").a],computed:{_table:function(){return this.$refs.listTable}},methods:{outPut:function(){this.$emit("power-export")},add:function(){this.$emit("power-add")},search:function(){this.$emit("power-search")},edit:function(e){this.$emit("update:editData",e),this.$emit("update:editFlag",!0)},del:function(e){this.$emit("update:del",e.id)}},watch:{refreshY:function(e){var t=this;e&&setTimeout(function(e){t._table.tableInitial(),t.$emit("update:refreshY",!1)},500)}}},d=Object(l.a)(u,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("cv-tool",{staticClass:"cv-tool",staticStyle:{"margin-bottom":"15px"},attrs:{name:e.$route.name,data:e.$store.getters.manageMenus,"is-remove":!1,"is-modify":!1},on:{export:e.outPut,search:e.search,add:e.add}}),r("cv-grid",{ref:"listTable",attrs:{params:e.store.search,url:"/vehicleInsurance/findVehicleInsurancePage"}},[r("el-table-column",{attrs:{label:e.$t("common.vehicle.plateCode"),prop:"plateCode"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.contractNo"),prop:"contractNo"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insurancePremium"),prop:"insurancePremium"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuredAmount"),prop:"insuredAmount"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.typeName"),prop:"typeName"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuranceCompany"),prop:"insuranceCompany"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuredCreateTime"),prop:"insuredCreateTime"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuranceStartTime"),prop:"insuranceStartTime"}}),r("el-table-column",{attrs:{label:e.$t("vehicleInsurance.insuranceEndTime"),prop:"insuranceEndTime"}}),r("el-table-column",{attrs:{label:e.$t("common.order.orderContent"),prop:"state",formatter:e.tableRenewal}}),r("el-table-column",{attrs:{label:e.$t("action.operation"),prop:"operate"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("cv-span",{directives:[{name:"show",rawName:"v-show",value:1!=t.row.state,expression:"scope.row.state != 1"}],attrs:{type:"success"},nativeOn:{click:function(r){return e.edit(t.row)}}},[e._v("修改")]),r("cv-table-tool",{attrs:{name:e.$route.name,data:e.$store.getters.manageMenus,"is-modify":!1},on:{remove:function(r){return e.del(t.row)}}})]}}])})],1)],1)},[],!1,null,null,null).exports,m=(r("c5f6"),r("ac6a"),{props:{options:{type:[Object],default:function(){return{}}}},inject:["store"],created:function(){var e=this;Object(a.a)(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getInsuranceType();case 2:r=t.sent,a=r.data,r.flag&&(e.common.tableData=a);case 6:case"end":return t.stop()}},t)}))()},data:function(){return{label:{},common:{enterpriseId:"",fleetId:"",plateList:[],SEtime:"",tableData:[],companyList:[],editTimes:null},addForm:{vehicleId:"",plateCode:"",contractNo:"",insuranceCompany:"",insuranceStartTime:"",insuranceEndTime:"",insuredAmount:"",insurancePremium:"",insuranceUndertaker:"",insuredCreateTime:"",insurer:"",insurant:"",telephone:"",pricesArr:""},rules:{vehicleId:[{required:!0,message:"请选择车牌号",trigger:"blur,change"}],contractNo:[{required:!0,message:"请输入保单号",trigger:"blur,change"},{pattern:/^[0-9]+$/,message:this.$t("filter.type2"),trigger:"blur,change"}],insuranceCompany:[{required:!0,message:"请选择保险公司",trigger:"blur,change"}],insuranceStartTime:[{required:!0,message:"请输入起始时间",trigger:"blur,change"}],insuredAmount:[{required:!0,message:"请输入保险金额",trigger:"blur,change"}],insuranceEndTime:[{required:!0,message:"请输入起止时间",trigger:"blur,change"}],insurancePremium:[{required:!0,message:"请输入保费",trigger:"blur,change"},{pattern:/^[0-9]+$/,message:this.$t("filter.type2"),trigger:"blur,change"}],insuranceUndertaker:[{required:!0,message:"请输入承保机构",trigger:"blur,change"}],insuredCreateTime:[{required:!0,message:"请输入签保日期",trigger:"blur,change"}],insurer:[{required:!0,message:"请输入投保人",trigger:"blur,change"}],insurant:[{required:!0,message:"请输入被保人",trigger:"blur,change"}],telephone:[{required:!0,message:"请输入电话",trigger:"blur,change"},{pattern:/^(1[3|4|5|7|8][0-9]{9})$/,message:this.$t("filter.type10")}],pricesArr:[{required:!0,message:"请选择险别",trigger:"blur,change"}]}}},computed:{_insurance:function(){return this.$refs.insurance}},methods:Object(n.a)({},Object(i.b)(["getInsuranceType","insertVehicleInsurance","getVehicleInsuranceById","updateVehicleInsurance","findVehicleByPlateCode","goOnVehicleInsurance","getSysDictByType"]),{selectChange:function(e){var t=0,r=[];this.common.tableData.forEach(function(e){e.disabled=!1}),e.forEach(function(e){t+=Number(e.typePrice),r.push({typeId:e.typeId,typePrice:e.typePrice}),e.disabled=!0}),this.addForm.insuredAmount=t,0==r.length?this.addForm.pricesArr="":this.addForm.pricesArr=JSON.stringify(r)},cancelDialog:function(){this.$emit("update:visible",!1)},confirm:function(){var e=this;this._insurance.validate(function(t){if(!t)return!1;if(1==e.store.type){var r=Object(n.a)({},e.addForm,{id:e.store.modify.id});e.updateVehicleInsurance(r).then(function(t){t.flag?e.$message.success({message:"修改成功"}):e.$message.error({message:e.$t("error."+t.errorCode)})})}else if(2==e.store.type){var a=Object(n.a)({},e.addForm,{id:e.store.modify.id});e.goOnVehicleInsurance(a).then(function(t){t.flag?e.$message.success({message:"续保成功"}):e.$message.error({message:e.$t("error."+t.errorCode)})})}else e.insertVehicleInsurance(e.addForm).then(function(t){t.flag?e.$message.success({message:"新增成功"}):e.$message.error({message:e.$t("error."+t.errorCode)})});e.$emit("update:refreshY",!0),e.$emit("update:refresh",!0),e.$emit("update:visible",!1)})}}),watch:{"common.enterpriseId":function(e){0==this.common.editTimes?this.common.editTimes++:(this.common.fleetName="",this.addForm.vehicleId="")},"common.fleetId":function(e){var t=this;this.store.modify.id||(this.addForm.vehicleId=""),this.$http({url:"/vehicle/queryVehicleByFleetId",params:{fleetIds:e}}).then(function(e){t.common.plateList=[],e.errorCode||e.data.forEach(function(e){t.common.plateList.push({label:e.plateCode,value:e.id})})})},"addForm.vehicleId":function(e){var t=this;e&&this.common.plateList.forEach(function(r){r.value==e&&(t.addForm.plateCode=r.label)})},"common.SEtime":function(e){this.addForm.insuranceStartTime=e[0],this.addForm.insuranceEndTime=e[1]}},mounted:function(){var e=this;Object(a.a)(regeneratorRuntime.mark(function t(){var r,a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSysDictByType();case 2:r=t.sent,a=r.flag,n=r.data,a&&(e.common.companyList=n);case 6:case"end":return t.stop()}},t)}))(),this.store.modify.id&&(this.findVehicleByPlateCode({plateCode:this.store.modify.plateCode}).then(function(t){e.common.enterpriseId=t.data.enterpriseId,e.common.fleetId=t.data.fleetId,e.common.enterpriseName=t.data.enterpriseName,e.common.fleetName=t.data.fleetName}),this.getVehicleInsuranceById({id:this.store.modify.id}).then(function(t){e.common.SEtime=[t.data.insuranceStartTime,t.data.insuranceEndTime],e.$service.mapParams(e.addForm,t.data),2==e.store.type&&(e.addForm.contractNo=""),t.data.prices.forEach(function(t){var r=t.typeName;e.common.tableData.forEach(function(e){r==e.typeName&&(e.typePrice=t.typePrice)})}),e.common.tableData.forEach(function(t){0<t.typePrice&&e.$refs.feeTable.toggleRowSelection(t,!0)})}),this.common.editTimes=0)}}),p=Object(l.a)(m,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("cv-scrollbar",{staticStyle:{height:"500px"}},[r("el-form",{ref:"insurance",attrs:{model:e.addForm,rules:e.rules}},[e.store.modify.id?e._e():r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{"label-position":"top",label:"所属公司/机构"}},[r("cv-dropdown-tree",{staticStyle:{width:"330px"},attrs:{data:e.store.company_tree,"is-default":!1,label:e.label},on:{"update:label":function(t){e.label=t}},model:{value:e.common.enterpriseId,callback:function(t){e.$set(e.common,"enterpriseId",t)},expression:"common.enterpriseId"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{"label-position":"top",label:"车组选择"}},[r("cv-dropdown-tree",{staticStyle:{width:"100%"},attrs:{url:"/enterprise/findFleetTreeList","is-initial":!1,"auto-params":{enterpriseId:e.label.enterpriseId,pId:e.label.id,type:e.label.type}},model:{value:e.common.fleetId,callback:function(t){e.$set(e.common,"fleetId","string"==typeof t?t.trim():t)},expression:"common.fleetId"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"车牌号码",prop:"vehicleId"}},[r("el-select",{staticStyle:{width:"330px"},attrs:{disabled:e.store.modify.id,filterable:"",clearable:"",placeholder:"请选择车辆"},model:{value:e.addForm.vehicleId,callback:function(t){e.$set(e.addForm,"vehicleId",t)},expression:"addForm.vehicleId"}},e._l(e.common.plateList,function(e){return r("el-option",{key:e._id,attrs:{label:e.label,value:e.value}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"保单号",prop:"contractNo"}},[r("el-input",{staticStyle:{width:"350px"},model:{value:e.addForm.contractNo,callback:function(t){e.$set(e.addForm,"contractNo","string"==typeof t?t.trim():t)},expression:"addForm.contractNo"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"保险公司",prop:"insuranceCompany"}},[r("el-select",{staticStyle:{width:"330px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.addForm.insuranceCompany,callback:function(t){e.$set(e.addForm,"insuranceCompany",t)},expression:"addForm.insuranceCompany"}},e._l(e.common.companyList,function(e){return r("el-option",{key:e.id,attrs:{label:e.codeText,value:e.codeText}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"起终保日期",prop:"insuranceEndTime"}},[r("el-date-picker",{staticStyle:{width:"350px"},attrs:{editable:!1,clearable:!1,type:"daterange","value-format":"yyyy-MM-dd"},model:{value:e.common.SEtime,callback:function(t){e.$set(e.common,"SEtime",t)},expression:"common.SEtime"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"保险金额(元)",prop:"insuredAmount"}},[r("el-input",{staticStyle:{width:"330px"},attrs:{readonly:""},model:{value:e.addForm.insuredAmount,callback:function(t){e.$set(e.addForm,"insuredAmount","string"==typeof t?t.trim():t)},expression:"addForm.insuredAmount"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"保费(元)",prop:"insurancePremium"}},[r("el-input",{staticStyle:{width:"350px"},model:{value:e.addForm.insurancePremium,callback:function(t){e.$set(e.addForm,"insurancePremium","string"==typeof t?t.trim():t)},expression:"addForm.insurancePremium"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"签单日期",prop:"insuredCreateTime"}},[r("el-date-picker",{staticStyle:{width:"330px"},attrs:{editable:!1,clearable:!1,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.addForm.insuredCreateTime,callback:function(t){e.$set(e.addForm,"insuredCreateTime",t)},expression:"addForm.insuredCreateTime"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"承保机构",prop:"insuranceUndertaker"}},[r("el-input",{staticStyle:{width:"350px"},model:{value:e.addForm.insuranceUndertaker,callback:function(t){e.$set(e.addForm,"insuranceUndertaker","string"==typeof t?t.trim():t)},expression:"addForm.insuranceUndertaker"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"投保人",prop:"insurer"}},[r("el-input",{staticStyle:{width:"330px"},model:{value:e.addForm.insurer,callback:function(t){e.$set(e.addForm,"insurer","string"==typeof t?t.trim():t)},expression:"addForm.insurer"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"被保险人",prop:"insurant"}},[r("el-input",{staticStyle:{width:"350px"},model:{value:e.addForm.insurant,callback:function(t){e.$set(e.addForm,"insurant","string"==typeof t?t.trim():t)},expression:"addForm.insurant"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"险别名称",prop:"pricesArr"}},[r("el-table",{ref:"feeTable",staticStyle:{width:"330px"},attrs:{border:"",stripe:"",data:e.common.tableData},on:{"selection-change":e.selectChange}},[r("el-table-column",{attrs:{type:"selection",width:"60"}}),r("el-table-column",{attrs:{label:"险种名称",prop:"typeName"}}),r("el-table-column",{attrs:{label:"保险金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticStyle:{width:"100px"},attrs:{disabled:t.row.disabled},model:{value:t.row.typePrice,callback:function(r){e.$set(t.row,"typePrice","string"==typeof r?r.trim():r)},expression:"scope.row.typePrice"}})]}}])})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系电话",prop:"telephone"}},[r("el-input",{staticStyle:{width:"350px"},model:{value:e.addForm.telephone,callback:function(t){e.$set(e.addForm,"telephone","string"==typeof t?t.trim():t)},expression:"addForm.telephone"}})],1)],1)],1),r("el-form-item",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")]),r("el-button",{on:{click:e.cancelDialog}},[e._v("取消")])],1)],1)],1)},[],!1,null,null,null).exports,f={inject:["store"],data:function(){return{SEtime:"",common:{enterpriseId:"",fleetId:""}}},created:function(){this.store.search.startTime&&(this.SEtime=[this.store.search.startTime,this.store.search.endTime])},methods:{cancelDialog:function(){this.$emit("update:visible",!1)},confirm:function(){this.$emit("update:refreshY",!0),this.$emit("update:visible",!1)}},watch:{SEtime:function(e){this.store.search.startTime=e?e[0]:"",this.store.search.endTime=e?e[1]:""}}},h=Object(l.a)(f,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",[r("el-form-item",{attrs:{"label-position":"top",label:"车牌号码"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{clearable:!0},model:{value:e.store.search.plateCode,callback:function(t){e.$set(e.store.search,"plateCode","string"==typeof t?t.trim():t)},expression:"store.search.plateCode"}})],1),r("el-form-item",{attrs:{"label-position":"top",label:"保单号"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{clearable:!0},model:{value:e.store.search.contractNo,callback:function(t){e.$set(e.store.search,"contractNo","string"==typeof t?t.trim():t)},expression:"store.search.contractNo"}})],1),r("el-form-item",{attrs:{"label-position":"top",label:"保险公司"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{clearable:!0},model:{value:e.store.search.insuranceCompany,callback:function(t){e.$set(e.store.search,"insuranceCompany","string"==typeof t?t.trim():t)},expression:"store.search.insuranceCompany"}})],1),r("el-form-item",{attrs:{"label-position":"top",label:"签单日期"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",clearable:!0,editable:!1,type:"daterange",placeholder:"选择时间范围"},model:{value:e.SEtime,callback:function(t){e.SEtime=t},expression:"SEtime"}})],1),r("el-form-item",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")]),r("el-button",{on:{click:e.cancelDialog}},[e._v("取消")])],1)],1)},[],!1,null,null,null).exports,b=r("e4d3"),g={name:"vehicleInsurance",components:{VehicleInsuranceNotice:c,VehicleInsuranceList:d,VehicleInsuranceAddmodify:p,VehicleInsuranceSearch:h},mixins:[s.a,b.a],data:function(){return{store:{search:{plateCode:"",contractNo:"",insuranceCompany:"",insuranceType:"",startTime:"",endTime:""},modify:{},type:null},tabs:{activeName:"tabs0",titles:["车险到期提醒","车险列表"]},dialog:{flag:!1,name:"",size:"",title:""},del:!1,editFlag:!1,refresh:!1,refreshY:!1,renewalFlag:!1,outPutParams:{}}},methods:Object(n.a)({},Object(i.b)(["findVehicleInsurancePage","queryCompanyInfoList"]),{add:function(){this.$service.mapParams(this.dialog,{flag:!0,title:"添加",size:"dialog-middle",name:"VehicleInsuranceAddmodify"}),this.store.modify={},this.store.type=null},search:function(){this.$service.mapParams(this.dialog,{flag:!0,title:"搜索",size:"dialog-tiny",name:"VehicleInsuranceSearch"})},outPut:function(){var e=this.$service.winParams(this.$COMMON.baseUrl+"/vehicleInsurance/exportVehicleInsuranceInfo",this.store.search);window.location.href=e}}),mounted:function(){this.$route.query.plateCode&&(this.store.search.plateCode=this.$route.query.plateCode,this.refresh=!0),this.staticTree()},watch:{"dialog.flag":function(e){e||(this.dialog.name="")},editFlag:function(e){e&&(this.$service.mapParams(this.dialog,{title:"修改",size:"dialog-middle",name:"VehicleInsuranceAddmodify",flag:!0}),this.editFlag=!1,this.store.type=1)},renewalFlag:function(e){e&&(this.$service.mapParams(this.dialog,{title:"续保",size:"dialog-middle",name:"VehicleInsuranceAddmodify",flag:!0}),this.renewalFlag=!1,this.store.type=2)},del:function(e){var t=this;this.confirmPrompt().then(function(){Object(a.a)(regeneratorRuntime.mark(function r(){var a,n,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("deleteVehicleInsuranceById",{id:e});case 2:a=r.sent,a.data,n=a.flag,i=a.errorCode,n?(t.$message.success({message:"删除成功"}),t.refreshY=!0):t.$message.error(t.$t("error."+i));case 7:case"end":return r.stop()}},r)}))()})},searchPs:function(e){this.$service.mapParams(this.searchP,this.searchPs),this.refresh=!0}}},y=(r("97e4"),Object(l.a)(g,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vehicleInsuranceManage"},[r("cv-content",[r("cv-tabs",{attrs:{titles:e.tabs.titles,forceRender:!1},model:{value:e.tabs.activeName,callback:function(t){e.$set(e.tabs,"activeName",t)},expression:"tabs.activeName"}},[r("vehicle-insurance-notice",{attrs:{refresh:e.refresh,renewal:e.store.modify,renewalFlag:e.renewalFlag},on:{"update:refresh":function(t){e.refresh=t},"update:renewal":function(t){return e.$set(e.store,"modify",t)},"update:renewalFlag":function(t){e.renewalFlag=t},"update:renewal-flag":function(t){e.renewalFlag=t}}}),r("vehicle-insurance-list",{attrs:{refreshY:e.refreshY,editData:e.store.modify,editFlag:e.editFlag,del:e.del},on:{"update:refreshY":function(t){e.refreshY=t},"update:refresh-y":function(t){e.refreshY=t},"update:editData":function(t){return e.$set(e.store,"modify",t)},"update:edit-data":function(t){return e.$set(e.store,"modify",t)},"update:editFlag":function(t){e.editFlag=t},"update:edit-flag":function(t){e.editFlag=t},"update:del":function(t){e.del=t},"power-export":e.outPut,"power-add":e.add,"power-search":e.search}})],1)],1),r("el-dialog",{attrs:{visible:e.dialog.flag,title:e.dialog.title,"custom-class":e.dialog.size},on:{"update:visible":function(t){return e.$set(e.dialog,"flag",t)}}},[r(e.dialog.name,{tag:"component",attrs:{visible:e.dialog.flag,refresh:e.refresh,refreshY:e.refreshY},on:{"update:visible":function(t){return e.$set(e.dialog,"flag",t)},"update:refresh":function(t){e.refresh=t},"update:refreshY":function(t){e.refreshY=t},"update:refresh-y":function(t){e.refreshY=t}}})],1)],1)},[],!1,null,null,null).exports);y.install=function(e){e.component(y.name,y)},t.default=y},8369:function(e,t,r){"use strict";var a=r("cebc");t.a={data:function(){return{table:{size:10,total:0,current:1,flag:!1,loading:!1,data:[]}}},methods:{tableLoading:function(e,t,r,n){var i=this;r?(this.table.flag=!0,this.table.current=1):this.table.flag=!1,this.table.loading=!0;var s=Object(a.a)({current:this.table.current,size:this.table.size},t);this.$http(n?{url:e,data:s}:{url:e,params:s}).then(function(e){var t=e.data;e.flag&&0!=t.length?(i.table.data=t.records,i.table.total=t.total,i.table.current=t.current):(i.table.data=[],i.table.total=0),i.table.loading=!1}).catch(function(e){i.table.loading=!1})},tableFilterColor:function(e){return this.$filter.plateCodeColor(e.plateColor)},tableFilterIcType:function(e){return this.$filter.icType(e.state)},tableFilterIcResult:function(e){return this.$filter.icResult(e.readerresult)},tableFilterTiredAlarm:function(e){return this.$filter.tiredAlarmType(e.alarm)},tableFilterTiredAdas:function(e){return this.$filter.tiredAdasType(e.alarm)},tableFilterOrderTypeS:function(e){return this.$filter.orderTypeS(e.sendFlag)},tableFilterFormat:function(e){return this.$filter.format(e.orderTime||e.gpsTime)},tableFilterFormats:function(e){return this.$filter.format(e.backTime)},tableBusLineType:function(e){return this.$filter.lineType(e.lineType)},tableFilterAcc:function(e){return this.$filter.accStatus(e.accStatus)},tableSplitMobile:function(e){return e.mobileCode?e.mobileCode.slice(1,e.mobileCode.length):""},tableConfirm:function(e){return this.$filter.isConfirm(e.isnotarize)},tableUpkeep:function(e){return this.$filter.isConfirm(e.type)},tableRenewal:function(e){return this.$filter.renewal(e.state)},tableReMot:function(e){return this.$filter.reMot(e.state)},tableOil:function(e){return this.$filter.fixNumber(e.total,2)},tableSex:function(e){return this.$filter.sex(e.sex)},plateCodeF:function(e){return e.plateCode?e.plateCode:"--"},plateCodeAndColor:function(e){return e.plateCode+"("+this.$filter.plateCodeColor(e.plateColor)+")"},driverStuas:function(e){return this.$filter.alarmStatus(e.fatigueDrive)},overStuas:function(e){return this.$filter.alarmStatus(e.tOversSpeed)},overHStuas:function(e){return this.$filter.alarmStatus(e.tOverSpeedH)},filterAlStuas:function(e){return this.$filter.alarmStatus(e.overSpeed)},filteralarmStuas:function(e){return this.$filter.alarmStatus(e.overSpeedH)},filterLStuas:function(e){return this.$filter.alarmStatus(e.forbid)},applyFlag:function(e){return this.$filter.applyFlag(e.applyFlag)},SEtime:function(e){return this.$filter.SEtime(e.StartTime,e.EndTime)},channelType:function(e){return this.$filter.channelType(e.Channel)},FileSize:function(e){return this.$filter.FileSize(e.fileSize||e.FileSize||0)},AlarmFilter:function(e){return this.$filter.AlarmFilter(e.Alarm)},MediaTypeFilter:function(e){return this.$filter.MediaTypeFilter(e.MediaType)},StreamTypeFilter:function(e){return this.$filter.StreamTypeFilter(e.StreamType)},StorageTypeFilter:function(e){return this.$filter.StorageTypeFilter(e.StorageType)},statusType:function(e){return this.$filter.statusType(e.Status)},fileSource:function(e){return this.$filter.fileSource(e.fileSource)}}}},"97e4":function(e,t,r){"use strict";var a=r("a8ac");r.n(a).a},a8ac:function(e,t,r){},b0ad:function(e,t,r){"use strict";(function(e){r("7f7f"),t.a={methods:{confirmPrompt:function(e,t){var r=this,a=e||this.$t("action.confirmIsRemove");return new Promise(function(e,n){r.$confirm(a,r.$t("action.tip"),{confirmButtonText:r.$t("action.confirm"),cancelButtonText:r.$t("action.cancel"),type:"warning"}).then(function(){e()}).catch(function(){"function"==typeof t&&t()})})},timeLimitFunc:function(e,t,r){if(e&&t)return((new Date(t)-new Date(e))/864e5).toFixed(1)<=r||this.$message.error({message:this.$t("请选择时间范围在"+r+"天内")});this.$message.error({message:this.$t("请选择时间范围")})},addRemoveUnique:function(e,t,r){var a=e.length,n=t.length;return n<a?{name:"add",data:this.$service.isUnique(e,t,r)}:a<n?{name:"remove",data:this.$service.isUnique(t,e,r)}:a==n?{name:"equal",data:this.$service.isUnique(e,t,r)}:void 0},showTooltip:function(e,t){var r=e.target,a=this.$refs[t];a.referenceElm=r,a.$refs.popper.style.display="none",a.doDestroy(),a.setExpectedState(!0),a.handleShowPopper()},mouseenterShowTip:function(e,t,r){var a=e.target;if(a.scrollWidth>a.offsetWidth||r)return this.showTooltip(e,t),r?r.startTime+"~"+r.endTime:a.innerText},mouseenterShowToolTip:function(e,t,r){var a=e.target;return this.showTooltip(e,t),!r&&a.innerText},mouseoverHideTip:function(e){var t=this.$refs[e];t&&(t.setExpectedState(!1),t.handleClosePopper())},asyncDownloadScript:function(t,r){var a=this,n=0<arguments.length&&void 0!==t?t:"Baidu",i=1<arguments.length?r:void 0;return e[n]?e[n]._preloader?e[n]._preloader:Promise.resolve(e[n]):(e[n]={},e[n]._preloader=new Promise(function(t,r){var s=document.createElement("script");s.src=i,e.document.body.appendChild(s),a.$service.isIe()&&a.$service.IE_VERSION<11?s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(t(e[n]),e[n]._preloader=null)}:s.onload=function(){t(e[n]),e[n]._preloader=null}}),e[n]._preloader)}}}}).call(this,r("c8ba"))},e4d3:function(e,t,r){"use strict";t.a={data:function(){return{store:{company_tree:[]}}},provide:function(){return{store:this.store}},methods:{staticTree:function(){var e=this;this.$http({url:"/enterprise/findEnterpriseOrganizationTreeList"}).then(function(t){var r=t.data,a=t.flag;e.store.company_tree=a?r:[]})},staticTreeOld:function(){var e=this;this.$http({url:"/enterprise/getEnterpriseTreeList"}).then(function(t){var r=t.data,a=t.flag;e.store.company_tree=a?r:[]})}}}}}]);