(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-36df8ff5"],{"3ad3":function(e,t,a){},8369:function(e,t,a){"use strict";var r=a("cebc");t.a={data:function(){return{table:{size:10,total:0,current:1,flag:!1,loading:!1,data:[]}}},methods:{tableLoading:function(e,t,a,i){var n=this;a?(this.table.flag=!0,this.table.current=1):this.table.flag=!1,this.table.loading=!0;var l=Object(r.a)({current:this.table.current,size:this.table.size},t);this.$http(i?{url:e,data:l}:{url:e,params:l}).then(function(e){var t=e.data;e.flag&&0!=t.length?(n.table.data=t.records,n.table.total=t.total,n.table.current=t.current):(n.table.data=[],n.table.total=0),n.table.loading=!1}).catch(function(e){n.table.loading=!1})},tableFilterColor:function(e){return this.$filter.plateCodeColor(e.plateColor)},tableFilterIcType:function(e){return this.$filter.icType(e.state)},tableFilterIcResult:function(e){return this.$filter.icResult(e.readerresult)},tableFilterTiredAlarm:function(e){return this.$filter.tiredAlarmType(e.alarm)},tableFilterTiredAdas:function(e){return this.$filter.tiredAdasType(e.alarm)},tableFilterOrderTypeS:function(e){return this.$filter.orderTypeS(e.sendFlag)},tableFilterFormat:function(e){return this.$filter.format(e.orderTime||e.gpsTime)},tableFilterFormats:function(e){return this.$filter.format(e.backTime)},tableBusLineType:function(e){return this.$filter.lineType(e.lineType)},tableFilterAcc:function(e){return this.$filter.accStatus(e.accStatus)},tableSplitMobile:function(e){return e.mobileCode?e.mobileCode.slice(1,e.mobileCode.length):""},tableConfirm:function(e){return this.$filter.isConfirm(e.isnotarize)},tableUpkeep:function(e){return this.$filter.isConfirm(e.type)},tableRenewal:function(e){return this.$filter.renewal(e.state)},tableReMot:function(e){return this.$filter.reMot(e.state)},tableOil:function(e){return this.$filter.fixNumber(e.total,2)},tableSex:function(e){return this.$filter.sex(e.sex)},plateCodeF:function(e){return e.plateCode?e.plateCode:"--"},plateCodeAndColor:function(e){return e.plateCode+"("+this.$filter.plateCodeColor(e.plateColor)+")"},driverStuas:function(e){return this.$filter.alarmStatus(e.fatigueDrive)},overStuas:function(e){return this.$filter.alarmStatus(e.tOversSpeed)},overHStuas:function(e){return this.$filter.alarmStatus(e.tOverSpeedH)},filterAlStuas:function(e){return this.$filter.alarmStatus(e.overSpeed)},filteralarmStuas:function(e){return this.$filter.alarmStatus(e.overSpeedH)},filterLStuas:function(e){return this.$filter.alarmStatus(e.forbid)},applyFlag:function(e){return this.$filter.applyFlag(e.applyFlag)},SEtime:function(e){return this.$filter.SEtime(e.StartTime,e.EndTime)},channelType:function(e){return this.$filter.channelType(e.Channel)},FileSize:function(e){return this.$filter.FileSize(e.fileSize||e.FileSize||0)},AlarmFilter:function(e){return this.$filter.AlarmFilter(e.Alarm)},MediaTypeFilter:function(e){return this.$filter.MediaTypeFilter(e.MediaType)},StreamTypeFilter:function(e){return this.$filter.StreamTypeFilter(e.StreamType)},StorageTypeFilter:function(e){return this.$filter.StorageTypeFilter(e.StorageType)},statusType:function(e){return this.$filter.statusType(e.Status)},fileSource:function(e){return this.$filter.fileSource(e.fileSource)}}}},b0ad:function(e,t,a){"use strict";(function(e){a("7f7f"),t.a={methods:{confirmPrompt:function(e,t){var a=this,r=e||this.$t("action.confirmIsRemove");return new Promise(function(e,i){a.$confirm(r,a.$t("action.tip"),{confirmButtonText:a.$t("action.confirm"),cancelButtonText:a.$t("action.cancel"),type:"warning"}).then(function(){e()}).catch(function(){"function"==typeof t&&t()})})},timeLimitFunc:function(e,t,a){if(e&&t)return((new Date(t)-new Date(e))/864e5).toFixed(1)<=a||this.$message.error({message:this.$t("请选择时间范围在"+a+"天内")});this.$message.error({message:this.$t("请选择时间范围")})},addRemoveUnique:function(e,t,a){var r=e.length,i=t.length;return i<r?{name:"add",data:this.$service.isUnique(e,t,a)}:r<i?{name:"remove",data:this.$service.isUnique(t,e,a)}:r==i?{name:"equal",data:this.$service.isUnique(e,t,a)}:void 0},showTooltip:function(e,t){var a=e.target,r=this.$refs[t];r.referenceElm=a,r.$refs.popper.style.display="none",r.doDestroy(),r.setExpectedState(!0),r.handleShowPopper()},mouseenterShowTip:function(e,t,a){var r=e.target;if(r.scrollWidth>r.offsetWidth||a)return this.showTooltip(e,t),a?a.startTime+"~"+a.endTime:r.innerText},mouseenterShowToolTip:function(e,t,a){var r=e.target;return this.showTooltip(e,t),!a&&r.innerText},mouseoverHideTip:function(e){var t=this.$refs[e];t&&(t.setExpectedState(!1),t.handleClosePopper())},asyncDownloadScript:function(t,a){var r=this,i=0<arguments.length&&void 0!==t?t:"Baidu",n=1<arguments.length?a:void 0;return e[i]?e[i]._preloader?e[i]._preloader:Promise.resolve(e[i]):(e[i]={},e[i]._preloader=new Promise(function(t,a){var l=document.createElement("script");l.src=n,e.document.body.appendChild(l),r.$service.isIe()&&r.$service.IE_VERSION<11?l.onreadystatechange=function(){"loaded"!=l.readyState&&"complete"!=l.readyState||(t(e[i]),e[i]._preloader=null)}:l.onload=function(){t(e[i]),e[i]._preloader=null}}),e[i]._preloader)}}}}).call(this,a("c8ba"))},cc2c:function(e,t,a){"use strict";var r=a("3ad3");a.n(r).a},da6f:function(e,t,a){"use strict";a.r(t),a("386d");var r,i,n=a("cebc"),l=a("8369"),s=a("2f62"),o=(a("96cf"),a("3b8d")),c=a("b0ad"),u={props:{params:{}},data:function(){return{}},mixins:[l.a,c.a],methods:Object(n.a)({},Object(s.b)(["sendVedioQueryResouceStore","sendVedioFileUploadSiteT"]),{load:(i=Object(o.a)(regeneratorRuntime.mark(function e(t){var a,r,i,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendVedioQueryResouceStore(t);case 2:a=e.sent,r=a.flag,i=a.data,r||this.$message.error({message:this.$t("error."+i.errorCode)}),r&&setTimeout(function(){n.tableLoading("/videoController/getTerminalUpVideofileDetailsLog",{orderId:i},!0)},5e3);case 7:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),filterStore:function(e){return this.$filter.storeType(e.STORAGETYPE)},filterMedia:function(e){return this.$filter.mediaSType(e.MEDIATYPE)},filterSteram:function(e){return this.$filter.streamType(e.STREAMTYPE)},startTime:function(e){return this.$filter.format(e.STARTTIME,"yyyy-MM-dd HH:mm:ss")},endTime:function(e){return this.$filter.format(e.ENDTIME,"yyyy-MM-dd HH:mm:ss")},onload:(r=Object(o.a)(regeneratorRuntime.mark(function e(t){var a,r,i,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={vehicleId:this.params.vehicleId,enterpriseId:this.params.enterpriseId,Channel:this.params.Channel,StartTime:this.$filter.format(t.row.STARTTIME,"yyyy-MM-dd HH:mm:ss"),EndTime:this.$filter.format(t.row.ENDTIME,"yyyy-MM-dd HH:mm:ss"),Alarm:this.params.ALARMFLAG,MediaType:t.row.MEDIATYPE,StreamType:t.row.STREAMTYPE,StorageType:t.row.STORAGETYPE,taskExecutionConditionStr:this.params.taskExecutionConditionStr},e.next=3,this.sendVedioFileUploadSiteT(a);case 3:r=e.sent,i=r.flag,n=r.data,i||this.$message.error({message:this.$t("error."+n.errorCode)}),i&&this.$message("数据上传成功");case 8:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}),watch:{params:function(e){e&&this.load(e)}}},m=a("2877"),d=Object(m.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"trem"},[a("cv-grid",{staticClass:"table",attrs:{options:e.table},on:{load:function(t){return e.load(!1)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"doubleTable",staticClass:"doubleTable",attrs:{border:"",stripe:"",data:e.table.data}},[a("el-table-column",{attrs:{label:"开始时间",prop:"STARTTIME",formatter:e.startTime}}),a("el-table-column",{attrs:{label:"结束时间",prop:"ENDTIME",formatter:e.endTime}}),a("el-table-column",{attrs:{label:"通道号",prop:"CHANNELNO"}}),a("el-table-column",{attrs:{label:"音视频类型",prop:"MEDIATYPE",formatter:e.filterMedia}}),a("el-table-column",{attrs:{label:"码流类型",prop:"STREAMTYPE",formatter:e.filterSteram}}),a("el-table-column",{attrs:{label:"存储器类型",prop:"STORAGETYPE",formatter:e.filterStore}}),a("el-table-column",{attrs:{label:e.$t("action.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cv-span",{attrs:{type:"danger"},nativeOn:{click:function(a){return e.onload(t)}}},[e._v("上传")])]}}])})],1)],1)],1)},[],!1,null,null,null).exports,f={data:function(){return{}},mixins:[l.a],methods:{load:function(e,t){var a=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t&&t;this.tableLoading("",a,r)}},created:function(){}},p={components:{termainl:d,list:Object(m.a)(f,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"trem"},[a("cv-grid",{staticClass:"table",attrs:{options:e.table},on:{load:function(t){return e.load(!1)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"doubleTable",staticClass:"doubleTable",attrs:{border:"",stripe:"",data:e.table.data}},[a("el-table-column",{attrs:{label:"车牌号","min-width":"196",prop:"startTime"}}),a("el-table-column",{attrs:{label:"通道","min-width":"196",prop:"endTime"}}),a("el-table-column",{attrs:{label:"时间","min-width":"154",prop:"keepTime"}}),a("el-table-column",{attrs:{label:e.$t("action.operation")},scopedSlots:e._u([{key:"default",fn:function(e){}}])})],1)],1)],1)},[],!1,null,null,null).exports},computed:{tabs_0:function(){return this.$refs.termainl},tabs_1:function(){return this.$refs.list}},mixins:[l.a],data:function(){return{MediaType:"",alarmLists:[{key:"0",name:"音视频"},{key:"1",name:"音频"},{key:"2",name:"视频"},{key:"3",name:"视频或音视频"}],StreamType:"",streamLists:[{key:"0",name:"主码流或子码流"},{key:"1",name:"主码流"},{key:"2",name:"子码流"}],StorageType:"",storageLists:[{key:"0",name:"主存储器或灾备存储器"},{key:"1",name:"主存储器"},{key:"2",name:"灾备存储器"}],TaskExecutionCondition:[],TaskExecutionLists:[{key:"1",name:"WIFI"},{key:"2",name:"LAN"},{key:"4",name:"3G/4G"}],chanelType:"",chanelLists:[{key:"1",name:"CH1"},{key:"2",name:"CH2"},{key:"3",name:"CH3"},{key:"4",name:"CH4"},{key:"5",name:"CH5"},{key:"6",name:"CH6"}],alarmType:[],typeLists:[],tabs:{activeName:"tabs0",titles:["设备","存储中心"]},params:{},search:{searchTime:"",vehicleId:"",time:[]},pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()}}}},methods:Object(n.a)({},Object(s.b)(["getAlarmTypeList"]),{searchData:function(){return this.params={Channel:this.chanelType,StartTime:this.search.time[0]/1e3,EndTime:this.search.time[1]/1e3,Alarm:this.alarmType.join(","),MediaType:this.MediaType,StreamType:this.StreamType,StorageType:this.StorageType,vehicleId:this.search.vehicleId,enterpriseId:this.$store.getters.user.enterpriseId,taskExecutionConditionStr:this.TaskExecutionCondition.join(",")}}}),watch:{"$store.getters.ptSingleCar":function(e){this.search.vehicleId=e.id}},created:function(){var e=this;this.getAlarmTypeList().then(function(t){for(var a in t.data)e.typeLists.push({key:t.data[a],name:a})})}},h=(a("cc2c"),Object(m.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"behavior"},[a("cv-header",[a("el-form-item",{attrs:{label:"时间选择:"}},[a("el-date-picker",{staticStyle:{width:"270px"},attrs:{size:"small",type:"datetimerange","picker-options":e.pickerOptions0,"value-format":"timestamp",clearable:!1},model:{value:e.search.time,callback:function(t){e.$set(e.search,"time",t)},expression:"search.time"}})],1),a("el-form-item",{attrs:{label:"存储器类型:"}},[a("el-select",{model:{value:e.StorageType,callback:function(t){e.StorageType=t},expression:"StorageType"}},e._l(e.storageLists,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"音视频资源类型:"}},[a("el-select",{staticStyle:{width:"150px"},model:{value:e.MediaType,callback:function(t){e.MediaType=t},expression:"MediaType"}},e._l(e.alarmLists,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"码流类型:"}},[a("el-select",{model:{value:e.StreamType,callback:function(t){e.StreamType=t},expression:"StreamType"}},e._l(e.streamLists,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"报警标志:"}},[a("el-select",{staticStyle:{width:"270px"},attrs:{multiple:"","collapse-tags":""},model:{value:e.alarmType,callback:function(t){e.alarmType=t},expression:"alarmType"}},e._l(e.typeLists,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"任务执行条件:"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{multiple:"","collapse-tags":""},model:{value:e.TaskExecutionCondition,callback:function(t){e.TaskExecutionCondition=t},expression:"TaskExecutionCondition"}},e._l(e.TaskExecutionLists,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.name}})}),1)],1),a("el-form-item",{attrs:{label:"通道:"}},[a("el-select",{model:{value:e.chanelType,callback:function(t){e.chanelType=t},expression:"chanelType"}},e._l(e.chanelLists,function(e){return a("el-option",{key:e.key,attrs:{value:e.key,label:e.name}})}),1)],1),a("el-form-item",{staticStyle:{float:"right"}},[a("cv-tool",{staticStyle:{margin:"0px"},attrs:{name:e.$route.name,data:e.$store.getters.monitorMenu,"is-modify":!1,"is-remove":!1,"is-add":!1},on:{search:e.searchData}})],1)],1),a("cv-content",{attrs:{fill:!1}},[a("cv-tabs",{attrs:{titles:e.tabs.titles,forceRender:!1},model:{value:e.tabs.activeName,callback:function(t){e.$set(e.tabs,"activeName",t)},expression:"tabs.activeName"}},[a("termainl",{ref:"termainl",attrs:{params:e.params}}),a("list",{ref:"list"})],1)],1)],1)},[],!1,null,null,null).exports);t.default=h}}]);