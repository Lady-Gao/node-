(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6b6ff088"],{"190b":function(e,t,a){"use strict";(function(e){a("ac6a"),a("28a5"),t.a={data:function(){return{searchDate:null,startTime:null,endTime:null,progressTime:0,totalTime:0,reTime:0,firstStep:!0,secondStep:!1,secondStep1:!1,thirdStep:!1,timer:null,checkedReview:null,progress:0,radioFlag:!1,searchFlag:!1,cameraFlag:!1,clarityFlag:!1,openSound:"打开声音",soundFlag:1,rtvFlag:!1,timePoint:null,checkedVideo:"",pauseOrNot:"暂停",pauseFlag:1,playFlag:!1,rList:[],listData:new Date,videoData:null,activeName:"realTimeVideo",CameraSelect:"0",claritySelect:"0",Camera:[{value:"0",label:"全部"},{value:"1",label:"摄像头1"},{value:"2",label:"摄像头2"},{value:"3",label:"摄像头3"},{value:"4",label:"摄像头4"}],clarity:[{value:"0",label:"高清"},{value:"1",label:"普清"}],speedSelect:[{label:"×1",value:1},{label:"×2",value:2},{label:"×4",value:4},{label:"×8",value:8},{label:"×16",value:16},{label:"×32",value:32},{label:"×-2",value:-2},{label:"×-4",value:-4},{label:"×-8",value:-8},{label:"×-16",value:-16},{label:"×-32",value:-32}],speedS:1}},methods:{getVideoDom:function(e){return document.getElementById(e)},initVideo:function(e){for(var t=1;t<5;t++)this.getVideoDom("object"+t).SetDeviceInfo2(121,e.dvrId,e.ip),this.getVideoDom("object"+t).SetReconnect(1)},openVideo:function(){if(0==this.CameraSelect)for(var e=1;e<5;e++)this.getVideoDom("object"+e).OpenVideo(e-1);else this.getVideoDom("object"+this.CameraSelect).OpenVideo(this.CameraSelect-1);this.rtvFlag=!0,this.cameraFlag=!0,this.clarityFlag=!0},stopVideo:function(){for(var e=1;e<5;e++)this.getVideoDom("object"+e).CloseVideo();this.rtvFlag=!1,this.cameraFlag=!1,this.clarityFlag=!1},getPic:function(){if(!this.rtvFlag)return this.$message.error(this.$t("请先开启视频")),!1;if(0==this.CameraSelect)for(var e=1;e<5;e++)this.getVideoDom("object"+e).CapturePic("",0);else this.getVideoDom("object"+this.CameraSelect).CapturePic("",0)},openSounds:function(){if(!this.rtvFlag)return this.$message.error(this.$t("请先开启视频")),!1;0==this.CameraSelect?this.$message.error(this.$t("只能开启单个摄像头开启声音")):1==this.soundFlag?0==this.getVideoDom("object"+this.CameraSelect).SetEnableSound(this.soundFlag)&&(this.openSound="关闭声音",this.soundFlag=0):0==this.getVideoDom("object"+this.CameraSelect).SetEnableSound(this.soundFlag)&&(this.openSound="打开声音",this.soundFlag=1)},searchList:function(){return this.startTime&&this.endTime&&this.searchDate?this.$filter.timeStamp(this.searchDate+" "+this.endTime)-this.$filter.timeStamp(this.searchDate+" "+this.startTime)<0?(this.$message.warning("开始时间不能大于结束时间"),!1):(parseInt(this.searchDate.split("-")[0]),parseInt(this.searchDate.split("-")[1]),parseInt(this.searchDate.split("-")[2]),parseInt(this.startTime.split(":")[0]),parseInt(this.startTime.split(":")[1]),parseInt(this.startTime.split(":")[2]),parseInt(this.endTime.split(":")[0]),parseInt(this.endTime.split(":")[1]),parseInt(this.endTime.split(":")[2]),this.listData?(this.rList=[],this.searchFlag=!0,this.getVideoDom("object5").SetDeviceInfo2(121,this.videoData.dvrId,this.videoData.ip),0!=object5.SetRegIP(this.videoData.ip)?(this.$message.warning("查询失败，请联系管理员检查设备和配置是否正常"),!1):void 0):(this.secondStep1=!0,!(this.rList=[]))):(this.$message.warning("请选择时间"),!1)},change:function(e){var t=this;this.rList.forEach(function(a){a.index==e&&(t.timePoint=t.$filter.format(t.listData,"yyyy-MM-dd").split("-").join("")+a.st.split(":").join(""),t.checkedReview=a)})},play:function(){this.timePoint?0==this.getVideoDom("object5").MPlayOpen(1,this.timePoint,15)?this.playFlag=!0:this.playFlag=!1:this.$message.error(this.$t("请选择要回放的视频")),this.radioFlag=!0},stop:function(){0==this.getVideoDom("object5").MPlayClose()?this.playFlag=!1:this.playFlag=!0,this.radioFlag=!1},pause:function(){1==this.pauseFlag?0==this.getVideoDom("object5").PlayPause(this.pauseFlag)&&(this.pauseFlag=0,this.pauseOrNot="播放"):0==this.getVideoDom("object5").PlayPause(this.pauseFlag)&&(this.pauseFlag=1,this.pauseOrNot="暂停")},speedChange:function(e){this.getVideoDom("object5").PlaySetSpeed(e)}},created:function(){[{target:"object1",event:"OnDoubleClick(x,y)",inContext:"object1.FullScreen()"},{target:"object2",event:"OnDoubleClick(x,y)",inContext:"object2.FullScreen()"},{target:"object3",event:"OnDoubleClick(x,y)",inContext:"object3.FullScreen()"},{target:"object4",event:"OnDoubleClick(x,y)",inContext:"object4.FullScreen()"}].forEach(function(t){var a=document.createElement("script");a.setAttribute("for",t.target),a.type="text/javascript",a.event=t.event,a.textContent=t.inContext,e.document.body.appendChild(a)})},mounted:function(){var e=this;this.videoData=JSON.parse(localStorage.getItem("VideologinData")),setTimeout(function(){e.initVideo(e.videoData)},2e3)}}}).call(this,a("c8ba"))},1913:function(e,t,a){},6476:function(e,t,a){"use strict";a.r(t);var i=a("190b").a,l=(a("8c2b"),a("2877")),s=Object(l.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"RMvideo"},[e.$service.isIe()?e._e():a("div",{staticStyle:{height:"200px","line-height":"200px","text-align":"center","font-size":"24px"}},[e._v("\n        该视频播放只支持IE浏览器，请用IE浏览器打开!\n    ")]),e.$service.isIe()?a("div",{staticStyle:{"text-align":"center","margin-top":"5px"}},[a("a",{staticStyle:{color:"red"},attrs:{href:"http://lib.cvtsp.com/video/Netvideo.exe"}},[e._v("如果视频窗口显示不正常，请先下载视频控件！")]),e._v("  \n        ")]):e._e(),e.$service.isIe()?a("cv-content",[a("el-tabs",{staticClass:"tabContent",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"实时视频播放",name:"realTimeVideo"}},[a("div",{staticClass:"controlPanel"},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"摄像头"}},[a("el-select",{attrs:{disabled:e.cameraFlag},model:{value:e.CameraSelect,callback:function(t){e.CameraSelect=t},expression:"CameraSelect"}},e._l(e.Camera,function(e){return a("el-option",{key:e._id,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"清晰度"}},[a("el-select",{attrs:{disabled:e.clarityFlag},model:{value:e.claritySelect,callback:function(t){e.claritySelect=t},expression:"claritySelect"}},e._l(e.clarity,function(e){return a("el-option",{key:e._id,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("div",{staticClass:"btnGroupOne"},[a("el-button",{attrs:{type:"primary"},on:{click:e.getPic}},[e._v("抓图")]),a("el-button",{attrs:{type:"primary",disabled:""},on:{click:e.openSounds}},[e._v(e._s(e.openSound))])],1),a("div",{staticClass:"btnGroupTwo"},[a("el-button",{attrs:{disabled:e.rtvFlag,type:"primary"},on:{click:e.openVideo}},[e._v("打开视频")]),a("el-button",{attrs:{type:"primary"},on:{click:e.stopVideo}},[e._v("关闭视频")])],1)],1),a("div",{staticClass:"videoWindow"},[a("div",{staticClass:"up"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"line-height":"16px"}},[e._v("窗口1")])]),a("object",{attrs:{id:"object1",classid:"clsid:E24D8362-0622-4D15-94AA-2E83A6616EAC",width:"350",height:"230"}})]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"line-height":"16px"}},[e._v("窗口2")])]),a("object",{attrs:{id:"object2",classid:"clsid:E24D8362-0622-4D15-94AA-2E83A6616EAC",width:"350",height:"230"}})])],1),a("div",{staticClass:"down"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"line-height":"16px"}},[e._v("窗口3")])]),a("object",{attrs:{id:"object3",classid:"clsid:E24D8362-0622-4D15-94AA-2E83A6616EAC",width:"350",height:"230"}})]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"line-height":"16px"}},[e._v("窗口4")])]),a("object",{attrs:{id:"object4",classid:"clsid:E24D8362-0622-4D15-94AA-2E83A6616EAC",width:"350",height:"230"}})])],1)])]),a("el-tab-pane",{attrs:{disabled:"",label:"视频回放",name:"playBack"}},[a("div",{staticClass:"controlPanel"},[a("el-form",{staticStyle:{"margin-bottom":"0px","text-align":"left","margin-left":"5px"}},[a("el-form-item",[a("el-date-picker",{attrs:{placeholder:"日期选择",type:"date","value-format":"yyyy-MM-dd"},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),a("el-form-item",[a("el-time-picker",{attrs:{placeholder:"开始时间","value-format":"HH:mm:ss"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),a("el-form-item",[a("el-time-picker",{attrs:{placeholder:"结束时间","value-format":"HH:mm:ss"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{loading:e.searchFlag},on:{click:e.searchList}},[e._v("查询")])],1)],1),a("cv-scrollbar",{staticClass:"listContent",staticStyle:{height:"337px","border-top":"1px solid #ccc",padding:"10px 0","text-align":"center"}},[e.firstStep?a("div",{staticStyle:{heigth:"335px","line-height":"335px","font-size":"24px"}},[e._v("请选择日期查询获取回放列表！")]):e._e(),e.secondStep?a("div",{staticStyle:{heigth:"335px","line-height":"335px","font-size":"24px"}},[e._v("查询日期无回放列表！")]):e._e(),e.secondStep1?a("div",{staticStyle:{heigth:"335px","line-height":"335px","font-size":"24px"}},[e._v("请选择查询日期！")]):e._e(),e.thirdStep?a("el-radio-group",{staticStyle:{width:"300px","text-align":"left"},attrs:{disabled:e.radioFlag},on:{change:e.change},model:{value:e.checkedVideo,callback:function(t){e.checkedVideo=t},expression:"checkedVideo"}},e._l(e.rList,function(t){return a("el-radio",{key:t._id,ref:"radioBoxes",refInFor:!0,attrs:{label:t.index,"data-st":t.st,"data-et":t.et}},[e._v(e._s(t.filelasts))])}),1):e._e()],1),a("div",{staticClass:"btnGroupReview"},[a("el-button-group",[a("el-button",{attrs:{disabled:e.playFlag,type:"primary"},on:{click:e.play}},[e._v("回放")]),a("el-button",{attrs:{type:"primary"},on:{click:e.pause}},[e._v(e._s(e.pauseOrNot))]),a("el-button",{attrs:{type:"primary"},on:{click:e.stop}},[e._v("停止")])],1),a("span",[e._v("选择倍速：")]),a("el-select",{staticStyle:{width:"80px","vertical-align":"middle"},on:{change:e.speedChange},model:{value:e.speedS,callback:function(t){e.speedS=t},expression:"speedS"}},e._l(e.speedSelect,function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("div",{staticClass:"videoWindow"},[a("div",{staticClass:"one"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"line-height":"14px"}},[e._v("视频回放")])]),a("object",{attrs:{id:"object5",classid:"clsid:E24D8362-0622-4D15-94AA-2E83A6616EAC",width:"686",height:"512"}})])],1)])])],1)],1):e._e()],1)},[],!1,null,null,null);t.default=s.exports},"8c2b":function(e,t,a){"use strict";var i=a("1913");a.n(i).a}}]);