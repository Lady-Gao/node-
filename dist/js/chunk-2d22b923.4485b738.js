(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d22b923"],{f014:function(t,a,i){"use strict";i.r(a),i("ac6a"),i("c5f6");var n=i("cebc"),e=i("2f62"),s={computed:Object(n.a)({},Object(e.c)(["mapName"])),data:function(){return{resultData:null,gpsData:null,carMarker:null,lineArr:[],inforMarker:null,movingCurrent:-1}},methods:{RunPath:function(){var t=this,a=this,i=this.gpsData.map(function(t){return{lng:Number(t.mapLongitude),lat:Number(t.mapLatitude)}});i.forEach(function(a){t.lineArr.push(t.$refs.map.mapMethods.point(a))}),this.$refs.map.mapMethods.mapAddline(i,{strokeWeight:3}),this.carMarker=this.$refs.map.mapMethods.mapAddpoint({longitude:Number(i[0].lng),latitude:Number(i[0].lat)},"https://webapi.amap.com/images/car.png",{width:36,height:36}),this.carMarker.on("moving",function(t){a.movingCurrent=t.passedPath.length;var i=a.context(a.gpsData[t.passedPath.length]);a.inforMarker=a.$refs.map.mapMethods.infoWindow(i,a.carMarker)}),setTimeout(function(){t.carMarker.moveAlong(t.lineArr,1e3)},2e3)},context:function(t){var a="<style>.BMap_pop{margin-left:5px;margin-top: 1px;visibility: visible !important;}.BMap_shadow{display:none}}</style><div style=\"margin-top: 0;margin-bottom: 0;width:360px;height:180px;overflow:hidden;font-family: 'simsun';font-size: 14px;font-weight: bold;color: #333;\">"+"<div><span style='color: #333;font-weight: bold;'>".concat(this.$t("cvtsp.plateCode"),":</span>--</div>")+"<div><span style=\"display:inline-block;margin: 5px 10px 5px 0px;width: 185px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.gpsTime"),":</span>").concat(this.$filter.format(t.gpsTime,"yyyy-MM-dd HH:mm:ss"),"</span>")+"<span style=\"display:inline-block;margin: 5px 0px;width: 150px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.orientation"),":</span>").concat(this.$filter.direction(t.direction),"</span>")+"</div><div><span style=\"display:inline-block;margin: 5px 10px 5px 0px;width: 185px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.altiTude"),":</span>").concat(t.high,"(m)</span>")+"<span style=\"display:inline-block;margin: 5px 0px;width: 150px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.mileage"),":</span>").concat(t.mileage,"(km)</span>")+"</div><div><span style=\"display:inline-block;margin: 5px 10px 5px 0px;width: 185px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.speed"),":</span>").concat(t.dspeed,"(km/h)</span>")+"<span style=\"display:inline-block;margin: 5px 0px;width: 150px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.gpsSpeed"),":</span>").concat(t.gpsSpeed,"(km/h)</span>")+"</div><div><span style=\"display:inline-block;margin: 5px 10px 5px 0px;width: 185px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.longitude"),":</span>").concat(this.$filter.toFixed(t.mapLongitude,6),"</span>")+"<span style=\"display:inline-block;margin: 5px 0px;width: 130px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.latitude"),":</span>").concat(this.$filter.toFixed(t.mapLatitude,6),"</span></div>")+"<div style=\"margin-top: 6px;font-size: 12px;font-weight: normal;color: #666;\"><span class='titleName'>".concat(this.$t("historyTrack.location"),":</span>").concat(t.locationDesc," </div></div>");return a}},mounted:function(){var t=this;this.$http({url:"/vtrack/findDailyMileage.do",params:{vehicleId:"4894814874035301",startTime:"2018-10-09 00:00:00",endTime:"2018-10-09 09:45:34",isCompress:!1,isAllLocations:!1,mapType:3,trackType:0}}).then(function(a){t.resultData=JSON.parse(a.data),t.gpsData=JSON.parse(t.resultData.listAll)})},watch:{movingCurrent:function(t){this.$refs.map.mapMethods.cvOpenInfoWindow(this.inforMarker,this.lineArr[t-1])}}},o=i("2877"),p=Object(o.a)(s,function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticStyle:{height:"100%"}},[i("el-button",{staticStyle:{position:"absolute",top:"0",right:"10px","z-index":"2"},on:{click:t.RunPath}},[t._v("Run")]),i(t.mapName,{ref:"map",tag:"component",staticStyle:{height:"100%"}})],1)},[],!1,null,null,null).exports;a.default=p}}]);